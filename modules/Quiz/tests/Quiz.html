<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quiz Demo</title>
    <script type="text/javascript" src="../../../tests/qunit/qunit-bootstrap.js"></script>
    <script type="text/javascript" src="../../../mwEmbedLoader.php"></script>
    <script type="text/javascript" src="../../../docs/js/doc-bootstrap.js"></script>
    <script>mw.setConfig('forceMobileHTML5', true);</script>
</head>
<body style="padding-left: 5px">
<h1>Quiz Demo</h1>
<!--<script src="http://dev-backend8.dev.kaltura.com:80/p/102/sp/10200/embedIframeJs/uiconf_id/23448178/partner_id/102"></script>-->
<select id="selectLang">
    <option>Choose a language</option>
</select>
<br>
<div id="kaltura_player_1434365991" style="width: 685px; height: 330px;float: left;"></div>


<script>
	var _this = this;
	var langArr = [
		{l: "English", c: "en"},
		{l: "French", c: "fr"},
		{l: "German", c: "de"},
		{l: "Japanese", c: "ja"},
		{l: "Dutch", c: "nl"},
		{l: "Portuguese", c: "pt"},
		{l: "Russian", c: "ru"},
		{l: "Chinese", c: "zh"}
	];

	var select = document.getElementById("selectLang");


	for (var i = 0; i < langArr.length; i++) {
		var opt = langArr[i];
		var el = document.createElement("option");
		el.textContent = opt.l;
		el.value = opt.c;
		select.appendChild(el);
	}

	var player;

	kWidget.addReadyCallback(function(playerId){
		player = $('#' + playerId)[0];
	});

	var reload = function (){
		var l = $("#selectLang").val();
        kWidget.destroy('kaltura_player_1434365991');
		kWidget.embed({
			'width': '690',
			'height': '419',
			'targetId': 'kaltura_player_1434365991',
			'wid': '_27017',
			'uiconf_id': '39666321',
			'flashvars': {
				"ks" : "djJ8MjcwMTd8Uh_c_gv_I2tQEm8QvCwcz72SiuMjJgR7cVGERLL6aE78RMrKFrXgi6YrIZPjavlWTazlrubFkseZSFTBLKpgc0A-Ak1k2AwfTyuHVoOP1VcTdVNdVryzLEm1NGoztTTGdDIFRAWjdhO5ns-pKAic-8rj_8Npl_lcx54TNq8ITRBWHLc2NvH8nWq0cZQ9-npmuehf0SS5iiDgXEhe0Idwzntjoj993Dt4ujl_lAM0gjR-Lu5LgvoVFoTxPFCV1YagBWAARLqilCYfICo4yMZ5p581SGqWYlhwlPk0jQ0tAVWq64esW5kvUlspopOowpk7T4HPJ__V79XhU4_e0ye-0uF02qprLxXgHnLpmnLI7KoU_re_iqfPepUrJ28HuKPbepAkSc1V4P0A4H97IIdGQTmm2MQNcx-MDKxONUUsF4F-YdFktTRjDOGNsdtQKh3ppOUEVJkF8IDawHvWCLCvtwNHtEwm6-u7BYqW6ZNnWMoyuadrXJABcxBdwM6-cUfa",
				"localizationCode": l,
				'autoPlay': true,
				'quiz': {
					'plugin': true
				},
				'controlBarContainer': {
					'plugin': true,
					"hover": false
				},
				'streamerType': 'auto',
			},

			'entry_id': '1_gb3f3kid' 

		});
	}
	$("#selectLang").change($.proxy(reload , _this) );
	
	reload();
	
	var changeMedia = function(media){
		player.sendNotification('changeMedia', {'entryId' : media });
	}
	 // 1_a17bz0uy // 1_gb3f3kid

</script>
<button onclick="changeMedia('1_a17bz0uy')">Change media to 1_gb3f3kid</button>

</body>
</html>