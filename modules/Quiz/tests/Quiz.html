<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quiz Demo</title>
    <script type="text/javascript" src="../../../tests/qunit/qunit-bootstrap.js"></script>
    <script type="text/javascript" src="../../../mwEmbedLoader.php"></script>
    <script type="text/javascript" src="../../../docs/js/doc-bootstrap.js"></script>
    <script>mw.setConfig('forceMobileHTML5', true);</script>
</head>
<body style="padding-left: 5px">
<h1>Quiz Demo</h1>
<!--<script src="http://dev-backend8.dev.kaltura.com:80/p/102/sp/10200/embedIframeJs/uiconf_id/23448178/partner_id/102"></script>-->
<select id="selectLang">
    <option>Choose a language</option>
</select>
<br>
<div id="kaltura_player_1434365991" style="width: 618px; height: 378px;float: left;"></div>


<script>
	var _this = this;
	var langArr = [
		{l: "English", c: "en"},
		{l: "French", c: "fr"},
		{l: "German", c: "de"},
		{l: "Japanese", c: "ja"},
		{l: "Dutch", c: "nl"},
		{l: "Portuguese", c: "pt"},
		{l: "Russian", c: "ru"},
		{l: "Chinese", c: "zh"}
	];

	var select = document.getElementById("selectLang");


	for (var i = 0; i < langArr.length; i++) {
		var opt = langArr[i];
		var el = document.createElement("option");
		el.textContent = opt.l;
		el.value = opt.c;
		select.appendChild(el);
	}

	var player;

	kWidget.addReadyCallback(function(playerId){
		player = $('#' + playerId)[0];
	});

	var reload = function (){
		var l = $("#selectLang").val();
        kWidget.destroy('kaltura_player_1434365991');
		kWidget.embed({
			'width': '618',
			'height': '378',
			'targetId': 'kaltura_player_1434365991',
			// 'wid': '_27017',
			'wid': '_142',
			'uiconf_id': '23448302',
			'flashvars': {
				 "ks" : "MjdkYjQzNjUxYzdhYjMxZGIzMWY1ZDg1NjVjMzNmYzM5OGQwODMwM3wxNDI7MTQyOzE1NTEyNzUxMTc7MjsxNTUxMTg4NzE3LjE3MjtyYXZpdC5zaGFsZW1Aa2FsdHVyYS5jb207KixkaXNhYmxlZW50aXRsZW1lbnQ7Ow==",
				"localizationCode": l,
				'autoPlay': true,
				'quiz': {
					'plugin': true
				},
				'controlBarContainer': {
					'plugin': true,
					"hover": false
				},
				'streamerType': 'auto',
			},

			'entry_id': '0_g3eyhf6k' 

		});
	}
	$("#selectLang").change($.proxy(reload , _this) );
	
	reload();
	
	var changeMedia = function(media){
		player.sendNotification('changeMedia', {'entryId' : media });
	}
	 // 1_a17bz0uy // 1_gb3f3kid // 1_lw4gan7v

</script>
<button onclick="changeMedia('1_a17bz0uy')">Change media to 1_gb3f3kid</button>

</body>
</html>