 if (window.inFrameLoaded) {throw { name: 'FatalError', message: 'Something went badly wrong' };    }

  window.inFrameLoaded = true;
(function(window,undefined){var readyList,rootjQuery,core_strundefined=typeof undefined,location=window.location,document=window.document,docElem=document.documentElement,_jQuery=window.jQuery,_$=window.$,class2type={},core_deletedIds=[],core_version="1.10.2",core_concat=core_deletedIds.concat,core_push=core_deletedIds.push,core_slice=core_deletedIds.slice,core_indexOf=core_deletedIds.indexOf,core_toString=class2type.toString,core_hasOwn=class2type.hasOwnProperty,core_trim=core_version.trim,jQuery=function(selector,context){return new jQuery.fn.init(selector,context,rootjQuery);},core_pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,core_rnotwhite=/\S+/g,rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,rvalidchars=/^[\],:{}\s]*$/,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g,rvalidescape=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,rvalidtokens=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase();},completed=function(event){if(document.addEventListener||event.type==="load"||document.readyState==="complete"){detach();jQuery.ready();}},detach=function(){if(document.addEventListener){document.removeEventListener("DOMContentLoaded",completed,false);window.removeEventListener("load",completed,false);}else{document.detachEvent("onreadystatechange",completed);window.detachEvent("onload",completed);}};jQuery.fn=jQuery.prototype={jquery:core_version,constructor:jQuery,init:function(selector,context,rootjQuery){var match,elem;if(!selector){return this;}if(typeof selector==="string"){if(selector.charAt(0)==="<"&&selector.charAt(selector.length-1)===">"&&selector.length>=3){match=[null,selector,null];}else{match=rquickExpr.exec(selector);}if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,true));if(rsingleTag.test(match[1])&&jQuery.isPlainObject(context)){for(match in context){if(jQuery.isFunction(this[match])){this[match](context[match]);}else{this.attr(match,context[match]);}}}return this;}else{elem=document.getElementById(match[2]);if(elem&&elem.parentNode){if(elem.id!==match[2]){return rootjQuery.find(selector);}this.length=1;this[0]=elem;}this.context=document;this.selector=selector;return this;}}else if(!context||context.jquery){return(context||rootjQuery).find(selector);}else{return this.constructor(context).find(selector);}}else if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this;}else if(jQuery.isFunction(selector)){return rootjQuery.ready(selector);}if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context;}return jQuery.makeArray(selector,this);},selector:"",length:0,toArray:function(){return core_slice.call(this);},get:function(num){return num==null?this.toArray():(num<0?this[this.length+num]:this[num]);},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);ret.prevObject=this;ret.context=this.context;return ret;},each:function(callback,args){return jQuery.each(this,callback,args);},ready:function(fn){jQuery.ready.promise().done(fn);return this;},slice:function(){return this.pushStack(core_slice.apply(this,arguments));},first:function(){return this.eq(0);},last:function(){return this.eq(-1);},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(j>=0&&j<len?[this[j]]:[]);},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem);}));},end:function(){return this.prevObject||this.constructor(null);},push:core_push,sort:[].sort,splice:[].splice};jQuery.fn.init.prototype=jQuery.fn;jQuery.extend=jQuery.fn.extend=function(){var src,copyIsArray,copy,name,options,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[1]||{};i=2;}if(typeof target!=="object"&&!jQuery.isFunction(target)){target={};}if(length===i){target=this;--i;}for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue;}if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&jQuery.isArray(src)?src:[];}else{clone=src&&jQuery.isPlainObject(src)?src:{};}target[name]=jQuery.extend(deep,clone,copy);}else if(copy!==undefined){target[name]=copy;}}}}return target;};jQuery.extend({expando:"jQuery"+(core_version+Math.random()).replace(/\D/g,""),noConflict:function(deep){if(window.$===jQuery){window.$=_$;}if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery;}return jQuery;},isReady:false,readyWait:1,holdReady:function(hold){if(hold){jQuery.readyWait++;}else{jQuery.ready(true);}},ready:function(wait){if(wait===true?--jQuery.readyWait:jQuery.isReady){return;}if(!document.body){return setTimeout(jQuery.ready);}jQuery.isReady=true;if(wait!==true&&--jQuery.readyWait>0){return;}readyList.resolveWith(document,[jQuery]);if(jQuery.fn.trigger){jQuery(document).trigger("ready").off("ready");}},isFunction:function(obj){return jQuery.type(obj)==="function";},isArray:Array.isArray||function(obj){return jQuery.type(obj)==="array";},isWindow:function(obj){return obj!=null&&obj==obj.window;},isNumeric:function(obj){return!isNaN(parseFloat(obj))&&isFinite(obj);},type:function(obj){if(obj==null){return String(obj);}return typeof obj==="object"||typeof obj==="function"?class2type[core_toString.call(obj)]||"object":typeof obj;},isPlainObject:function(obj){var key;if(!obj||jQuery.type(obj)!=="object"||obj.nodeType||jQuery.isWindow(obj)){return false;}try{if(obj.constructor&&!core_hasOwn.call(obj,"constructor")&&!core_hasOwn.call(obj.constructor.prototype,"isPrototypeOf")){return false;}}catch(e){return false;}if(jQuery.support.ownLast){for(key in obj){return core_hasOwn.call(obj,key);}}for(key in obj){}return key===undefined||core_hasOwn.call(obj,key);},isEmptyObject:function(obj){var name;for(name in obj){return false;}return true;},error:function(msg){throw new Error(msg);},parseHTML:function(data,context,keepScripts){if(!data||typeof data!=="string"){return null;}if(typeof context==="boolean"){keepScripts=context;context=false;}context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];if(parsed){return[context.createElement(parsed[1])];}parsed=jQuery.buildFragment([data],context,scripts);if(scripts){jQuery(scripts).remove();}return jQuery.merge([],parsed.childNodes);},parseJSON:function(data){if(window.JSON&&window.JSON.parse){return window.JSON.parse(data);}if(data===null){return data;}if(typeof data==="string"){data=jQuery.trim(data);if(data){if(rvalidchars.test(data.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,""))){return(new Function("return "+data))();}}}jQuery.error("Invalid JSON: "+data);},parseXML:function(data){var xml,tmp;if(!data||typeof data!=="string"){return null;}try{if(window.DOMParser){tmp=new DOMParser();xml=tmp.parseFromString(data,"text/xml");}else{xml=new ActiveXObject("Microsoft.XMLDOM");xml.async="false";xml.loadXML(data);}}catch(e){xml=undefined;}if(!xml||!xml.documentElement||xml.getElementsByTagName("parsererror").length){jQuery.error("Invalid XML: "+data);}return xml;},noop:function(){},globalEval:function(data){if(data&&jQuery.trim(data)){(window.execScript||function(data){window["eval"].call(window,data);})(data);}},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase);},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase();},each:function(obj,callback,args){var value,i=0,length=obj.length,isArray=isArraylike(obj);if(args){if(isArray){for(;i<length;i++){value=callback.apply(obj[i],args);if(value===false){break;}}}else{for(i in obj){value=callback.apply(obj[i],args);if(value===false){break;}}}}else{if(isArray){for(;i<length;i++){value=callback.call(obj[i],i,obj[i]);if(value===false){break;}}}else{for(i in obj){value=callback.call(obj[i],i,obj[i]);if(value===false){break;}}}}return obj;},trim:core_trim&&!core_trim.call("\uFEFF\xA0")?function(text){return text==null?"":core_trim.call(text);}:function(text){return text==null?"":(text+"").replace(rtrim,"");},makeArray:function(arr,results){var ret=results||[];if(arr!=null){if(isArraylike(Object(arr))){jQuery.merge(ret,typeof arr==="string"?[arr]:arr);}else{core_push.call(ret,arr);}}return ret;},inArray:function(elem,arr,i){var len;if(arr){if(core_indexOf){return core_indexOf.call(arr,elem,i);}len=arr.length;i=i?i<0?Math.max(0,len+i):i:0;for(;i<len;i++){if(i in arr&&arr[i]===elem){return i;}}}return-1;},merge:function(first,second){var l=second.length,i=first.length,j=0;if(typeof l==="number"){for(;j<l;j++){first[i++]=second[j];}}else{while(second[j]!==undefined){first[i++]=second[j++];}}first.length=i;return first;},grep:function(elems,callback,inv){var retVal,ret=[],i=0,length=elems.length;inv=!!inv;for(;i<length;i++){retVal=!!callback(elems[i],i);if(inv!==retVal){ret.push(elems[i]);}}return ret;},map:function(elems,callback,arg){var value,i=0,length=elems.length,isArray=isArraylike(elems),ret=[];if(isArray){for(;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret[ret.length]=value;}}}else{for(i in elems){value=callback(elems[i],i,arg);if(value!=null){ret[ret.length]=value;}}}return core_concat.apply([],ret);},guid:1,proxy:function(fn,context){var args,proxy,tmp;if(typeof context==="string"){tmp=fn[context];context=fn;fn=tmp;}if(!jQuery.isFunction(fn)){return undefined;}args=core_slice.call(arguments,2);proxy=function(){return fn.apply(context||this,args.concat(core_slice.call(arguments)));};proxy.guid=fn.guid=fn.guid||jQuery.guid++;return proxy;},access:function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,length=elems.length,bulk=key==null;if(jQuery.type(key)==="object"){chainable=true;for(i in key){jQuery.access(elems,fn,i,key[i],true,emptyGet,raw);}}else if(value!==undefined){chainable=true;if(!jQuery.isFunction(value)){raw=true;}if(bulk){if(raw){fn.call(elems,value);fn=null;}else{bulk=fn;fn=function(elem,key,value){return bulk.call(jQuery(elem),value);};}}if(fn){for(;i<length;i++){fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));}}}return chainable?elems:bulk?fn.call(elems):length?fn(elems[0],key):emptyGet;},now:function(){return(new Date()).getTime();},swap:function(elem,options,callback,args){var ret,name,old={};for(name in options){old[name]=elem.style[name];elem.style[name]=options[name];}ret=callback.apply(elem,args||[]);for(name in options){elem.style[name]=old[name];}return ret;}});jQuery.ready.promise=function(obj){if(!readyList){readyList=jQuery.Deferred();if(document.readyState==="complete"){setTimeout(jQuery.ready);}else if(document.addEventListener){document.addEventListener("DOMContentLoaded",completed,false);window.addEventListener("load",completed,false);}else{document.attachEvent("onreadystatechange",completed);window.attachEvent("onload",completed);var top=false;try{top=window.frameElement==null&&document.documentElement;}catch(e){}if(top&&top.doScroll){(function doScrollCheck(){if(!jQuery.isReady){try{top.doScroll("left");}catch(e){return setTimeout(doScrollCheck,50);}detach();jQuery.ready();}})();}}}return readyList.promise(obj);};jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase();});function isArraylike(obj){var length=obj.length,type=jQuery.type(obj);if(jQuery.isWindow(obj)){return false;}if(obj.nodeType===1&&length){return true;}return type==="array"||type!=="function"&&(length===0||typeof length==="number"&&length>0&&(length-1)in obj);}rootjQuery=jQuery(document);(function(window,undefined){var i,support,cachedruns,Expr,getText,isXML,compile,outermostContext,sortInput,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+-(new Date()),preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),hasDuplicate=false,sortOrder=function(a,b){if(a===b){hasDuplicate=true;return 0;}return 0;},strundefined=typeof undefined,MAX_NEGATIVE=1<<31,hasOwn=({}).hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=arr.indexOf||function(elem){var i=0,len=this.length;for(;i<len;i++){if(this[i]===elem){return i;}}return-1;},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),attributes="\\["+whitespace+"*("+characterEncoding+")"+whitespace+"*(?:([*^$|!~]?=)"+whitespace+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+identifier+")|)|)"+whitespace+"*\\]",pseudos=":("+characterEncoding+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+attributes.replace(3,8)+")*)|.*)\\)|)",rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rsibling=new RegExp(whitespace+"*[+~]"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={"ID":new RegExp("^#("+characterEncoding+")"),"CLASS":new RegExp("^\\.("+characterEncoding+")"),"TAG":new RegExp("^("+characterEncoding.replace("w","w*")+")"),"ATTR":new RegExp("^"+attributes),"PSEUDO":new RegExp("^"+pseudos),"CHILD":new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),"bool":new RegExp("^(?:"+booleans+")$","i"),"needsContext":new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-0x10000;return high!==high||escapedWhitespace?escaped:high<0?String.fromCharCode(high+0x10000):String.fromCharCode(high>>10|0xD800,high&0x3FF|0xDC00);};try{push.apply((arr=slice.call(preferredDoc.childNodes)),preferredDoc.childNodes);arr[preferredDoc.childNodes.length].nodeType;}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els));}:function(target,els){var j=target.length,i=0;while((target[j++]=els[i++])){}target.length=j-1;}};}function Sizzle(selector,context,results,seed){var match,elem,m,nodeType,i,groups,old,nid,newContext,newSelector;if((context?context.ownerDocument||context:preferredDoc)!==document){setDocument(context);}context=context||document;results=results||[];if(!selector||typeof selector!=="string"){return results;}if((nodeType=context.nodeType)!==1&&nodeType!==9){return[];}if(documentIsHTML&&!seed){if((match=rquickExpr.exec(selector))){if((m=match[1])){if(nodeType===9){elem=context.getElementById(m);if(elem&&elem.parentNode){if(elem.id===m){results.push(elem);return results;}}else{return results;}}else{if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results;}}}else if(match[2]){push.apply(results,context.getElementsByTagName(selector));return results;}else if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName){push.apply(results,context.getElementsByClassName(m));return results;}}if(support.qsa&&(!rbuggyQSA||!rbuggyQSA.test(selector))){nid=old=expando;newContext=context;newSelector=nodeType===9&&selector;if(nodeType===1&&context.nodeName.toLowerCase()!=="object"){groups=tokenize(selector);if((old=context.getAttribute("id"))){nid=old.replace(rescape,"\\$&");}else{context.setAttribute("id",nid);}nid="[id='"+nid+"'] ";i=groups.length;while(i--){groups[i]=nid+toSelector(groups[i]);}newContext=rsibling.test(selector)&&context.parentNode||context;newSelector=groups.join(",");}if(newSelector){try{push.apply(results,newContext.querySelectorAll(newSelector));return results;}catch(qsaError){}finally{if(!old){context.removeAttribute("id");}}}}}return select(selector.replace(rtrim,"$1"),context,results,seed);}function createCache(){var keys=[];function cache(key,value){if(keys.push(key+=" ")>Expr.cacheLength){delete cache[keys.shift()];}return(cache[key]=value);}return cache;}function markFunction(fn){fn[expando]=true;return fn;}function assert(fn){var div=document.createElement("div");try{return!!fn(div);}catch(e){return false;}finally{if(div.parentNode){div.parentNode.removeChild(div);}div=null;}}function addHandle(attrs,handler){var arr=attrs.split("|"),i=attrs.length;while(i--){Expr.attrHandle[arr[i]]=handler;}}function siblingCheck(a,b){var cur=b&&a,diff=cur&&a.nodeType===1&&b.nodeType===1&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff){return diff;}if(cur){while((cur=cur.nextSibling)){if(cur===b){return-1;}}}return a?1:-1;}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type===type;};}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&elem.type===type;};}function createPositionalPseudo(fn){return markFunction(function(argument){argument=+argument;return markFunction(function(seed,matches){var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;while(i--){if(seed[(j=matchIndexes[i])]){seed[j]=!(matches[j]=seed[j]);}}});});}isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?documentElement.nodeName!=="HTML":false;};support=Sizzle.support={};setDocument=Sizzle.setDocument=function(node){var doc=node?node.ownerDocument||node:preferredDoc,parent=doc.defaultView;if(doc===document||doc.nodeType!==9||!doc.documentElement){return document;}document=doc;docElem=doc.documentElement;documentIsHTML=!isXML(doc);if(parent&&parent.attachEvent&&parent!==parent.top){parent.attachEvent("onbeforeunload",function(){setDocument();});}support.attributes=assert(function(div){div.className="i";return!div.getAttribute("className");});support.getElementsByTagName=assert(function(div){div.appendChild(doc.createComment(""));return!div.getElementsByTagName("*").length;});support.getElementsByClassName=assert(function(div){div.innerHTML="<div class='a'></div><div class='a i'></div>";div.firstChild.className="i";return div.getElementsByClassName("i").length===2;});support.getById=assert(function(div){docElem.appendChild(div).id=expando;return!doc.getElementsByName||!doc.getElementsByName(expando).length;});if(support.getById){Expr.find["ID"]=function(id,context){if(typeof context.getElementById!==strundefined&&documentIsHTML){var m=context.getElementById(id);return m&&m.parentNode?[m]:[];}};Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId;};};}else{delete Expr.find["ID"];Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=typeof elem.getAttributeNode!==strundefined&&elem.getAttributeNode("id");return node&&node.value===attrId;};};}Expr.find["TAG"]=support.getElementsByTagName?function(tag,context){if(typeof context.getElementsByTagName!==strundefined){return context.getElementsByTagName(tag);}}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if(tag==="*"){while((elem=results[i++])){if(elem.nodeType===1){tmp.push(elem);}}return tmp;}return results;};Expr.find["CLASS"]=support.getElementsByClassName&&function(className,context){if(typeof context.getElementsByClassName!==strundefined&&documentIsHTML){return context.getElementsByClassName(className);}};rbuggyMatches=[];rbuggyQSA=[];if((support.qsa=rnative.test(doc.querySelectorAll))){assert(function(div){div.innerHTML="<select><option selected=''></option></select>";if(!div.querySelectorAll("[selected]").length){rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")");}if(!div.querySelectorAll(":checked").length){rbuggyQSA.push(":checked");}});assert(function(div){var input=doc.createElement("input");input.setAttribute("type","hidden");div.appendChild(input).setAttribute("t","");if(div.querySelectorAll("[t^='']").length){rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")");}if(!div.querySelectorAll(":enabled").length){rbuggyQSA.push(":enabled",":disabled");}div.querySelectorAll("*,:x");rbuggyQSA.push(",.*:");});}if((support.matchesSelector=rnative.test((matches=docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector)))){assert(function(div){support.disconnectedMatch=matches.call(div,"div");matches.call(div,"[s!='']:x");rbuggyMatches.push("!=",pseudos);});}rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|"));rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|"));contains=rnative.test(docElem.contains)||docElem.compareDocumentPosition?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&(adown.contains?adown.contains(bup):a.compareDocumentPosition&&a.compareDocumentPosition(bup)&16));}:function(a,b){if(b){while((b=b.parentNode)){if(b===a){return true;}}}return false;};sortOrder=docElem.compareDocumentPosition?function(a,b){if(a===b){hasDuplicate=true;return 0;}var compare=b.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(b);if(compare){if(compare&1||(!support.sortDetached&&b.compareDocumentPosition(a)===compare)){if(a===doc||contains(preferredDoc,a)){return-1;}if(b===doc||contains(preferredDoc,b)){return 1;}return sortInput?(indexOf.call(sortInput,a)-indexOf.call(sortInput,b)):0;}return compare&4?-1:1;}return a.compareDocumentPosition?-1:1;}:function(a,b){var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(a===b){hasDuplicate=true;return 0;}else if(!aup||!bup){return a===doc?-1:b===doc?1:aup?-1:bup?1:sortInput?(indexOf.call(sortInput,a)-indexOf.call(sortInput,b)):0;}else if(aup===bup){return siblingCheck(a,b);}cur=a;while((cur=cur.parentNode)){ap.unshift(cur);}cur=b;while((cur=cur.parentNode)){bp.unshift(cur);}while(ap[i]===bp[i]){i++;}return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0;};return doc;};Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements);};Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document){setDocument(elem);}expr=expr.replace(rattributeQuotes,"='$1']");if(support.matchesSelector&&documentIsHTML&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr))){try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&elem.document.nodeType!==11){return ret;}}catch(e){}}return Sizzle(expr,document,null,[elem]).length>0;};Sizzle.contains=function(context,elem){if((context.ownerDocument||context)!==document){setDocument(context);}return contains(context,elem);};Sizzle.attr=function(elem,name){if((elem.ownerDocument||elem)!==document){setDocument(elem);}var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):undefined;return val===undefined?support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null:val;};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg);};Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;hasDuplicate=!support.detectDuplicates;sortInput=!support.sortStable&&results.slice(0);results.sort(sortOrder);if(hasDuplicate){while((elem=results[i++])){if(elem===results[i]){j=duplicates.push(i);}}while(j--){results.splice(duplicates[j],1);}}return results;};getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(!nodeType){for(;(node=elem[i]);i++){ret+=getText(node);}}else if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent==="string"){return elem.textContent;}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem);}}}else if(nodeType===3||nodeType===4){return elem.nodeValue;}return ret;};Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{"ATTR":function(match){match[1]=match[1].replace(runescape,funescape);match[3]=(match[4]||match[5]||"").replace(runescape,funescape);if(match[2]==="~="){match[3]=" "+match[3]+" ";}return match.slice(0,4);},"CHILD":function(match){match[1]=match[1].toLowerCase();if(match[1].slice(0,3)==="nth"){if(!match[3]){Sizzle.error(match[0]);}match[4]=+(match[4]?match[5]+(match[6]||1):2*(match[3]==="even"||match[3]==="odd"));match[5]=+((match[7]+match[8])||match[3]==="odd");}else if(match[3]){Sizzle.error(match[0]);}return match;},"PSEUDO":function(match){var excess,unquoted=!match[5]&&match[2];if(matchExpr["CHILD"].test(match[0])){return null;}if(match[3]&&match[4]!==undefined){match[2]=match[4];}else if(unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,true))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)){match[0]=match[0].slice(0,excess);match[2]=unquoted.slice(0,excess);}return match.slice(0,3);}},filter:{"TAG":function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return nodeNameSelector==="*"?function(){return true;}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName;};},"CLASS":function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test(typeof elem.className==="string"&&elem.className||typeof elem.getAttribute!==strundefined&&elem.getAttribute("class")||"");});},"ATTR":function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);if(result==null){return operator==="!=";}if(!operator){return true;}result+="";return operator==="="?result===check:operator==="!="?result!==check:operator==="^="?check&&result.indexOf(check)===0:operator==="*="?check&&result.indexOf(check)>-1:operator==="$="?check&&result.slice(-check.length)===check:operator==="~="?(" "+result+" ").indexOf(check)>-1:operator==="|="?result===check||result.slice(0,check.length+1)===check+"-":false;};},"CHILD":function(type,what,argument,first,last){var simple=type.slice(0,3)!=="nth",forward=type.slice(-4)!=="last",ofType=what==="of-type";return first===1&&last===0?function(elem){return!!elem.parentNode;}:function(elem,context,xml){var cache,outerCache,node,diff,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType;if(parent){if(simple){while(dir){node=elem;while((node=node[dir])){if(ofType?node.nodeName.toLowerCase()===name:node.nodeType===1){return false;}}start=dir=type==="only"&&!start&&"nextSibling";}return true;}start=[forward?parent.firstChild:parent.lastChild];if(forward&&useCache){outerCache=parent[expando]||(parent[expando]={});cache=outerCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=cache[0]===dirruns&&cache[2];node=nodeIndex&&parent.childNodes[nodeIndex];while((node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())){if(node.nodeType===1&&++diff&&node===elem){outerCache[type]=[dirruns,nodeIndex,diff];break;}}}else if(useCache&&(cache=(elem[expando]||(elem[expando]={}))[type])&&cache[0]===dirruns){diff=cache[1];}else{while((node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())){if((ofType?node.nodeName.toLowerCase()===name:node.nodeType===1)&&++diff){if(useCache){(node[expando]||(node[expando]={}))[type]=[dirruns,diff];}if(node===elem){break;}}}}diff-=last;return diff===first||(diff%first===0&&diff/first>=0);}};},"PSEUDO":function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);if(fn[expando]){return fn(argument);}if(fn.length>1){args=[pseudo,pseudo,"",argument];return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){var idx,matched=fn(seed,argument),i=matched.length;while(i--){idx=indexOf.call(seed,matched[i]);seed[idx]=!(matches[idx]=matched[i]);}}):function(elem){return fn(elem,0,args);};}return fn;}},pseudos:{"not":markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;while(i--){if((elem=unmatched[i])){seed[i]=!(matches[i]=elem);}}}):function(elem,context,xml){input[0]=elem;matcher(input,null,xml,results);return!results.pop();};}),"has":markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0;};}),"contains":markFunction(function(text){return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1;};}),"lang":markFunction(function(lang){if(!ridentifier.test(lang||"")){Sizzle.error("unsupported lang: "+lang);}lang=lang.replace(runescape,funescape).toLowerCase();return function(elem){var elemLang;do{if((elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))){elemLang=elemLang.toLowerCase();return elemLang===lang||elemLang.indexOf(lang+"-")===0;}}while((elem=elem.parentNode)&&elem.nodeType===1);return false;};}),"target":function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id;},"root":function(elem){return elem===docElem;},"focus":function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex);},"enabled":function(elem){return elem.disabled===false;},"disabled":function(elem){return elem.disabled===true;},"checked":function(elem){var nodeName=elem.nodeName.toLowerCase();return(nodeName==="input"&&!!elem.checked)||(nodeName==="option"&&!!elem.selected);},"selected":function(elem){if(elem.parentNode){elem.parentNode.selectedIndex;}return elem.selected===true;},"empty":function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling){if(elem.nodeName>"@"||elem.nodeType===3||elem.nodeType===4){return false;}}return true;},"parent":function(elem){return!Expr.pseudos["empty"](elem);},"header":function(elem){return rheader.test(elem.nodeName);},"input":function(elem){return rinputs.test(elem.nodeName);},"button":function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type==="button"||name==="button";},"text":function(elem){var attr;return elem.nodeName.toLowerCase()==="input"&&elem.type==="text"&&((attr=elem.getAttribute("type"))==null||attr.toLowerCase()===elem.type);},"first":createPositionalPseudo(function(){return[0];}),"last":createPositionalPseudo(function(matchIndexes,length){return[length-1];}),"eq":createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument];}),"even":createPositionalPseudo(function(matchIndexes,length){var i=0;for(;i<length;i+=2){matchIndexes.push(i);}return matchIndexes;}),"odd":createPositionalPseudo(function(matchIndexes,length){var i=1;for(;i<length;i+=2){matchIndexes.push(i);}return matchIndexes;}),"lt":createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;--i>=0;){matchIndexes.push(i);}return matchIndexes;}),"gt":createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;++i<length;){matchIndexes.push(i);}return matchIndexes;})}};Expr.pseudos["nth"]=Expr.pseudos["eq"];for(i in{radio:true,checkbox:true,file:true,password:true,image:true}){Expr.pseudos[i]=createInputPseudo(i);}for(i in{submit:true,reset:true}){Expr.pseudos[i]=createButtonPseudo(i);}function setFilters(){}setFilters.prototype=Expr.filters=Expr.pseudos;Expr.setFilters=new setFilters();function tokenize(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached){return parseOnly?0:cached.slice(0);}soFar=selector;groups=[];preFilters=Expr.preFilter;while(soFar){if(!matched||(match=rcomma.exec(soFar))){if(match){soFar=soFar.slice(match[0].length)||soFar;}groups.push(tokens=[]);}matched=false;if((match=rcombinators.exec(soFar))){matched=match.shift();tokens.push({value:matched,type:match[0].replace(rtrim," ")});soFar=soFar.slice(matched.length);}for(type in Expr.filter){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match)))){matched=match.shift();tokens.push({value:matched,type:type,matches:match});soFar=soFar.slice(matched.length);}}if(!matched){break;}}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0);}function toSelector(tokens){var i=0,len=tokens.length,selector="";for(;i<len;i++){selector+=tokens[i].value;}return selector;}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&dir==="parentNode",doneName=done++;return combinator.first?function(elem,context,xml){while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){return matcher(elem,context,xml);}}}:function(elem,context,xml){var data,cache,outerCache,dirkey=dirruns+" "+doneName;if(xml){while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){if(matcher(elem,context,xml)){return true;}}}}else{while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){outerCache=elem[expando]||(elem[expando]={});if((cache=outerCache[dir])&&cache[0]===dirkey){if((data=cache[1])===true||data===cachedruns){return data===true;}}else{cache=outerCache[dir]=[dirkey];cache[1]=matcher(elem,context,xml)||cachedruns;if(cache[1]===true){return true;}}}}}};}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){var i=matchers.length;while(i--){if(!matchers[i](elem,context,xml)){return false;}}return true;}:matchers[0];}function condense(unmatched,map,filter,context,xml){var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=map!=null;for(;i<len;i++){if((elem=unmatched[i])){if(!filter||filter(elem,context,xml)){newUnmatched.push(elem);if(mapped){map.push(i);}}}}return newUnmatched;}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){if(postFilter&&!postFilter[expando]){postFilter=setMatcher(postFilter);}if(postFinder&&!postFinder[expando]){postFinder=setMatcher(postFinder,postSelector);}return markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=preFilter&&(seed||!selector)?condense(elems,preMap,preFilter,context,xml):elems,matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher){matcher(matcherIn,matcherOut,context,xml);}if(postFilter){temp=condense(matcherOut,postMap);postFilter(temp,[],context,xml);i=temp.length;while(i--){if((elem=temp[i])){matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem);}}}if(seed){if(postFinder||preFilter){if(postFinder){temp=[];i=matcherOut.length;while(i--){if((elem=matcherOut[i])){temp.push((matcherIn[i]=elem));}}postFinder(null,(matcherOut=[]),temp,xml);}i=matcherOut.length;while(i--){if((elem=matcherOut[i])&&(temp=postFinder?indexOf.call(seed,elem):preMap[i])>-1){seed[temp]=!(results[temp]=elem);}}}}else{matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut);if(postFinder){postFinder(null,results,matcherOut,xml);}else{push.apply(results,matcherOut);}}});}function matcherFromTokens(tokens){var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext;},implicitRelative,true),matchAnyContext=addCombinator(function(elem){return indexOf.call(checkContext,elem)>-1;},implicitRelative,true),matchers=[function(elem,context,xml){return(!leadingRelative&&(xml||context!==outermostContext))||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));}];for(;i<len;i++){if((matcher=Expr.relative[tokens[i].type])){matchers=[addCombinator(elementMatcher(matchers),matcher)];}else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);if(matcher[expando]){j=++i;for(;j<len;j++){if(Expr.relative[tokens[j].type]){break;}}return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:tokens[i-2].type===" "?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens((tokens=tokens.slice(j))),j<len&&toSelector(tokens));}matchers.push(matcher);}}return elementMatcher(matchers);}function matcherFromGroupMatchers(elementMatchers,setMatchers){var matcherCachedRuns=0,bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,expandContext){var elem,j,matcher,setMatched=[],matchedCount=0,i="0",unmatched=seed&&[],outermost=expandContext!=null,contextBackup=outermostContext,elems=seed||byElement&&Expr.find["TAG"]("*",expandContext&&context.parentNode||context),dirrunsUnique=(dirruns+=contextBackup==null?1:Math.random()||0.1);if(outermost){outermostContext=context!==document&&context;cachedruns=matcherCachedRuns;}for(;(elem=elems[i])!=null;i++){if(byElement&&elem){j=0;while((matcher=elementMatchers[j++])){if(matcher(elem,context,xml)){results.push(elem);break;}}if(outermost){dirruns=dirrunsUnique;cachedruns=++matcherCachedRuns;}}if(bySet){if((elem=!matcher&&elem)){matchedCount--;}if(seed){unmatched.push(elem);}}}matchedCount+=i;if(bySet&&i!==matchedCount){j=0;while((matcher=setMatchers[j++])){matcher(unmatched,setMatched,context,xml);}if(seed){if(matchedCount>0){while(i--){if(!(unmatched[i]||setMatched[i])){setMatched[i]=pop.call(results);}}}setMatched=condense(setMatched);}push.apply(results,setMatched);if(outermost&&!seed&&setMatched.length>0&&(matchedCount+setMatchers.length)>1){Sizzle.uniqueSort(results);}}if(outermost){dirruns=dirrunsUnique;outermostContext=contextBackup;}return unmatched;};return bySet?markFunction(superMatcher):superMatcher;}compile=Sizzle.compile=function(selector,group){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){if(!group){group=tokenize(selector);}i=group.length;while(i--){cached=matcherFromTokens(group[i]);if(cached[expando]){setMatchers.push(cached);}else{elementMatchers.push(cached);}}cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers));}return cached;};function multipleContexts(selector,contexts,results){var i=0,len=contexts.length;for(;i<len;i++){Sizzle(selector,contexts[i],results);}return results;}function select(selector,context,results,seed){var i,tokens,token,type,find,match=tokenize(selector);if(!seed){if(match.length===1){tokens=match[0]=match[0].slice(0);if(tokens.length>2&&(token=tokens[0]).type==="ID"&&support.getById&&context.nodeType===9&&documentIsHTML&&Expr.relative[tokens[1].type]){context=(Expr.find["ID"](token.matches[0].replace(runescape,funescape),context)||[])[0];if(!context){return results;}selector=selector.slice(tokens.shift().value.length);}i=matchExpr["needsContext"].test(selector)?0:tokens.length;while(i--){token=tokens[i];if(Expr.relative[(type=token.type)]){break;}if((find=Expr.find[type])){if((seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&context.parentNode||context))){tokens.splice(i,1);selector=seed.length&&toSelector(tokens);if(!selector){push.apply(results,seed);return results;}break;}}}}}compile(selector,match)(seed,context,!documentIsHTML,results,rsibling.test(selector));return results;}support.sortStable=expando.split("").sort(sortOrder).join("")===expando;support.detectDuplicates=hasDuplicate;setDocument();support.sortDetached=assert(function(div1){return div1.compareDocumentPosition(document.createElement("div"))&1;});if(!assert(function(div){div.innerHTML="<a href='#'></a>";return div.firstChild.getAttribute("href")==="#";})){addHandle("type|href|height|width",function(elem,name,isXML){if(!isXML){return elem.getAttribute(name,name.toLowerCase()==="type"?1:2);}});}if(!support.attributes||!assert(function(div){div.innerHTML="<input/>";div.firstChild.setAttribute("value","");return div.firstChild.getAttribute("value")==="";})){addHandle("value",function(elem,name,isXML){if(!isXML&&elem.nodeName.toLowerCase()==="input"){return elem.defaultValue;}});}if(!assert(function(div){return div.getAttribute("disabled")==null;})){addHandle(booleans,function(elem,name,isXML){var val;if(!isXML){return(val=elem.getAttributeNode(name))&&val.specified?val.value:elem[name]===true?name.toLowerCase():null;}});}jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.pseudos;jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains;})(window);var optionsCache={};function createOptions(options){var object=optionsCache[options]={};jQuery.each(options.match(core_rnotwhite)||[],function(_,flag){object[flag]=true;});return object;}jQuery.Callbacks=function(options){options=typeof options==="string"?(optionsCache[options]||createOptions(options)):jQuery.extend({},options);var firing,memory,fired,firingLength,firingIndex,firingStart,list=[],stack=!options.once&&[],fire=function(data){memory=options.memory&&data;fired=true;firingIndex=firingStart||0;firingStart=0;firingLength=list.length;firing=true;for(;list&&firingIndex<firingLength;firingIndex++){if(list[firingIndex].apply(data[0],data[1])===false&&options.stopOnFalse){memory=false;break;}}firing=false;if(list){if(stack){if(stack.length){fire(stack.shift());}}else if(memory){list=[];}else{self.disable();}}},self={add:function(){if(list){var start=list.length;(function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);if(type==="function"){if(!options.unique||!self.has(arg)){list.push(arg);}}else if(arg&&arg.length&&type!=="string"){add(arg);}});})(arguments);if(firing){firingLength=list.length;}else if(memory){firingStart=start;fire(memory);}}return this;},remove:function(){if(list){jQuery.each(arguments,function(_,arg){var index;while((index=jQuery.inArray(arg,list,index))>-1){list.splice(index,1);if(firing){if(index<=firingLength){firingLength--;}if(index<=firingIndex){firingIndex--;}}}});}return this;},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:!!(list&&list.length);},empty:function(){list=[];firingLength=0;return this;},disable:function(){list=stack=memory=undefined;return this;},disabled:function(){return!list;},lock:function(){stack=undefined;if(!memory){self.disable();}return this;},locked:function(){return!stack;},fireWith:function(context,args){if(list&&(!fired||stack)){args=args||[];args=[context,args.slice?args.slice():args];if(firing){stack.push(args);}else{fire(args);}}return this;},fire:function(){self.fireWith(this,arguments);return this;},fired:function(){return!!fired;}};return self;};jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state;},always:function(){deferred.done(arguments).fail(arguments);return this;},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var action=tuple[0],fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);if(returned&&jQuery.isFunction(returned.promise)){returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify);}else{newDefer[action+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments);}});});fns=null;}).promise();},promise:function(obj){return obj!=null?jQuery.extend(obj,promise):promise;}},deferred={};promise.pipe=promise.then;jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add;if(stateString){list.add(function(){state=stateString;},tuples[i^1][2].disable,tuples[2][2].lock);}deferred[tuple[0]]=function(){deferred[tuple[0]+"With"](this===deferred?promise:this,arguments);return this;};deferred[tuple[0]+"With"]=list.fireWith;});promise.promise(deferred);if(func){func.call(deferred,deferred);}return deferred;},when:function(subordinate){var i=0,resolveValues=core_slice.call(arguments),length=resolveValues.length,remaining=length!==1||(subordinate&&jQuery.isFunction(subordinate.promise))?length:0,deferred=remaining===1?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this;values[i]=arguments.length>1?core_slice.call(arguments):value;if(values===progressValues){deferred.notifyWith(contexts,values);}else if(!(--remaining)){deferred.resolveWith(contexts,values);}};},progressValues,progressContexts,resolveContexts;if(length>1){progressValues=new Array(length);progressContexts=new Array(length);resolveContexts=new Array(length);for(;i<length;i++){if(resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)){resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues));}else{--remaining;}}}if(!remaining){deferred.resolveWith(resolveContexts,resolveValues);}return deferred.promise();}});jQuery.support=(function(support){var all,a,input,select,fragment,opt,eventName,isSupported,i,div=document.createElement("div");div.setAttribute("className","t");div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";all=div.getElementsByTagName("*")||[];a=div.getElementsByTagName("a")[0];if(!a||!a.style||!all.length){return support;}select=document.createElement("select");opt=select.appendChild(document.createElement("option"));input=div.getElementsByTagName("input")[0];a.style.cssText="top:1px;float:left;opacity:.5";support.getSetAttribute=div.className!=="t";support.leadingWhitespace=div.firstChild.nodeType===3;support.tbody=!div.getElementsByTagName("tbody").length;support.htmlSerialize=!!div.getElementsByTagName("link").length;support.style=/top/.test(a.getAttribute("style"));support.hrefNormalized=a.getAttribute("href")==="/a";support.opacity=/^0.5/.test(a.style.opacity);support.cssFloat=!!a.style.cssFloat;support.checkOn=!!input.value;support.optSelected=opt.selected;support.enctype=!!document.createElement("form").enctype;support.html5Clone=document.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>";support.inlineBlockNeedsLayout=false;support.shrinkWrapBlocks=false;support.pixelPosition=false;support.deleteExpando=true;support.noCloneEvent=true;support.reliableMarginRight=true;support.boxSizingReliable=true;input.checked=true;support.noCloneChecked=input.cloneNode(true).checked;select.disabled=true;support.optDisabled=!opt.disabled;try{delete div.test;}catch(e){support.deleteExpando=false;}input=document.createElement("input");input.setAttribute("value","");support.input=input.getAttribute("value")==="";input.value="t";input.setAttribute("type","radio");support.radioValue=input.value==="t";input.setAttribute("checked","t");input.setAttribute("name","t");fragment=document.createDocumentFragment();fragment.appendChild(input);support.appendChecked=input.checked;support.checkClone=fragment.cloneNode(true).cloneNode(true).lastChild.checked;if(div.attachEvent){div.attachEvent("onclick",function(){support.noCloneEvent=false;});div.cloneNode(true).click();}for(i in{submit:true,change:true,focusin:true}){div.setAttribute(eventName="on"+i,"t");support[i+"Bubbles"]=eventName in window||div.attributes[eventName].expando===false;}div.style.backgroundClip="content-box";div.cloneNode(true).style.backgroundClip="";support.clearCloneStyle=div.style.backgroundClip==="content-box";for(i in jQuery(support)){break;}support.ownLast=i!=="0";jQuery(function(){var container,marginDiv,tds,divReset="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",body=document.getElementsByTagName("body")[0];if(!body){return;}container=document.createElement("div");container.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";body.appendChild(container).appendChild(div);div.innerHTML="<table><tr><td></td><td>t</td></tr></table>";tds=div.getElementsByTagName("td");tds[0].style.cssText="padding:0;margin:0;border:0;display:none";isSupported=(tds[0].offsetHeight===0);tds[0].style.display="";tds[1].style.display="none";support.reliableHiddenOffsets=isSupported&&(tds[0].offsetHeight===0);div.innerHTML="";div.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";jQuery.swap(body,body.style.zoom!=null?{zoom:1}:{},function(){support.boxSizing=div.offsetWidth===4;});if(window.getComputedStyle){support.pixelPosition=(window.getComputedStyle(div,null)||{}).top!=="1%";support.boxSizingReliable=(window.getComputedStyle(div,null)||{width:"4px"}).width==="4px";marginDiv=div.appendChild(document.createElement("div"));marginDiv.style.cssText=div.style.cssText=divReset;marginDiv.style.marginRight=marginDiv.style.width="0";div.style.width="1px";support.reliableMarginRight=!parseFloat((window.getComputedStyle(marginDiv,null)||{}).marginRight);}if(typeof div.style.zoom!==core_strundefined){div.innerHTML="";div.style.cssText=divReset+"width:1px;padding:1px;display:inline;zoom:1";support.inlineBlockNeedsLayout=(div.offsetWidth===3);div.style.display="block";div.innerHTML="<div></div>";div.firstChild.style.width="5px";support.shrinkWrapBlocks=(div.offsetWidth!==3);if(support.inlineBlockNeedsLayout){body.style.zoom=1;}}body.removeChild(container);container=div=tds=marginDiv=null;});all=select=fragment=opt=a=input=null;return support;})({});var rbrace=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,rmultiDash=/([A-Z])/g;function internalData(elem,name,data,pvt){if(!jQuery.acceptData(elem)){return;}var ret,thisCache,internalKey=jQuery.expando,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:elem[internalKey]&&internalKey;if((!id||!cache[id]||(!pvt&&!cache[id].data))&&data===undefined&&typeof name==="string"){return;}if(!id){if(isNode){id=elem[internalKey]=core_deletedIds.pop()||jQuery.guid++;}else{id=internalKey;}}if(!cache[id]){cache[id]=isNode?{}:{toJSON:jQuery.noop};}if(typeof name==="object"||typeof name==="function"){if(pvt){cache[id]=jQuery.extend(cache[id],name);}else{cache[id].data=jQuery.extend(cache[id].data,name);}}thisCache=cache[id];if(!pvt){if(!thisCache.data){thisCache.data={};}thisCache=thisCache.data;}if(data!==undefined){thisCache[jQuery.camelCase(name)]=data;}if(typeof name==="string"){ret=thisCache[name];if(ret==null){ret=thisCache[jQuery.camelCase(name)];}}else{ret=thisCache;}return ret;}function internalRemoveData(elem,name,pvt){if(!jQuery.acceptData(elem)){return;}var thisCache,i,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[jQuery.expando]:jQuery.expando;if(!cache[id]){return;}if(name){thisCache=pvt?cache[id]:cache[id].data;if(thisCache){if(!jQuery.isArray(name)){if(name in thisCache){name=[name];}else{name=jQuery.camelCase(name);if(name in thisCache){name=[name];}else{name=name.split(" ");}}}else{name=name.concat(jQuery.map(name,jQuery.camelCase));}i=name.length;while(i--){delete thisCache[name[i]];}if(pvt?!isEmptyDataObject(thisCache):!jQuery.isEmptyObject(thisCache)){return;}}}if(!pvt){delete cache[id].data;if(!isEmptyDataObject(cache[id])){return;}}if(isNode){jQuery.cleanData([elem],true);}else if(jQuery.support.deleteExpando||cache!=cache.window){delete cache[id];}else{cache[id]=null;}}jQuery.extend({cache:{},noData:{"applet":true,"embed":true,"object":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(elem){elem=elem.nodeType?jQuery.cache[elem[jQuery.expando]]:elem[jQuery.expando];return!!elem&&!isEmptyDataObject(elem);},data:function(elem,name,data){return internalData(elem,name,data);},removeData:function(elem,name){return internalRemoveData(elem,name);},_data:function(elem,name,data){return internalData(elem,name,data,true);},_removeData:function(elem,name){return internalRemoveData(elem,name,true);},acceptData:function(elem){if(elem.nodeType&&elem.nodeType!==1&&elem.nodeType!==9){return false;}var noData=elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()];return!noData||noData!==true&&elem.getAttribute("classid")===noData;}});jQuery.fn.extend({data:function(key,value){var attrs,name,data=null,i=0,elem=this[0];if(key===undefined){if(this.length){data=jQuery.data(elem);if(elem.nodeType===1&&!jQuery._data(elem,"parsedAttrs")){attrs=elem.attributes;for(;i<attrs.length;i++){name=attrs[i].name;if(name.indexOf("data-")===0){name=jQuery.camelCase(name.slice(5));dataAttr(elem,name,data[name]);}}jQuery._data(elem,"parsedAttrs",true);}}return data;}if(typeof key==="object"){return this.each(function(){jQuery.data(this,key);});}return arguments.length>1?this.each(function(){jQuery.data(this,key,value);}):elem?dataAttr(elem,key,jQuery.data(elem,key)):null;},removeData:function(key){return this.each(function(){jQuery.removeData(this,key);});}});function dataAttr(elem,key,data){if(data===undefined&&elem.nodeType===1){var name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();data=elem.getAttribute(name);if(typeof data==="string"){try{data=data==="true"?true:data==="false"?false:data==="null"?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data;}catch(e){}jQuery.data(elem,key,data);}else{data=undefined;}}return data;}function isEmptyDataObject(obj){var name;for(name in obj){if(name==="data"&&jQuery.isEmptyObject(obj[name])){continue;}if(name!=="toJSON"){return false;}}return true;}jQuery.extend({queue:function(elem,type,data){var queue;if(elem){type=(type||"fx")+"queue";queue=jQuery._data(elem,type);if(data){if(!queue||jQuery.isArray(data)){queue=jQuery._data(elem,type,jQuery.makeArray(data));}else{queue.push(data);}}return queue||[];}},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type);};if(fn==="inprogress"){fn=queue.shift();startLength--;}if(fn){if(type==="fx"){queue.unshift("inprogress");}delete hooks.stop;fn.call(elem,next,hooks);}if(!startLength&&hooks){hooks.empty.fire();}},_queueHooks:function(elem,type){var key=type+"queueHooks";return jQuery._data(elem,key)||jQuery._data(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){jQuery._removeData(elem,type+"queue");jQuery._removeData(elem,key);})});}});jQuery.fn.extend({queue:function(type,data){var setter=2;if(typeof type!=="string"){data=type;type="fx";setter--;}if(arguments.length<setter){return jQuery.queue(this[0],type);}return data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type);}});},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type);});},delay:function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout);};});},clearQueue:function(type){return this.queue(type||"fx",[]);},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){if(!(--count)){defer.resolveWith(elements,[elements]);}};if(typeof type!=="string"){obj=type;type=undefined;}type=type||"fx";while(i--){tmp=jQuery._data(elements[i],type+"queueHooks");if(tmp&&tmp.empty){count++;tmp.empty.add(resolve);}}resolve();return defer.promise(obj);}});var nodeHook,boolHook,rclass=/[\t\r\n\f]/g,rreturn=/\r/g,rfocusable=/^(?:input|select|textarea|button|object)$/i,rclickable=/^(?:a|area)$/i,ruseDefault=/^(?:checked|selected)$/i,getSetAttribute=jQuery.support.getSetAttribute,getSetInput=jQuery.support.input;jQuery.fn.extend({attr:function(name,value){return jQuery.access(this,jQuery.attr,name,value,arguments.length>1);},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name);});},prop:function(name,value){return jQuery.access(this,jQuery.prop,name,value,arguments.length>1);},removeProp:function(name){name=jQuery.propFix[name]||name;return this.each(function(){try{this[name]=undefined;delete this[name];}catch(e){}});},addClass:function(value){var classes,elem,cur,clazz,j,i=0,len=this.length,proceed=typeof value==="string"&&value;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className));});}if(proceed){classes=(value||"").match(core_rnotwhite)||[];for(;i<len;i++){elem=this[i];cur=elem.nodeType===1&&(elem.className?(" "+elem.className+" ").replace(rclass," "):" ");if(cur){j=0;while((clazz=classes[j++])){if(cur.indexOf(" "+clazz+" ")<0){cur+=clazz+" ";}}elem.className=jQuery.trim(cur);}}}return this;},removeClass:function(value){var classes,elem,cur,clazz,j,i=0,len=this.length,proceed=arguments.length===0||typeof value==="string"&&value;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className));});}if(proceed){classes=(value||"").match(core_rnotwhite)||[];for(;i<len;i++){elem=this[i];cur=elem.nodeType===1&&(elem.className?(" "+elem.className+" ").replace(rclass," "):"");if(cur){j=0;while((clazz=classes[j++])){while(cur.indexOf(" "+clazz+" ")>=0){cur=cur.replace(" "+clazz+" "," ");}}elem.className=value?jQuery.trim(cur):"";}}}return this;},toggleClass:function(value,stateVal){var type=typeof value;if(typeof stateVal==="boolean"&&type==="string"){return stateVal?this.addClass(value):this.removeClass(value);}if(jQuery.isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal);});}return this.each(function(){if(type==="string"){var className,i=0,self=jQuery(this),classNames=value.match(core_rnotwhite)||[];while((className=classNames[i++])){if(self.hasClass(className)){self.removeClass(className);}else{self.addClass(className);}}}else if(type===core_strundefined||type==="boolean"){if(this.className){jQuery._data(this,"__className__",this.className);}this.className=this.className||value===false?"":jQuery._data(this,"__className__")||"";}});},hasClass:function(selector){var className=" "+selector+" ",i=0,l=this.length;for(;i<l;i++){if(this[i].nodeType===1&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>=0){return true;}}return false;},val:function(value){var ret,hooks,isFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];if(hooks&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined){return ret;}ret=elem.value;return typeof ret==="string"?ret.replace(rreturn,""):ret==null?"":ret;}return;}isFunction=jQuery.isFunction(value);return this.each(function(i){var val;if(this.nodeType!==1){return;}if(isFunction){val=value.call(this,i,jQuery(this).val());}else{val=value;}if(val==null){val="";}else if(typeof val==="number"){val+="";}else if(jQuery.isArray(val)){val=jQuery.map(val,function(value){return value==null?"":value+"";});}hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!hooks||!("set"in hooks)||hooks.set(this,val,"value")===undefined){this.value=val;}});}});jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return val!=null?val:elem.text;}},select:{get:function(elem){var value,option,options=elem.options,index=elem.selectedIndex,one=elem.type==="select-one"||index<0,values=one?null:[],max=one?index+1:options.length,i=index<0?max:one?index:0;for(;i<max;i++){option=options[i];if((option.selected||i===index)&&(jQuery.support.optDisabled?!option.disabled:option.getAttribute("disabled")===null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one){return value;}values.push(value);}}return values;},set:function(elem,value){var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;while(i--){option=options[i];if((option.selected=jQuery.inArray(jQuery(option).val(),values)>=0)){optionSet=true;}}if(!optionSet){elem.selectedIndex=-1;}return values;}}},attr:function(elem,name,value){var hooks,ret,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return;}if(typeof elem.getAttribute===core_strundefined){return jQuery.prop(elem,name,value);}if(nType!==1||!jQuery.isXMLDoc(elem)){name=name.toLowerCase();hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:nodeHook);}if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name);}else if(hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret;}else{elem.setAttribute(name,value+"");return value;}}else if(hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null){return ret;}else{ret=jQuery.find.attr(elem,name);return ret==null?undefined:ret;}},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(core_rnotwhite);if(attrNames&&elem.nodeType===1){while((name=attrNames[i++])){propName=jQuery.propFix[name]||name;if(jQuery.expr.match.bool.test(name)){if(getSetInput&&getSetAttribute||!ruseDefault.test(name)){elem[propName]=false;}else{elem[jQuery.camelCase("default-"+name)]=elem[propName]=false;}}else{jQuery.attr(elem,name,"");}elem.removeAttribute(getSetAttribute?name:propName);}}},attrHooks:{type:{set:function(elem,value){if(!jQuery.support.radioValue&&value==="radio"&&jQuery.nodeName(elem,"input")){var val=elem.value;elem.setAttribute("type",value);if(val){elem.value=val;}return value;}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return;}notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name];}if(value!==undefined){return hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined?ret:(elem[name]=value);}else{return hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null?ret:elem[name];}},propHooks:{tabIndex:{get:function(elem){var tabindex=jQuery.find.attr(elem,"tabindex");return tabindex?parseInt(tabindex,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:-1;}}}});boolHook={set:function(elem,value,name){if(value===false){jQuery.removeAttr(elem,name);}else if(getSetInput&&getSetAttribute||!ruseDefault.test(name)){elem.setAttribute(!getSetAttribute&&jQuery.propFix[name]||name,name);}else{elem[jQuery.camelCase("default-"+name)]=elem[name]=true;}return name;}};jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=jQuery.expr.attrHandle[name]||jQuery.find.attr;jQuery.expr.attrHandle[name]=getSetInput&&getSetAttribute||!ruseDefault.test(name)?function(elem,name,isXML){var fn=jQuery.expr.attrHandle[name],ret=isXML?undefined:(jQuery.expr.attrHandle[name]=undefined)!=getter(elem,name,isXML)?name.toLowerCase():null;jQuery.expr.attrHandle[name]=fn;return ret;}:function(elem,name,isXML){return isXML?undefined:elem[jQuery.camelCase("default-"+name)]?name.toLowerCase():null;};});if(!getSetInput||!getSetAttribute){jQuery.attrHooks.value={set:function(elem,value,name){if(jQuery.nodeName(elem,"input")){elem.defaultValue=value;}else{return nodeHook&&nodeHook.set(elem,value,name);}}};}if(!getSetAttribute){nodeHook={set:function(elem,value,name){var ret=elem.getAttributeNode(name);if(!ret){elem.setAttributeNode((ret=elem.ownerDocument.createAttribute(name)));}ret.value=value+="";return name==="value"||value===elem.getAttribute(name)?value:undefined;}};jQuery.expr.attrHandle.id=jQuery.expr.attrHandle.name=jQuery.expr.attrHandle.coords=function(elem,name,isXML){var ret;return isXML?undefined:(ret=elem.getAttributeNode(name))&&ret.value!==""?ret.value:null;};jQuery.valHooks.button={get:function(elem,name){var ret=elem.getAttributeNode(name);return ret&&ret.specified?ret.value:undefined;},set:nodeHook.set};jQuery.attrHooks.contenteditable={set:function(elem,value,name){nodeHook.set(elem,value===""?false:value,name);}};jQuery.each(["width","height"],function(i,name){jQuery.attrHooks[name]={set:function(elem,value){if(value===""){elem.setAttribute(name,"auto");return value;}}};});}if(!jQuery.support.hrefNormalized){jQuery.each(["href","src"],function(i,name){jQuery.propHooks[name]={get:function(elem){return elem.getAttribute(name,4);}};});}if(!jQuery.support.style){jQuery.attrHooks.style={get:function(elem){return elem.style.cssText||undefined;},set:function(elem,value){return(elem.style.cssText=value+"");}};}if(!jQuery.support.optSelected){jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode){parent.parentNode.selectedIndex;}}return null;}};}jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this;});if(!jQuery.support.enctype){jQuery.propFix.enctype="encoding";}jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){if(jQuery.isArray(value)){return(elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0);}}};if(!jQuery.support.checkOn){jQuery.valHooks[this].get=function(elem){return elem.getAttribute("value")===null?"on":elem.value;};}});var rformElems=/^(?:input|select|textarea)$/i,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;function returnTrue(){return true;}function returnFalse(){return false;}function safeActiveElement(){try{return document.activeElement;}catch(err){}}jQuery.event={global:{},add:function(elem,types,handler,data,selector){var tmp,events,t,handleObjIn,special,eventHandle,handleObj,handlers,type,namespaces,origType,elemData=jQuery._data(elem);if(!elemData){return;}if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler;selector=handleObjIn.selector;}if(!handler.guid){handler.guid=jQuery.guid++;}if(!(events=elemData.events)){events=elemData.events={};}if(!(eventHandle=elemData.handle)){eventHandle=elemData.handle=function(e){return typeof jQuery!==core_strundefined&&(!e||jQuery.event.triggered!==e.type)?jQuery.event.dispatch.apply(eventHandle.elem,arguments):undefined;};eventHandle.elem=elem;}types=(types||"").match(core_rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){continue;}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn);if(!(handlers=events[type])){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle,false);}else if(elem.attachEvent){elem.attachEvent("on"+type,eventHandle);}}}if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid;}}if(selector){handlers.splice(handlers.delegateCount++,0,handleObj);}else{handlers.push(handleObj);}jQuery.event.global[type]=true;}elem=null;},remove:function(elem,types,handler,selector,mappedTypes){var j,handleObj,tmp,origCount,t,events,special,handlers,type,namespaces,origType,elemData=jQuery.hasData(elem)&&jQuery._data(elem);if(!elemData||!(events=elemData.events)){return;}types=(types||"").match(core_rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,true);}continue;}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;handlers=events[type]||[];tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)");origCount=j=handlers.length;while(j--){handleObj=handlers[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!tmp||tmp.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)){handlers.splice(j,1);if(handleObj.selector){handlers.delegateCount--;}if(special.remove){special.remove.call(elem,handleObj);}}}if(origCount&&!handlers.length){if(!special.teardown||special.teardown.call(elem,namespaces,elemData.handle)===false){jQuery.removeEvent(elem,type,elemData.handle);}delete events[type];}}if(jQuery.isEmptyObject(events)){delete elemData.handle;jQuery._removeData(elem,"events");}},trigger:function(event,data,elem,onlyHandlers){var handle,ontype,cur,bubbleType,special,tmp,i,eventPath=[elem||document],type=core_hasOwn.call(event,"type")?event.type:event,namespaces=core_hasOwn.call(event,"namespace")?event.namespace.split("."):[];cur=tmp=elem=elem||document;if(elem.nodeType===3||elem.nodeType===8){return;}if(rfocusMorph.test(type+jQuery.event.triggered)){return;}if(type.indexOf(".")>=0){namespaces=type.split(".");type=namespaces.shift();namespaces.sort();}ontype=type.indexOf(":")<0&&"on"+type;event=event[jQuery.expando]?event:new jQuery.Event(type,typeof event==="object"&&event);event.isTrigger=onlyHandlers?2:3;event.namespace=namespaces.join(".");event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;event.result=undefined;if(!event.target){event.target=elem;}data=data==null?[event]:jQuery.makeArray(data,[event]);special=jQuery.event.special[type]||{};if(!onlyHandlers&&special.trigger&&special.trigger.apply(elem,data)===false){return;}if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;if(!rfocusMorph.test(bubbleType+type)){cur=cur.parentNode;}for(;cur;cur=cur.parentNode){eventPath.push(cur);tmp=cur;}if(tmp===(elem.ownerDocument||document)){eventPath.push(tmp.defaultView||tmp.parentWindow||window);}}i=0;while((cur=eventPath[i++])&&!event.isPropagationStopped()){event.type=i>1?bubbleType:special.bindType||type;handle=(jQuery._data(cur,"events")||{})[event.type]&&jQuery._data(cur,"handle");if(handle){handle.apply(cur,data);}handle=ontype&&cur[ontype];if(handle&&jQuery.acceptData(cur)&&handle.apply&&handle.apply(cur,data)===false){event.preventDefault();}}event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||special._default.apply(eventPath.pop(),data)===false)&&jQuery.acceptData(elem)){if(ontype&&elem[type]&&!jQuery.isWindow(elem)){tmp=elem[ontype];if(tmp){elem[ontype]=null;}jQuery.event.triggered=type;try{elem[type]();}catch(e){}jQuery.event.triggered=undefined;if(tmp){elem[ontype]=tmp;}}}}return event.result;},dispatch:function(event){event=jQuery.event.fix(event);var i,ret,handleObj,matched,j,handlerQueue=[],args=core_slice.call(arguments),handlers=(jQuery._data(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};args[0]=event;event.delegateTarget=this;if(special.preDispatch&&special.preDispatch.call(this,event)===false){return;}handlerQueue=jQuery.event.handlers.call(this,event,handlers);i=0;while((matched=handlerQueue[i++])&&!event.isPropagationStopped()){event.currentTarget=matched.elem;j=0;while((handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped()){if(!event.namespace_re||event.namespace_re.test(handleObj.namespace)){event.handleObj=handleObj;event.data=handleObj.data;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==undefined){if((event.result=ret)===false){event.preventDefault();event.stopPropagation();}}}}}if(special.postDispatch){special.postDispatch.call(this,event);}return event.result;},handlers:function(event,handlers){var sel,handleObj,matches,i,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(!event.button||event.type!=="click")){for(;cur!=this;cur=cur.parentNode||this){if(cur.nodeType===1&&(cur.disabled!==true||event.type!=="click")){matches=[];for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=handleObj.selector+" ";if(matches[sel]===undefined){matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>=0:jQuery.find(sel,this,null,[cur]).length;}if(matches[sel]){matches.push(handleObj);}}if(matches.length){handlerQueue.push({elem:cur,handlers:matches});}}}}if(delegateCount<handlers.length){handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)});}return handlerQueue;},fix:function(event){if(event[jQuery.expando]){return event;}var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];if(!fixHook){this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{};}copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=new jQuery.Event(originalEvent);i=copy.length;while(i--){prop=copy[i];event[prop]=originalEvent[prop];}if(!event.target){event.target=originalEvent.srcElement||document;}if(event.target.nodeType===3){event.target=event.target.parentNode;}event.metaKey=!!event.metaKey;return fixHook.filter?fixHook.filter(event,originalEvent):event;},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){if(event.which==null){event.which=original.charCode!=null?original.charCode:original.keyCode;}return event;}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var body,eventDoc,doc,button=original.button,fromElement=original.fromElement;if(event.pageX==null&&original.clientX!=null){eventDoc=event.target.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0);}if(!event.relatedTarget&&fromElement){event.relatedTarget=fromElement===event.target?original.toElement:fromElement;}if(!event.which&&button!==undefined){event.which=(button&1?1:(button&2?3:(button&4?2:0)));}return event;}},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus){try{this.focus();return false;}catch(e){}}},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur){this.blur();return false;}},delegateType:"focusout"},click:{trigger:function(){if(jQuery.nodeName(this,"input")&&this.type==="checkbox"&&this.click){this.click();return false;}},_default:function(event){return jQuery.nodeName(event.target,"a");}},beforeunload:{postDispatch:function(event){if(event.result!==undefined){event.originalEvent.returnValue=event.result;}}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event(),event,{type:type,isSimulated:true,originalEvent:{}});if(bubble){jQuery.event.trigger(e,null,elem);}else{jQuery.event.dispatch.call(elem,e);}if(e.isDefaultPrevented()){event.preventDefault();}}};jQuery.removeEvent=document.removeEventListener?function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle,false);}}:function(elem,type,handle){var name="on"+type;if(elem.detachEvent){if(typeof elem[name]===core_strundefined){elem[name]=null;}elem.detachEvent(name,handle);}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props);}if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=(src.defaultPrevented||src.returnValue===false||src.getPreventDefault&&src.getPreventDefault())?returnTrue:returnFalse;}else{this.type=src;}if(props){jQuery.extend(this,props);}this.timeStamp=src&&src.timeStamp||jQuery.now();this[jQuery.expando]=true;};jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue;if(!e){return;}if(e.preventDefault){e.preventDefault();}else{e.returnValue=false;}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue;if(!e){return;}if(e.stopPropagation){e.stopPropagation();}e.cancelBubble=true;},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue;this.stopPropagation();}};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;if(!related||(related!==target&&!jQuery.contains(target,related))){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix;}return ret;}};});if(!jQuery.support.submitBubbles){jQuery.event.special.submit={setup:function(){if(jQuery.nodeName(this,"form")){return false;}jQuery.event.add(this,"click._submit keypress._submit",function(e){var elem=e.target,form=jQuery.nodeName(elem,"input")||jQuery.nodeName(elem,"button")?elem.form:undefined;if(form&&!jQuery._data(form,"submitBubbles")){jQuery.event.add(form,"submit._submit",function(event){event._submit_bubble=true;});jQuery._data(form,"submitBubbles",true);}});},postDispatch:function(event){if(event._submit_bubble){delete event._submit_bubble;if(this.parentNode&&!event.isTrigger){jQuery.event.simulate("submit",this.parentNode,event,true);}}},teardown:function(){if(jQuery.nodeName(this,"form")){return false;}jQuery.event.remove(this,"._submit");}};}if(!jQuery.support.changeBubbles){jQuery.event.special.change={setup:function(){if(rformElems.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){jQuery.event.add(this,"propertychange._change",function(event){if(event.originalEvent.propertyName==="checked"){this._just_changed=true;}});jQuery.event.add(this,"click._change",function(event){if(this._just_changed&&!event.isTrigger){this._just_changed=false;}jQuery.event.simulate("change",this,event,true);});}return false;}jQuery.event.add(this,"beforeactivate._change",function(e){var elem=e.target;if(rformElems.test(elem.nodeName)&&!jQuery._data(elem,"changeBubbles")){jQuery.event.add(elem,"change._change",function(event){if(this.parentNode&&!event.isSimulated&&!event.isTrigger){jQuery.event.simulate("change",this.parentNode,event,true);}});jQuery._data(elem,"changeBubbles",true);}});},handle:function(event){var elem=event.target;if(this!==elem||event.isSimulated||event.isTrigger||(elem.type!=="radio"&&elem.type!=="checkbox")){return event.handleObj.handler.apply(this,arguments);}},teardown:function(){jQuery.event.remove(this,"._change");return!rformElems.test(this.nodeName);}};}if(!jQuery.support.focusinBubbles){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var attaches=0,handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),true);};jQuery.event.special[fix]={setup:function(){if(attaches++===0){document.addEventListener(orig,handler,true);}},teardown:function(){if(--attaches===0){document.removeEventListener(orig,handler,true);}}};});}jQuery.fn.extend({on:function(types,selector,data,fn,one){var type,origFn;if(typeof types==="object"){if(typeof selector!=="string"){data=data||selector;selector=undefined;}for(type in types){this.on(type,selector,data,types[type],one);}return this;}if(data==null&&fn==null){fn=selector;data=selector=undefined;}else if(fn==null){if(typeof selector==="string"){fn=data;data=undefined;}else{fn=data;data=selector;selector=undefined;}}if(fn===false){fn=returnFalse;}else if(!fn){return this;}if(one===1){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments);};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++);}return this.each(function(){jQuery.event.add(this,types,fn,data,selector);});},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1);},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj){handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);return this;}if(typeof types==="object"){for(type in types){this.off(type,selector,types[type]);}return this;}if(selector===false||typeof selector==="function"){fn=selector;selector=undefined;}if(fn===false){fn=returnFalse;}return this.each(function(){jQuery.event.remove(this,types,fn,selector);});},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this);});},triggerHandler:function(type,data){var elem=this[0];if(elem){return jQuery.event.trigger(type,data,elem,true);}}});var isSimple=/^.[^:#\[\.,]*$/,rparentsprev=/^(?:parents|prev(?:Until|All))/,rneedsContext=jQuery.expr.match.needsContext,guaranteedUnique={children:true,contents:true,next:true,prev:true};jQuery.fn.extend({find:function(selector){var i,ret=[],self=this,len=self.length;if(typeof selector!=="string"){return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++){if(jQuery.contains(self[i],this)){return true;}}}));}for(i=0;i<len;i++){jQuery.find(selector,self[i],ret);}ret=this.pushStack(len>1?jQuery.unique(ret):ret);ret.selector=this.selector?this.selector+" "+selector:selector;return ret;},has:function(target){var i,targets=jQuery(target,this),len=targets.length;return this.filter(function(){for(i=0;i<len;i++){if(jQuery.contains(this,targets[i])){return true;}}});},not:function(selector){return this.pushStack(winnow(this,selector||[],true));},filter:function(selector){return this.pushStack(winnow(this,selector||[],false));},is:function(selector){return!!winnow(this,typeof selector==="string"&&rneedsContext.test(selector)?jQuery(selector):selector||[],false).length;},closest:function(selectors,context){var cur,i=0,l=this.length,ret=[],pos=rneedsContext.test(selectors)||typeof selectors!=="string"?jQuery(selectors,context||this.context):0;for(;i<l;i++){for(cur=this[i];cur&&cur!==context;cur=cur.parentNode){if(cur.nodeType<11&&(pos?pos.index(cur)>-1:cur.nodeType===1&&jQuery.find.matchesSelector(cur,selectors))){cur=ret.push(cur);break;}}}return this.pushStack(ret.length>1?jQuery.unique(ret):ret);},index:function(elem){if(!elem){return(this[0]&&this[0].parentNode)?this.first().prevAll().length:-1;}if(typeof elem==="string"){return jQuery.inArray(this[0],jQuery(elem));}return jQuery.inArray(elem.jquery?elem[0]:elem,this);},add:function(selector,context){var set=typeof selector==="string"?jQuery(selector,context):jQuery.makeArray(selector&&selector.nodeType?[selector]:selector),all=jQuery.merge(this.get(),set);return this.pushStack(jQuery.unique(all));},addBack:function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));}});function sibling(cur,dir){do{cur=cur[dir];}while(cur&&cur.nodeType!==1);return cur;}jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null;},parents:function(elem){return jQuery.dir(elem,"parentNode");},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until);},next:function(elem){return sibling(elem,"nextSibling");},prev:function(elem){return sibling(elem,"previousSibling");},nextAll:function(elem){return jQuery.dir(elem,"nextSibling");},prevAll:function(elem){return jQuery.dir(elem,"previousSibling");},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until);},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until);},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem);},children:function(elem){return jQuery.sibling(elem.firstChild);},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.merge([],elem.childNodes);}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);if(name.slice(-5)!=="Until"){selector=until;}if(selector&&typeof selector==="string"){ret=jQuery.filter(selector,ret);}if(this.length>1){if(!guaranteedUnique[name]){ret=jQuery.unique(ret);}if(rparentsprev.test(name)){ret=ret.reverse();}}return this.pushStack(ret);};});jQuery.extend({filter:function(expr,elems,not){var elem=elems[0];if(not){expr=":not("+expr+")";}return elems.length===1&&elem.nodeType===1?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return elem.nodeType===1;}));},dir:function(elem,dir,until){var matched=[],cur=elem[dir];while(cur&&cur.nodeType!==9&&(until===undefined||cur.nodeType!==1||!jQuery(cur).is(until))){if(cur.nodeType===1){matched.push(cur);}cur=cur[dir];}return matched;},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){r.push(n);}}return r;}});function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not;});}if(qualifier.nodeType){return jQuery.grep(elements,function(elem){return(elem===qualifier)!==not;});}if(typeof qualifier==="string"){if(isSimple.test(qualifier)){return jQuery.filter(qualifier,elements,not);}qualifier=jQuery.filter(qualifier,elements);}return jQuery.grep(elements,function(elem){return(jQuery.inArray(elem,qualifier)>=0)!==not;});}function createSafeFragment(document){var list=nodeNames.split("|"),safeFrag=document.createDocumentFragment();if(safeFrag.createElement){while(list.length){safeFrag.createElement(list.pop());}}return safeFrag;}var nodeNames="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|"+"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rinlinejQuery=/ jQuery\d+="(?:null|\d+)"/g,rnoshimcache=new RegExp("<(?:"+nodeNames+")[\\s/>]","i"),rleadingWhitespace=/^\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,manipulation_rcheckableType=/^(?:checkbox|radio)$/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:jQuery.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},safeFragment=createSafeFragment(document),fragmentDiv=safeFragment.appendChild(document.createElement("div"));wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;jQuery.fn.extend({text:function(value){return jQuery.access(this,function(value){return value===undefined?jQuery.text(this):this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(value));},null,value,arguments.length);},append:function(){return this.domManip(arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.appendChild(elem);}});},prepend:function(){return this.domManip(arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild);}});},before:function(){return this.domManip(arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this);}});},after:function(){return this.domManip(arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this.nextSibling);}});},remove:function(selector,keepData){var elem,elems=selector?jQuery.filter(selector,this):this,i=0;for(;(elem=elems[i])!=null;i++){if(!keepData&&elem.nodeType===1){jQuery.cleanData(getAll(elem));}if(elem.parentNode){if(keepData&&jQuery.contains(elem.ownerDocument,elem)){setGlobalEval(getAll(elem,"script"));}elem.parentNode.removeChild(elem);}}return this;},empty:function(){var elem,i=0;for(;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));}while(elem.firstChild){elem.removeChild(elem.firstChild);}if(elem.options&&jQuery.nodeName(elem,"select")){elem.options.length=0;}}return this;},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?false:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents);});},html:function(value){return jQuery.access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined){return elem.nodeType===1?elem.innerHTML.replace(rinlinejQuery,""):undefined;}if(typeof value==="string"&&!rnoInnerhtml.test(value)&&(jQuery.support.htmlSerialize||!rnoshimcache.test(value))&&(jQuery.support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;i<l;i++){elem=this[i]||{};if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));elem.innerHTML=value;}}elem=0;}catch(e){}}if(elem){this.empty().append(value);}},null,value,arguments.length);},replaceWith:function(){var args=jQuery.map(this,function(elem){return[elem.nextSibling,elem.parentNode];}),i=0;this.domManip(arguments,function(elem){var next=args[i++],parent=args[i++];if(parent){if(next&&next.parentNode!==parent){next=this.nextSibling;}jQuery(this).remove();parent.insertBefore(elem,next);}},true);return i?this:this.remove();},detach:function(selector){return this.remove(selector,true);},domManip:function(args,callback,allowIntersection){args=core_concat.apply([],args);var first,node,hasScripts,scripts,doc,fragment,i=0,l=this.length,set=this,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||!(l<=1||typeof value!=="string"||jQuery.support.checkClone||!rchecked.test(value))){return this.each(function(index){var self=set.eq(index);if(isFunction){args[0]=value.call(this,index,self.html());}self.domManip(args,callback,allowIntersection);});}if(l){fragment=jQuery.buildFragment(args,this[0].ownerDocument,false,!allowIntersection&&this);first=fragment.firstChild;if(fragment.childNodes.length===1){fragment=first;}if(first){scripts=jQuery.map(getAll(fragment,"script"),disableScript);hasScripts=scripts.length;for(;i<l;i++){node=fragment;if(i!==iNoClone){node=jQuery.clone(node,true,true);if(hasScripts){jQuery.merge(scripts,getAll(node,"script"));}}callback.call(this[i],node,i);}if(hasScripts){doc=scripts[scripts.length-1].ownerDocument;jQuery.map(scripts,restoreScript);for(i=0;i<hasScripts;i++){node=scripts[i];if(rscriptType.test(node.type||"")&&!jQuery._data(node,"globalEval")&&jQuery.contains(doc,node)){if(node.src){jQuery._evalUrl(node.src);}else{jQuery.globalEval((node.text||node.textContent||node.innerHTML||"").replace(rcleanScript,""));}}}}fragment=first=null;}}return this;}});function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(content.nodeType===1?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem;}function disableScript(elem){elem.type=(jQuery.find.attr(elem,"type")!==null)+"/"+elem.type;return elem;}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);if(match){elem.type=match[1];}else{elem.removeAttribute("type");}return elem;}function setGlobalEval(elems,refElements){var elem,i=0;for(;(elem=elems[i])!=null;i++){jQuery._data(elem,"globalEval",!refElements||jQuery._data(refElements[i],"globalEval"));}}function cloneCopyEvent(src,dest){if(dest.nodeType!==1||!jQuery.hasData(src)){return;}var type,i,l,oldData=jQuery._data(src),curData=jQuery._data(dest,oldData),events=oldData.events;if(events){delete curData.handle;curData.events={};for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type,events[type][i]);}}}if(curData.data){curData.data=jQuery.extend({},curData.data);}}function fixCloneNodeIssues(src,dest){var nodeName,e,data;if(dest.nodeType!==1){return;}nodeName=dest.nodeName.toLowerCase();if(!jQuery.support.noCloneEvent&&dest[jQuery.expando]){data=jQuery._data(dest);for(e in data.events){jQuery.removeEvent(dest,e,data.handle);}dest.removeAttribute(jQuery.expando);}if(nodeName==="script"&&dest.text!==src.text){disableScript(dest).text=src.text;restoreScript(dest);}else if(nodeName==="object"){if(dest.parentNode){dest.outerHTML=src.outerHTML;}if(jQuery.support.html5Clone&&(src.innerHTML&&!jQuery.trim(dest.innerHTML))){dest.innerHTML=src.innerHTML;}}else if(nodeName==="input"&&manipulation_rcheckableType.test(src.type)){dest.defaultChecked=dest.checked=src.checked;if(dest.value!==src.value){dest.value=src.value;}}else if(nodeName==="option"){dest.defaultSelected=dest.selected=src.defaultSelected;}else if(nodeName==="input"||nodeName==="textarea"){dest.defaultValue=src.defaultValue;}}jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,i=0,ret=[],insert=jQuery(selector),last=insert.length-1;for(;i<=last;i++){elems=i===last?this:this.clone(true);jQuery(insert[i])[original](elems);core_push.apply(ret,elems.get());}return this.pushStack(ret);};});function getAll(context,tag){var elems,elem,i=0,found=typeof context.getElementsByTagName!==core_strundefined?context.getElementsByTagName(tag||"*"):typeof context.querySelectorAll!==core_strundefined?context.querySelectorAll(tag||"*"):undefined;if(!found){for(found=[],elems=context.childNodes||context;(elem=elems[i])!=null;i++){if(!tag||jQuery.nodeName(elem,tag)){found.push(elem);}else{jQuery.merge(found,getAll(elem,tag));}}}return tag===undefined||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],found):found;}function fixDefaultChecked(elem){if(manipulation_rcheckableType.test(elem.type)){elem.defaultChecked=elem.checked;}}jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var destElements,node,clone,i,srcElements,inPage=jQuery.contains(elem.ownerDocument,elem);if(jQuery.support.html5Clone||jQuery.isXMLDoc(elem)||!rnoshimcache.test("<"+elem.nodeName+">")){clone=elem.cloneNode(true);}else{fragmentDiv.innerHTML=elem.outerHTML;fragmentDiv.removeChild(clone=fragmentDiv.firstChild);}if((!jQuery.support.noCloneEvent||!jQuery.support.noCloneChecked)&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){destElements=getAll(clone);srcElements=getAll(elem);for(i=0;(node=srcElements[i])!=null;++i){if(destElements[i]){fixCloneNodeIssues(node,destElements[i]);}}}if(dataAndEvents){if(deepDataAndEvents){srcElements=srcElements||getAll(elem);destElements=destElements||getAll(clone);for(i=0;(node=srcElements[i])!=null;i++){cloneCopyEvent(node,destElements[i]);}}else{cloneCopyEvent(elem,clone);}}destElements=getAll(clone,"script");if(destElements.length>0){setGlobalEval(destElements,!inPage&&getAll(elem,"script"));}destElements=srcElements=node=null;return clone;},buildFragment:function(elems,context,scripts,selection){var j,elem,contains,tmp,tag,tbody,wrap,l=elems.length,safe=createSafeFragment(context),nodes=[],i=0;for(;i<l;i++){elem=elems[i];if(elem||elem===0){if(jQuery.type(elem)==="object"){jQuery.merge(nodes,elem.nodeType?[elem]:elem);}else if(!rhtml.test(elem)){nodes.push(context.createTextNode(elem));}else{tmp=tmp||safe.appendChild(context.createElement("div"));tag=(rtagName.exec(elem)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;tmp.innerHTML=wrap[1]+elem.replace(rxhtmlTag,"<$1></$2>")+wrap[2];j=wrap[0];while(j--){tmp=tmp.lastChild;}if(!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(elem)){nodes.push(context.createTextNode(rleadingWhitespace.exec(elem)[0]));}if(!jQuery.support.tbody){elem=tag==="table"&&!rtbody.test(elem)?tmp.firstChild:wrap[1]==="<table>"&&!rtbody.test(elem)?tmp:0;j=elem&&elem.childNodes.length;while(j--){if(jQuery.nodeName((tbody=elem.childNodes[j]),"tbody")&&!tbody.childNodes.length){elem.removeChild(tbody);}}}jQuery.merge(nodes,tmp.childNodes);tmp.textContent="";while(tmp.firstChild){tmp.removeChild(tmp.firstChild);}tmp=safe.lastChild;}}}if(tmp){safe.removeChild(tmp);}if(!jQuery.support.appendChecked){jQuery.grep(getAll(nodes,"input"),fixDefaultChecked);}i=0;while((elem=nodes[i++])){if(selection&&jQuery.inArray(elem,selection)!==-1){continue;}contains=jQuery.contains(elem.ownerDocument,elem);tmp=getAll(safe.appendChild(elem),"script");if(contains){setGlobalEval(tmp);}if(scripts){j=0;while((elem=tmp[j++])){if(rscriptType.test(elem.type||"")){scripts.push(elem);}}}}tmp=null;return safe;},cleanData:function(elems,acceptData){var elem,type,id,data,i=0,internalKey=jQuery.expando,cache=jQuery.cache,deleteExpando=jQuery.support.deleteExpando,special=jQuery.event.special;for(;(elem=elems[i])!=null;i++){if(acceptData||jQuery.acceptData(elem)){id=elem[internalKey];data=id&&cache[id];if(data){if(data.events){for(type in data.events){if(special[type]){jQuery.event.remove(elem,type);}else{jQuery.removeEvent(elem,type,data.handle);}}}if(cache[id]){delete cache[id];if(deleteExpando){delete elem[internalKey];}else if(typeof elem.removeAttribute!==core_strundefined){elem.removeAttribute(internalKey);}else{elem[internalKey]=null;}core_deletedIds.push(id);}}}}},_evalUrl:function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",async:false,global:false,"throws":true});}});jQuery.fn.extend({wrapAll:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i));});}if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0]);}wrap.map(function(){var elem=this;while(elem.firstChild&&elem.firstChild.nodeType===1){elem=elem.firstChild;}return elem;}).append(this);}return this;},wrapInner:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i));});}return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html);}else{self.append(html);}});},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html);});},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes);}}).end();}});var iframe,getStyles,curCSS,ralpha=/alpha\([^)]*\)/i,ropacity=/opacity\s*=\s*([^)]*)/,rposition=/^(top|right|bottom|left)$/,rdisplayswap=/^(none|table(?!-c[ea]).+)/,rmargin=/^margin/,rnumsplit=new RegExp("^("+core_pnum+")(.*)$","i"),rnumnonpx=new RegExp("^("+core_pnum+")(?!px)[a-z%]+$","i"),rrelNum=new RegExp("^([+-])=("+core_pnum+")","i"),elemdisplay={BODY:"block"},cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:0,fontWeight:400},cssExpand=["Top","Right","Bottom","Left"],cssPrefixes=["Webkit","O","Moz","ms"];function vendorPropName(style,name){if(name in style){return name;}var capName=name.charAt(0).toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;while(i--){name=cssPrefixes[i]+capName;if(name in style){return name;}}return origName;}function isHidden(elem,el){elem=el||elem;return jQuery.css(elem,"display")==="none"||!jQuery.contains(elem.ownerDocument,elem);}function showHide(elements,show){var display,elem,hidden,values=[],index=0,length=elements.length;for(;index<length;index++){elem=elements[index];if(!elem.style){continue;}values[index]=jQuery._data(elem,"olddisplay");display=elem.style.display;if(show){if(!values[index]&&display==="none"){elem.style.display="";}if(elem.style.display===""&&isHidden(elem)){values[index]=jQuery._data(elem,"olddisplay",css_defaultDisplay(elem.nodeName));}}else{if(!values[index]){hidden=isHidden(elem);if(display&&display!=="none"||!hidden){jQuery._data(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"));}}}}for(index=0;index<length;index++){elem=elements[index];if(!elem.style){continue;}if(!show||elem.style.display==="none"||elem.style.display===""){elem.style.display=show?values[index]||"":"none";}}return elements;}jQuery.fn.extend({css:function(name,value){return jQuery.access(this,function(elem,name,value){var len,styles,map={},i=0;if(jQuery.isArray(name)){styles=getStyles(elem);len=name.length;for(;i<len;i++){map[name[i]]=jQuery.css(elem,name[i],false,styles);}return map;}return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name);},name,value,arguments.length>1);},show:function(){return showHide(this,true);},hide:function(){return showHide(this);},toggle:function(state){if(typeof state==="boolean"){return state?this.show():this.hide();}return this.each(function(){if(isHidden(this)){jQuery(this).show();}else{jQuery(this).hide();}});}});jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return ret===""?"1":ret;}}}},cssNumber:{"columnCount":true,"fillOpacity":true,"fontWeight":true,"lineHeight":true,"opacity":true,"order":true,"orphans":true,"widows":true,"zIndex":true,"zoom":true},cssProps:{"float":jQuery.support.cssFloat?"cssFloat":"styleFloat"},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return;}var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(value!==undefined){type=typeof value;if(type==="string"&&(ret=rrelNum.exec(value))){value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name));type="number";}if(value==null||type==="number"&&isNaN(value)){return;}if(type==="number"&&!jQuery.cssNumber[origName]){value+="px";}if(!jQuery.support.clearCloneStyle&&value===""&&name.indexOf("background")===0){style[name]="inherit";}if(!hooks||!("set"in hooks)||(value=hooks.set(elem,value,extra))!==undefined){try{style[name]=value;}catch(e){}}}else{if(hooks&&"get"in hooks&&(ret=hooks.get(elem,false,extra))!==undefined){return ret;}return style[name];}},css:function(elem,name,extra,styles){var num,val,hooks,origName=jQuery.camelCase(name);name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(hooks&&"get"in hooks){val=hooks.get(elem,true,extra);}if(val===undefined){val=curCSS(elem,name,styles);}if(val==="normal"&&name in cssNormalTransform){val=cssNormalTransform[name];}if(extra===""||extra){num=parseFloat(val);return extra===true||jQuery.isNumeric(num)?num||0:val;}return val;}});if(window.getComputedStyle){getStyles=function(elem){return window.getComputedStyle(elem,null);};curCSS=function(elem,name,_computed){var width,minWidth,maxWidth,computed=_computed||getStyles(elem),ret=computed?computed.getPropertyValue(name)||computed[name]:undefined,style=elem.style;if(computed){if(ret===""&&!jQuery.contains(elem.ownerDocument,elem)){ret=jQuery.style(elem,name);}if(rnumnonpx.test(ret)&&rmargin.test(name)){width=style.width;minWidth=style.minWidth;maxWidth=style.maxWidth;style.minWidth=style.maxWidth=style.width=ret;ret=computed.width;style.width=width;style.minWidth=minWidth;style.maxWidth=maxWidth;}}return ret;};}else if(document.documentElement.currentStyle){getStyles=function(elem){return elem.currentStyle;};curCSS=function(elem,name,_computed){var left,rs,rsLeft,computed=_computed||getStyles(elem),ret=computed?computed[name]:undefined,style=elem.style;if(ret==null&&style&&style[name]){ret=style[name];}if(rnumnonpx.test(ret)&&!rposition.test(name)){left=style.left;rs=elem.runtimeStyle;rsLeft=rs&&rs.left;if(rsLeft){rs.left=elem.currentStyle.left;}style.left=name==="fontSize"?"1em":ret;ret=style.pixelLeft+"px";style.left=left;if(rsLeft){rs.left=rsLeft;}}return ret===""?"auto":ret;};}function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value;}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){var i=extra===(isBorderBox?"border":"content")?4:name==="width"?1:0,val=0;for(;i<4;i+=2){if(extra==="margin"){val+=jQuery.css(elem,extra+cssExpand[i],true,styles);}if(isBorderBox){if(extra==="content"){val-=jQuery.css(elem,"padding"+cssExpand[i],true,styles);}if(extra!=="margin"){val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles);}}else{val+=jQuery.css(elem,"padding"+cssExpand[i],true,styles);if(extra!=="padding"){val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles);}}}return val;}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=true,val=name==="width"?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox=jQuery.support.boxSizing&&jQuery.css(elem,"boxSizing",false,styles)==="border-box";if(val<=0||val==null){val=curCSS(elem,name,styles);if(val<0||val==null){val=elem.style[name];}if(rnumnonpx.test(val)){return val;}valueIsBorderBox=isBorderBox&&(jQuery.support.boxSizingReliable||val===elem.style[name]);val=parseFloat(val)||0;}return(val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles))+"px";}function css_defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];if(!display){display=actualDisplay(nodeName,doc);if(display==="none"||!display){iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(doc.documentElement);doc=(iframe[0].contentWindow||iframe[0].contentDocument).document;doc.write("<!doctype html><html><body>");doc.close();display=actualDisplay(nodeName,doc);iframe.detach();}elemdisplay[nodeName]=display;}return display;}function actualDisplay(name,doc){var elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=jQuery.css(elem[0],"display");elem.remove();return display;}jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed){return elem.offsetWidth===0&&rdisplayswap.test(jQuery.css(elem,"display"))?jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra);}):getWidthOrHeight(elem,name,extra);}},set:function(elem,value,extra){var styles=extra&&getStyles(elem);return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,jQuery.support.boxSizing&&jQuery.css(elem,"boxSizing",false,styles)==="border-box",styles):0);}};});if(!jQuery.support.opacity){jQuery.cssHooks.opacity={get:function(elem,computed){return ropacity.test((computed&&elem.currentStyle?elem.currentStyle.filter:elem.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":computed?"1":"";},set:function(elem,value){var style=elem.style,currentStyle=elem.currentStyle,opacity=jQuery.isNumeric(value)?"alpha(opacity="+value*100+")":"",filter=currentStyle&&currentStyle.filter||style.filter||"";style.zoom=1;if((value>=1||value==="")&&jQuery.trim(filter.replace(ralpha,""))===""&&style.removeAttribute){style.removeAttribute("filter");if(value===""||currentStyle&&!currentStyle.filter){return;}}style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):filter+" "+opacity;}};}jQuery(function(){if(!jQuery.support.reliableMarginRight){jQuery.cssHooks.marginRight={get:function(elem,computed){if(computed){return jQuery.swap(elem,{"display":"inline-block"},curCSS,[elem,"marginRight"]);}}};}if(!jQuery.support.pixelPosition&&jQuery.fn.position){jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]={get:function(elem,computed){if(computed){computed=curCSS(elem,prop);return rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed;}}};});}});if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.hidden=function(elem){return elem.offsetWidth<=0&&elem.offsetHeight<=0||(!jQuery.support.reliableHiddenOffsets&&((elem.style&&elem.style.display)||jQuery.css(elem,"display"))==="none");};jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem);};}jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){var i=0,expanded={},parts=typeof value==="string"?value.split(" "):[value];for(;i<4;i++){expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];}return expanded;}};if(!rmargin.test(prefix)){jQuery.cssHooks[prefix+suffix].set=setPositiveNumber;}});var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray());},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this;}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!manipulation_rcheckableType.test(type));}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")};}):{name:elem.name,value:val.replace(rCRLF,"\r\n")};}).get();}});jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():(value==null?"":value);s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value);};if(traditional===undefined){traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional;}if(jQuery.isArray(a)||(a.jquery&&!jQuery.isPlainObject(a))){jQuery.each(a,function(){add(this.name,this.value);});}else{for(prefix in a){buildParams(prefix,a[prefix],traditional,add);}}return s.join("&").replace(r20,"+");};function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v);}else{buildParams(prefix+"["+(typeof v==="object"?i:"")+"]",v,traditional,add);}});}else if(!traditional&&jQuery.type(obj)==="object"){for(name in obj){buildParams(prefix+"["+name+"]",obj[name],traditional,add);}}else{add(prefix,obj);}}jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup error contextmenu").split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name);};});jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver);},bind:function(types,data,fn){return this.on(types,null,data,fn);},unbind:function(types,fn){return this.off(types,null,fn);},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn);},undelegate:function(selector,types,fn){return arguments.length===1?this.off(selector,"**"):this.off(types,selector||"**",fn);}});var ajaxLocParts,ajaxLocation,ajax_nonce=jQuery.now(),ajax_rquery=/\?/,rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,_load=jQuery.fn.load,prefilters={},transports={},allTypes="*/".concat("*");try{ajaxLocation=location.href;}catch(e){ajaxLocation=document.createElement("a");ajaxLocation.href="";ajaxLocation=ajaxLocation.href;}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;dataTypeExpression="*";}var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(core_rnotwhite)||[];if(jQuery.isFunction(func)){while((dataType=dataTypes[i++])){if(dataType[0]==="+"){dataType=dataType.slice(1)||"*";(structure[dataType]=structure[dataType]||[]).unshift(func);}else{(structure[dataType]=structure[dataType]||[]).push(func);}}}};}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){var inspected={},seekingTransport=(structure===transports);function inspect(dataType){var selected;inspected[dataType]=true;jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);if(typeof dataTypeOrTransport==="string"&&!seekingTransport&&!inspected[dataTypeOrTransport]){options.dataTypes.unshift(dataTypeOrTransport);inspect(dataTypeOrTransport);return false;}else if(seekingTransport){return!(selected=dataTypeOrTransport);}});return selected;}return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*");}function ajaxExtend(target,src){var deep,key,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==undefined){(flatOptions[key]?target:(deep||(deep={})))[key]=src[key];}}if(deep){jQuery.extend(true,target,deep);}return target;}jQuery.fn.load=function(url,params,callback){if(typeof url!=="string"&&_load){return _load.apply(this,arguments);}var selector,response,type,self=this,off=url.indexOf(" ");if(off>=0){selector=url.slice(off,url.length);url=url.slice(0,off);}if(jQuery.isFunction(params)){callback=params;params=undefined;}else if(params&&typeof params==="object"){type="POST";}if(self.length>0){jQuery.ajax({url:url,type:type,dataType:"html",data:params}).done(function(responseText){response=arguments;self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText);}).complete(callback&&function(jqXHR,status){self.each(callback,response||[jqXHR.responseText,status,jqXHR]);});}return this;};jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn);};});jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target);},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if(typeof url==="object"){options=url;url=undefined;}options=options||{};var parts,i,cacheURL,responseHeadersString,timeoutTimer,fireGlobals,transport,responseHeaders,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(state===2){if(!responseHeaders){responseHeaders={};while((match=rheaders.exec(responseHeadersString))){responseHeaders[match[1].toLowerCase()]=match[2];}}match=responseHeaders[key.toLowerCase()];}return match==null?null:match;},getAllResponseHeaders:function(){return state===2?responseHeadersString:null;},setRequestHeader:function(name,value){var lname=name.toLowerCase();if(!state){name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;requestHeaders[name]=value;}return this;},overrideMimeType:function(type){if(!state){s.mimeType=type;}return this;},statusCode:function(map){var code;if(map){if(state<2){for(code in map){statusCode[code]=[statusCode[code],map[code]];}}else{jqXHR.always(map[jqXHR.status]);}}return this;},abort:function(statusText){var finalText=statusText||strAbort;if(transport){transport.abort(finalText);}done(0,finalText);return this;}};deferred.promise(jqXHR).complete=completeDeferred.add;jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;s.url=((url||s.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//");s.type=options.method||options.type||s.method||s.type;s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(core_rnotwhite)||[""];if(s.crossDomain==null){parts=rurl.exec(s.url.toLowerCase());s.crossDomain=!!(parts&&(parts[1]!==ajaxLocParts[1]||parts[2]!==ajaxLocParts[2]||(parts[3]||(parts[1]==="http:"?"80":"443"))!==(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?"80":"443"))));}if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional);}inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(state===2){return jqXHR;}fireGlobals=s.global;if(fireGlobals&&jQuery.active++===0){jQuery.event.trigger("ajaxStart");}s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);cacheURL=s.url;if(!s.hasContent){if(s.data){cacheURL=(s.url+=(ajax_rquery.test(cacheURL)?"&":"?")+s.data);delete s.data;}if(s.cache===false){s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+ajax_nonce++):cacheURL+(ajax_rquery.test(cacheURL)?"&":"?")+"_="+ajax_nonce++;}}if(s.ifModified){if(jQuery.lastModified[cacheURL]){jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]);}if(jQuery.etag[cacheURL]){jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL]);}}if(s.data&&s.hasContent&&s.contentType!==false||options.contentType){jqXHR.setRequestHeader("Content-Type",s.contentType);}jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i]);}if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||state===2)){return jqXHR.abort();}strAbort="abort";for(i in{success:1,error:1,complete:1}){jqXHR[i](s[i]);}transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,"No Transport");}else{jqXHR.readyState=1;if(fireGlobals){globalEventContext.trigger("ajaxSend",[jqXHR,s]);}if(s.async&&s.timeout>0){timeoutTimer=setTimeout(function(){jqXHR.abort("timeout");},s.timeout);}try{state=1;transport.send(requestHeaders,done);}catch(e){if(state<2){done(-1,e);}else{throw e;}}}function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;if(state===2){return;}state=2;if(timeoutTimer){clearTimeout(timeoutTimer);}transport=undefined;responseHeadersString=headers||"";jqXHR.readyState=status>0?4:0;isSuccess=status>=200&&status<300||status===304;if(responses){response=ajaxHandleResponses(s,jqXHR,responses);}response=ajaxConvert(s,response,jqXHR,isSuccess);if(isSuccess){if(s.ifModified){modified=jqXHR.getResponseHeader("Last-Modified");if(modified){jQuery.lastModified[cacheURL]=modified;}modified=jqXHR.getResponseHeader("etag");if(modified){jQuery.etag[cacheURL]=modified;}}if(status===204||s.type==="HEAD"){statusText="nocontent";}else if(status===304){statusText="notmodified";}else{statusText=response.state;success=response.data;error=response.error;isSuccess=!error;}}else{error=statusText;if(status||!statusText){statusText="error";if(status<0){status=0;}}}jqXHR.status=status;jqXHR.statusText=(nativeStatusText||statusText)+"";if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR]);}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error]);}jqXHR.statusCode(statusCode);statusCode=undefined;if(fireGlobals){globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]);}completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);if(!(--jQuery.active)){jQuery.event.trigger("ajaxStop");}}}return jqXHR;},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json");},getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script");}});jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=undefined;}return jQuery.ajax({url:url,type:method,dataType:type,data:data,success:callback});};});function ajaxHandleResponses(s,jqXHR,responses){var firstDataType,ct,finalDataType,type,contents=s.contents,dataTypes=s.dataTypes;while(dataTypes[0]==="*"){dataTypes.shift();if(ct===undefined){ct=s.mimeType||jqXHR.getResponseHeader("Content-Type");}}if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break;}}}if(dataTypes[0]in responses){finalDataType=dataTypes[0];}else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break;}if(!firstDataType){firstDataType=type;}}finalDataType=finalDataType||firstDataType;}if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType);}return responses[finalDataType];}}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1]){for(conv in s.converters){converters[conv.toLowerCase()]=s.converters[conv];}}current=dataTypes.shift();while(current){if(s.responseFields[current]){jqXHR[s.responseFields[current]]=response;}if(!prev&&isSuccess&&s.dataFilter){response=s.dataFilter(response,s.dataType);}prev=current;current=dataTypes.shift();if(current){if(current==="*"){current=prev;}else if(prev!=="*"&&prev!==current){conv=converters[prev+" "+current]||converters["* "+current];if(!conv){for(conv2 in converters){tmp=conv2.split(" ");if(tmp[1]===current){conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]];if(conv){if(conv===true){conv=converters[conv2];}else if(converters[conv2]!==true){current=tmp[0];dataTypes.unshift(tmp[1]);}break;}}}}if(conv!==true){if(conv&&s["throws"]){response=conv(response);}else{try{response=conv(response);}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current};}}}}}}return{state:"success",data:response};}jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(text){jQuery.globalEval(text);return text;}}});jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined){s.cache=false;}if(s.crossDomain){s.type="GET";s.global=false;}});jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,head=document.head||jQuery("head")[0]||document.documentElement;return{send:function(_,callback){script=document.createElement("script");script.async=true;if(s.scriptCharset){script.charset=s.scriptCharset;}script.src=s.url;script.onload=script.onreadystatechange=function(_,isAbort){if(isAbort||!script.readyState||/loaded|complete/.test(script.readyState)){script.onload=script.onreadystatechange=null;if(script.parentNode){script.parentNode.removeChild(script);}script=null;if(!isAbort){callback(200,"success");}}};head.insertBefore(script,head.firstChild);},abort:function(){if(script){script.onload(undefined,true);}}};}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||(jQuery.expando+"_"+(ajax_nonce++));this[callback]=true;return callback;}});jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==false&&(rjsonp.test(s.url)?"url":typeof s.data==="string"&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");if(jsonProp||s.dataTypes[0]==="jsonp"){callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;if(jsonProp){s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName);}else if(s.jsonp!==false){s.url+=(ajax_rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName;}s.converters["script json"]=function(){if(!responseContainer){jQuery.error(callbackName+" was not called");}return responseContainer[0];};s.dataTypes[0]="json";overwritten=window[callbackName];window[callbackName]=function(){responseContainer=arguments;};jqXHR.always(function(){window[callbackName]=overwritten;if(s[callbackName]){s.jsonpCallback=originalSettings.jsonpCallback;oldCallbacks.push(callbackName);}if(responseContainer&&jQuery.isFunction(overwritten)){overwritten(responseContainer[0]);}responseContainer=overwritten=undefined;});return"script";}});var xhrCallbacks,xhrSupported,xhrId=0,xhrOnUnloadAbort=window.ActiveXObject&&function(){var key;for(key in xhrCallbacks){xhrCallbacks[key](undefined,true);}};function createStandardXHR(){try{return new window.XMLHttpRequest();}catch(e){}}function createActiveXHR(){try{return new window.ActiveXObject("Microsoft.XMLHTTP");}catch(e){}}jQuery.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&createStandardXHR()||createActiveXHR();}:createStandardXHR;xhrSupported=jQuery.ajaxSettings.xhr();jQuery.support.cors=!!xhrSupported&&("withCredentials"in xhrSupported);xhrSupported=jQuery.support.ajax=!!xhrSupported;if(xhrSupported){jQuery.ajaxTransport(function(s){if(!s.crossDomain||jQuery.support.cors){var callback;return{send:function(headers,complete){var handle,i,xhr=s.xhr();if(s.username){xhr.open(s.type,s.url,s.async,s.username,s.password);}else{xhr.open(s.type,s.url,s.async);}if(s.xhrFields){for(i in s.xhrFields){xhr[i]=s.xhrFields[i];}}if(s.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(s.mimeType);}if(!s.crossDomain&&!headers["X-Requested-With"]){headers["X-Requested-With"]="XMLHttpRequest";}try{for(i in headers){xhr.setRequestHeader(i,headers[i]);}}catch(err){}xhr.send((s.hasContent&&s.data)||null);callback=function(_,isAbort){var status,responseHeaders,statusText,responses;try{if(callback&&(isAbort||xhr.readyState===4)){callback=undefined;if(handle){xhr.onreadystatechange=jQuery.noop;if(xhrOnUnloadAbort){delete xhrCallbacks[handle];}}if(isAbort){if(xhr.readyState!==4){xhr.abort();}}else{responses={};status=xhr.status;responseHeaders=xhr.getAllResponseHeaders();if(typeof xhr.responseText==="string"){responses.text=xhr.responseText;}try{statusText=xhr.statusText;}catch(e){statusText="";}if(!status&&s.isLocal&&!s.crossDomain){status=responses.text?200:404;}else if(status===1223){status=204;}}}}catch(firefoxAccessException){if(!isAbort){complete(-1,firefoxAccessException);}}if(responses){complete(status,statusText,responses,responseHeaders);}};if(!s.async){callback();}else if(xhr.readyState===4){setTimeout(callback);}else{handle=++xhrId;if(xhrOnUnloadAbort){if(!xhrCallbacks){xhrCallbacks={};jQuery(window).unload(xhrOnUnloadAbort);}xhrCallbacks[handle]=callback;}xhr.onreadystatechange=callback;}},abort:function(){if(callback){callback(undefined,true);}}};}});}var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+core_pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,value){var tween=this.createTween(prop,value),target=tween.cur(),parts=rfxnum.exec(value),unit=parts&&parts[3]||(jQuery.cssNumber[prop]?"":"px"),start=(jQuery.cssNumber[prop]||unit!=="px"&&+target)&&rfxnum.exec(jQuery.css(tween.elem,prop)),scale=1,maxIterations=20;if(start&&start[3]!==unit){unit=unit||start[3];parts=parts||[];start=+target||1;do{scale=scale||".5";start=start/scale;jQuery.style(tween.elem,prop,start+unit);}while(scale!==(scale=tween.cur()/target)&&scale!==1&&--maxIterations);}if(parts){start=tween.start=+start||+target||0;tween.unit=unit;tween.end=parts[1]?start+(parts[1]+1)*parts[2]:+parts[2];}return tween;}]};function createFxNow(){setTimeout(function(){fxNow=undefined;});return(fxNow=jQuery.now());}function createTween(value,prop,animation){var tween,collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;for(;index<length;index++){if((tween=collection[index].call(animation,prop,value))){return tween;}}}function Animation(elem,properties,options){var result,stopped,index=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem;}),tick=function(){if(stopped){return false;}var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;for(;index<length;index++){animation.tweens[index].run(percent);}deferred.notifyWith(elem,[animation,percent,remaining]);if(percent<1&&length){return remaining;}else{deferred.resolveWith(elem,[animation]);return false;}},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(true,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);animation.tweens.push(tween);return tween;},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped){return this;}stopped=true;for(;index<length;index++){animation.tweens[index].run(1);}if(gotoEnd){deferred.resolveWith(elem,[animation,gotoEnd]);}else{deferred.rejectWith(elem,[animation,gotoEnd]);}return this;}}),props=animation.props;propFilter(props,animation.opts.specialEasing);for(;index<length;index++){result=animationPrefilters[index].call(animation,elem,props,animation.opts);if(result){return result;}}jQuery.map(props,createTween,animation);if(jQuery.isFunction(animation.opts.start)){animation.opts.start.call(elem,animation);}jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue}));return animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always);}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props){name=jQuery.camelCase(index);easing=specialEasing[name];value=props[index];if(jQuery.isArray(value)){easing=value[1];value=props[index]=value[0];}if(index!==name){props[name]=value;delete props[index];}hooks=jQuery.cssHooks[name];if(hooks&&"expand"in hooks){value=hooks.expand(value);delete props[name];for(index in value){if(!(index in props)){props[index]=value[index];specialEasing[index]=easing;}}}else{specialEasing[name]=easing;}}}jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){if(jQuery.isFunction(props)){callback=props;props=["*"];}else{props=props.split(" ");}var prop,index=0,length=props.length;for(;index<length;index++){prop=props[index];tweeners[prop]=tweeners[prop]||[];tweeners[prop].unshift(callback);}},prefilter:function(callback,prepend){if(prepend){animationPrefilters.unshift(callback);}else{animationPrefilters.push(callback);}}});function defaultPrefilter(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=jQuery._data(elem,"fxshow");if(!opts.queue){hooks=jQuery._queueHooks(elem,"fx");if(hooks.unqueued==null){hooks.unqueued=0;oldfire=hooks.empty.fire;hooks.empty.fire=function(){if(!hooks.unqueued){oldfire();}};}hooks.unqueued++;anim.always(function(){anim.always(function(){hooks.unqueued--;if(!jQuery.queue(elem,"fx").length){hooks.empty.fire();}});});}if(elem.nodeType===1&&("height"in props||"width"in props)){opts.overflow=[style.overflow,style.overflowX,style.overflowY];if(jQuery.css(elem,"display")==="inline"&&jQuery.css(elem,"float")==="none"){if(!jQuery.support.inlineBlockNeedsLayout||css_defaultDisplay(elem.nodeName)==="inline"){style.display="inline-block";}else{style.zoom=1;}}}if(opts.overflow){style.overflow="hidden";if(!jQuery.support.shrinkWrapBlocks){anim.always(function(){style.overflow=opts.overflow[0];style.overflowX=opts.overflow[1];style.overflowY=opts.overflow[2];});}}for(prop in props){value=props[prop];if(rfxtypes.exec(value)){delete props[prop];toggle=toggle||value==="toggle";if(value===(hidden?"hide":"show")){continue;}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop);}}if(!jQuery.isEmptyObject(orig)){if(dataShow){if("hidden"in dataShow){hidden=dataShow.hidden;}}else{dataShow=jQuery._data(elem,"fxshow",{});}if(toggle){dataShow.hidden=!hidden;}if(hidden){jQuery(elem).show();}else{anim.done(function(){jQuery(elem).hide();});}anim.done(function(){var prop;jQuery._removeData(elem,"fxshow");for(prop in orig){jQuery.style(elem,prop,orig[prop]);}});for(prop in orig){tween=createTween(hidden?dataShow[prop]:0,prop,anim);if(!(prop in dataShow)){dataShow[prop]=tween.start;if(hidden){tween.end=tween.start;tween.start=prop==="width"||prop==="height"?1:0;}}}}}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing);}jQuery.Tween=Tween;Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem;this.prop=prop;this.easing=easing||"swing";this.options=options;this.start=this.now=this.cur();this.end=end;this.unit=unit||(jQuery.cssNumber[prop]?"":"px");},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this);},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];if(this.options.duration){this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration);}else{this.pos=eased=percent;}this.now=(this.end-this.start)*eased+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this);}if(hooks&&hooks.set){hooks.set(this);}else{Tween.propHooks._default.set(this);}return this;}};Tween.prototype.init.prototype=Tween.prototype;Tween.propHooks={_default:{get:function(tween){var result;if(tween.elem[tween.prop]!=null&&(!tween.elem.style||tween.elem.style[tween.prop]==null)){return tween.elem[tween.prop];}result=jQuery.css(tween.elem,tween.prop,"");return!result||result==="auto"?0:result;},set:function(tween){if(jQuery.fx.step[tween.prop]){jQuery.fx.step[tween.prop](tween);}else if(tween.elem.style&&(tween.elem.style[jQuery.cssProps[tween.prop]]!=null||jQuery.cssHooks[tween.prop])){jQuery.style(tween.elem,tween.prop,tween.now+tween.unit);}else{tween.elem[tween.prop]=tween.now;}}}};Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){if(tween.elem.nodeType&&tween.elem.parentNode){tween.elem[tween.prop]=tween.now;}}};jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return speed==null||typeof speed==="boolean"?cssFn.apply(this,arguments):this.animate(genFx(name,true),speed,easing,callback);};});jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback);},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);if(empty||jQuery._data(this,"finish")){anim.stop(true);}};doAnimation.finish=doAnimation;return empty||optall.queue===false?this.each(doAnimation):this.queue(optall.queue,doAnimation);},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop;stop(gotoEnd);};if(typeof type!=="string"){gotoEnd=clearQueue;clearQueue=type;type=undefined;}if(clearQueue&&type!==false){this.queue(type||"fx",[]);}return this.each(function(){var dequeue=true,index=type!=null&&type+"queueHooks",timers=jQuery.timers,data=jQuery._data(this);if(index){if(data[index]&&data[index].stop){stopQueue(data[index]);}}else{for(index in data){if(data[index]&&data[index].stop&&rrun.test(index)){stopQueue(data[index]);}}}for(index=timers.length;index--;){if(timers[index].elem===this&&(type==null||timers[index].queue===type)){timers[index].anim.stop(gotoEnd);dequeue=false;timers.splice(index,1);}}if(dequeue||!gotoEnd){jQuery.dequeue(this,type);}});},finish:function(type){if(type!==false){type=type||"fx";}return this.each(function(){var index,data=jQuery._data(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;data.finish=true;jQuery.queue(this,type,[]);if(hooks&&hooks.stop){hooks.stop.call(this,true);}for(index=timers.length;index--;){if(timers[index].elem===this&&timers[index].queue===type){timers[index].anim.stop(true);timers.splice(index,1);}}for(index=0;index<length;index++){if(queue[index]&&queue[index].finish){queue[index].finish.call(this);}}delete data.finish;});}});function genFx(type,includeWidth){var which,attrs={height:type},i=0;includeWidth=includeWidth?1:0;for(;i<4;i+=2-includeWidth){which=cssExpand[i];attrs["margin"+which]=attrs["padding"+which]=type;}if(includeWidth){attrs.opacity=attrs.width=type;}return attrs;}jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback);};});jQuery.speed=function(speed,easing,fn){var opt=speed&&typeof speed==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(opt.queue==null||opt.queue===true){opt.queue="fx";}opt.old=opt.complete;opt.complete=function(){if(jQuery.isFunction(opt.old)){opt.old.call(this);}if(opt.queue){jQuery.dequeue(this,opt.queue);}};return opt;};jQuery.easing={linear:function(p){return p;},swing:function(p){return 0.5-Math.cos(p*Math.PI)/2;}};jQuery.timers=[];jQuery.fx=Tween.prototype.init;jQuery.fx.tick=function(){var timer,timers=jQuery.timers,i=0;fxNow=jQuery.now();for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer){timers.splice(i--,1);}}if(!timers.length){jQuery.fx.stop();}fxNow=undefined;};jQuery.fx.timer=function(timer){if(timer()&&jQuery.timers.push(timer)){jQuery.fx.start();}};jQuery.fx.interval=13;jQuery.fx.start=function(){if(!timerId){timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval);}};jQuery.fx.stop=function(){clearInterval(timerId);timerId=null;};jQuery.fx.speeds={slow:600,fast:200,_default:400};jQuery.fx.step={};if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem;}).length;};}jQuery.fn.offset=function(options){if(arguments.length){return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i);});}var docElem,win,box={top:0,left:0},elem=this[0],doc=elem&&elem.ownerDocument;if(!doc){return;}docElem=doc.documentElement;if(!jQuery.contains(docElem,elem)){return box;}if(typeof elem.getBoundingClientRect!==core_strundefined){box=elem.getBoundingClientRect();}win=getWindow(doc);return{top:box.top+(win.pageYOffset||docElem.scrollTop)-(docElem.clientTop||0),left:box.left+(win.pageXOffset||docElem.scrollLeft)-(docElem.clientLeft||0)};};jQuery.offset={setOffset:function(elem,options,i){var position=jQuery.css(elem,"position");if(position==="static"){elem.style.position="relative";}var curElem=jQuery(elem),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=(position==="absolute"||position==="fixed")&&jQuery.inArray("auto",[curCSSTop,curCSSLeft])>-1,props={},curPosition={},curTop,curLeft;if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left;}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0;}if(jQuery.isFunction(options)){options=options.call(elem,i,curOffset);}if(options.top!=null){props.top=(options.top-curOffset.top)+curTop;}if(options.left!=null){props.left=(options.left-curOffset.left)+curLeft;}if("using"in options){options.using.call(elem,props);}else{curElem.css(props);}}};jQuery.fn.extend({position:function(){if(!this[0]){return;}var offsetParent,offset,parentOffset={top:0,left:0},elem=this[0];if(jQuery.css(elem,"position")==="fixed"){offset=elem.getBoundingClientRect();}else{offsetParent=this.offsetParent();offset=this.offset();if(!jQuery.nodeName(offsetParent[0],"html")){parentOffset=offsetParent.offset();}parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",true);parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",true);}return{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",true),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",true)};},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||docElem;while(offsetParent&&(!jQuery.nodeName(offsetParent,"html")&&jQuery.css(offsetParent,"position")==="static")){offsetParent=offsetParent.offsetParent;}return offsetParent||docElem;});}});jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top=/Y/.test(prop);jQuery.fn[method]=function(val){return jQuery.access(this,function(elem,method,val){var win=getWindow(elem);if(val===undefined){return win?(prop in win)?win[prop]:win.document.documentElement[method]:elem[method];}if(win){win.scrollTo(!top?val:jQuery(win).scrollLeft(),top?val:jQuery(win).scrollTop());}else{elem[method]=val;}},method,val,arguments.length,null);};});function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9?elem.defaultView||elem.parentWindow:false;}jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||typeof margin!=="boolean"),extra=defaultExtra||(margin===true||value===true?"margin":"border");return jQuery.access(this,function(elem,type,value){var doc;if(jQuery.isWindow(elem)){return elem.document.documentElement["client"+name];}if(elem.nodeType===9){doc=elem.documentElement;return Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name]);}return value===undefined?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra);},type,chainable?margin:undefined,chainable,null);};});});jQuery.fn.size=function(){return this.length;};jQuery.fn.andSelf=jQuery.fn.addBack;if(typeof module==="object"&&module&&typeof module.exports==="object"){module.exports=jQuery;}else{window.jQuery=window.$=jQuery;if(typeof define==="function"&&define.amd){define("jquery",[],function(){return jQuery;});}}})(window);;var mw=(function($,undefined){"use strict";var hasOwn=Object.prototype.hasOwnProperty;function Map(global){this.values=global===true?window:{};return this;}Map.prototype={get:function(selection,fallback){var results,i;if($.isArray(selection)){selection=$.makeArray(selection);results={};for(i=0;i<selection.length;i+=1){results[selection[i]]=this.get(selection[i],fallback);}return results;}if(typeof selection==='string'){if(this.values[selection]===undefined){if(fallback!==undefined){return fallback;}return null;}return this.values[selection];}if(selection===undefined){return this.values;}return null;},set:function(selection,value){var s;if($.isPlainObject(selection)){for(s in selection){this.values[s]=selection[s];}return true;}if(typeof selection==='string'&&value!==undefined){this.values[selection]=value;return true;}return false;},exists:function(selection){var s;if($.isArray(selection)){for(s=0;s<selection.length;s+=1){if(this.values[selection[s]]===undefined){return false;}}return true;}return this.values[selection]!==undefined;}};function Message(map,key,parameters){this.format='plain';this.map=map;this.key=key;this.parameters=parameters===undefined?[]:$.makeArray(parameters);return this;}Message.prototype={parser:function(){var parameters=this.parameters;return this.map.get(this.key).replace(/\$(\d+)/g,function(str,match){var index=parseInt(match,10)-1;return parameters[index]!==undefined?parameters[index]:'$'+match;});},params:function(parameters){var i;for(i=0;i<parameters.length;i+=1){this.parameters.push(parameters[i]);}return this;},toString:function(){var text;if(!this.exists()){if(this.format!=='plain'){return mw.html.escape('<'+this.key+'>');}return'<'+this.key+'>';}if(this.format==='plain'){text=this.parser();}if(this.format==='escaped'){text=this.parser();text=mw.html.escape(text);}if(this.format==='parse'){text=this.parser();}return text;},parse:function(){this.format='parse';return this.toString();},plain:function(){this.format='plain';return this.toString();},escaped:function(){this.format='escaped';return this.toString();},exists:function(){return this.map.exists(this.key);}};return{log:function(msg){},Map:Map,Message:Message,config:null,libs:{},legacy:{},messages:new Map(),message:function(key,parameter_1){var parameters;if(parameter_1!==undefined){parameters=$.makeArray(arguments);parameters.shift();}else{parameters=[];}return new Message(mw.messages,key,parameters);},msg:function(){return mw.message.apply(mw.message,arguments).toString();},loader:(function(){var registry={},sources={},batch=[],queue=[],jobs=[],ready=false,$marker=null;$(document).ready(function(){ready=true;});function getMarker(){if($marker){return $marker;}$marker=$('meta[name="ResourceLoaderDynamicStyles"]');if($marker.length){return $marker;}mw.log('getMarker> No <meta name="ResourceLoaderDynamicStyles"> found, inserting dynamically.');$marker=$('<meta>').attr('name','ResourceLoaderDynamicStyles').appendTo('head');return $marker;}function addStyleTag(text,$nextnode){var s=document.createElement('style');s.type='text/css';s.rel='stylesheet';if($nextnode){if($nextnode.nodeType){$nextnode=$($nextnode);}$nextnode.before(s);}else{document.getElementsByTagName('head')[0].appendChild(s);}if(s.styleSheet){s.styleSheet.cssText=text;}else{s.appendChild(document.createTextNode(String(text)));}return s;}function addInlineCSS(css){var $style,style,$newStyle;$style=getMarker().prev();if($style.is('style')&&$style.data('ResourceLoaderDynamicStyleTag')===true){style=$style.get(0);if(style.styleSheet){style.styleSheet.cssText+=css;}else{style.appendChild(document.createTextNode(String(css)));}}else{$newStyle=$(addStyleTag(css,getMarker())).data('ResourceLoaderDynamicStyleTag',true);}}function compare(a,b){var i;if(a.length!==b.length){return false;}for(i=0;i<b.length;i+=1){if($.isArray(a[i])){if(!compare(a[i],b[i])){return false;}}if(a[i]!==b[i]){return false;}}return true;}function formatVersionNumber(timestamp){var pad=function(a,b,c){return[a<10?'0'+a:a,b<10?'0'+b:b,c<10?'0'+c:c].join('');},d=new Date();d.setTime(timestamp*1000);return[pad(d.getUTCFullYear(),d.getUTCMonth()+1,d.getUTCDate()),'T',pad(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds()),'Z'].join('');}function recurse(module,resolved,unresolved){var n,deps,len;if(registry[module]===undefined){throw new Error('Unknown dependency: '+module);}if($.isFunction(registry[module].dependencies)){registry[module].dependencies=registry[module].dependencies();if(typeof registry[module].dependencies!=='object'){registry[module].dependencies=[registry[module].dependencies];}}deps=registry[module].dependencies;len=deps.length;for(n=0;n<len;n+=1){if($.inArray(deps[n],resolved)===-1){if($.inArray(deps[n],unresolved)!==-1){throw new Error('Circular reference detected: '+module+' -> '+deps[n]);}unresolved[unresolved.length]=module;recurse(deps[n],resolved,unresolved);unresolved.pop();}}resolved[resolved.length]=module;}function resolve(module){var modules,m,deps,n,resolved;if($.isArray(module)){modules=[];for(m=0;m<module.length;m+=1){deps=resolve(module[m]);for(n=0;n<deps.length;n+=1){modules[modules.length]=deps[n];}}return modules;}if(typeof module==='string'){resolved=[];recurse(module,resolved,[]);return resolved;}throw new Error('Invalid module argument: '+module);}function filter(states,modules){var list,module,s,m;if(typeof states==='string'){states=[states];}list=[];if(modules===undefined){modules=[];for(module in registry){modules[modules.length]=module;}}for(s=0;s<states.length;s+=1){for(m=0;m<modules.length;m+=1){if(registry[modules[m]]===undefined){if(states[s]==='unregistered'){list[list.length]=modules[m];}}else{if(registry[modules[m]].state===states[s]){list[list.length]=modules[m];}}}}return list;}function handlePending(module){var j,r;for(j=0;j<jobs.length;j+=1){if(compare(filter('ready',jobs[j].dependencies),jobs[j].dependencies)){if($.isFunction(jobs[j].ready)){jobs[j].ready();}jobs.splice(j,1);j-=1;}else if(compare(filter(['ready','error'],jobs[j].dependencies).sort(),jobs[j].dependencies.sort())){if($.isFunction(jobs[j].error)){jobs[j].error();}jobs.splice(j,1);j-=1;}}for(r in registry){if(registry[r].state==='loaded'){if(compare(filter(['ready'],registry[r].dependencies),registry[r].dependencies)){execute(r);}}}}function addScript(src,callback,async){var done=false,script,head;if(true){script=document.createElement('script');script.setAttribute('src',src);script.setAttribute('type','text/javascript');if(callback&&$.isFunction(callback)){script.onload=script.onerror=script.onreadystatechange=function(){if(!done&&(!script.readyState||/loaded|complete/.test(script.readyState))){done=true;var eventType;var errorSignal=false;if(arguments&&arguments[0]&&arguments[0].type){eventType=arguments[0].type;if(eventType=="error"){errorSignal=true;}}callback(errorSignal);try{script.onload=script.onreadystatechange=null;if(script.parentNode){script.parentNode.removeChild(script);}script=undefined;}catch(e){}}};}if(window.opera){$(function(){document.body.appendChild(script);});}else{head=document.getElementsByTagName('head')[0];(document.body||head).appendChild(script);}}else{document.write(mw.html.element('script',{'type':'text/javascript','src':src},''));if(callback&&$.isFunction(callback)){callback();}}}function execute(module,callback){var style,media,i,script,markModuleReady,nestedAddScript;if(registry[module]===undefined){throw new Error('Module has not been registered yet: '+module);}else if(registry[module].state==='registered'){throw new Error('Module has not been requested from the server yet: '+module);}else if(registry[module].state==='loading'){throw new Error('Module has not completed loading yet: '+module);}else if(registry[module].state==='ready'){throw new Error('Module has already been loaded: '+module);}if($.isPlainObject(registry[module].style)){for(media in registry[module].style){style=registry[module].style[media];if($.isArray(style)){for(i=0;i<style.length;i+=1){getMarker().before(mw.html.element('link',{'type':'text/css','rel':'stylesheet','href':style[i]}));}}else if(typeof style==='string'){addInlineCSS(style);}}}if($.isPlainObject(registry[module].messages)){mw.messages.set(registry[module].messages);}script=registry[module].script;markModuleReady=function(state){registry[module].state=state||'ready';handlePending(module);if(callback&&$.isFunction(callback)){callback();}};nestedAddScript=function(arr,callback,async,i){if(i>=arr.length){callback();return;}addScript(arr[i],function(error){if(error){callback('error');}else{nestedAddScript(arr,callback,async,i+1);}},async);};if($.isArray(script)){registry[module].state='loading';nestedAddScript(script,markModuleReady,registry[module].async,0);}else if($.isFunction(script)){script();markModuleReady();}}function request(dependencies,ready,error,async){var regItemDeps,regItemDepLen,n;if(typeof dependencies==='string'){dependencies=[dependencies];if(registry[dependencies[0]]!==undefined){regItemDeps=registry[dependencies[0]].dependencies;regItemDepLen=regItemDeps.length;for(n=0;n<regItemDepLen;n+=1){dependencies[dependencies.length]=regItemDeps[n];}}}if(ready!==undefined||error!==undefined){jobs[jobs.length]={'dependencies':filter(['registered','loading','loaded'],dependencies),'ready':ready,'error':error};}dependencies=filter(['registered'],dependencies);for(n=0;n<dependencies.length;n+=1){if($.inArray(dependencies[n],queue)===-1){queue[queue.length]=dependencies[n];if(async){registry[dependencies[n]].async=true;}}}mw.loader.work();}function sortQuery(o){var sorted={},key,a=[];for(key in o){if(hasOwn.call(o,key)){a.push(key);}}a.sort();for(key=0;key<a.length;key+=1){sorted[a[key]]=o[a[key]];}return sorted;}function buildModulesString(moduleMap){var arr=[],p,prefix;for(prefix in moduleMap){p=prefix===''?'':prefix+'.';arr.push(p+moduleMap[prefix].join(','));}return arr.join('|');}function doRequest(moduleMap,currReqBase,sourceLoadScript,async){var request=$.extend({'modules':buildModulesString(moduleMap)},currReqBase);request=sortQuery(request);addScript(sourceLoadScript+'?'+$.param(request)+'&*',null,async);}return{addStyleTag:addStyleTag,work:function(){var reqBase,splits,maxQueryLength,q,b,bSource,bGroup,bSourceGroup,source,group,g,i,modules,maxVersion,sourceLoadScript,currReqBase,currReqBaseLength,moduleMap,l,lastDotIndex,prefix,suffix,bytesAdded,async;reqBase={skin:mw.config.get('skin'),lang:mw.config.get('wgUserLanguage'),debug:mw.config.get('debug')};splits={};maxQueryLength=mw.config.get('wgResourceLoaderMaxQueryLength',-1);for(q=0;q<queue.length;q+=1){if(registry[queue[q]]!==undefined&&registry[queue[q]].state==='registered'){if($.inArray(queue[q],batch)===-1){batch[batch.length]=queue[q];registry[queue[q]].state='loading';}}}if(!batch.length){return;}queue=[];batch.sort();for(b=0;b<batch.length;b+=1){bSource=registry[batch[b]].source;bGroup=registry[batch[b]].group;if(splits[bSource]===undefined){splits[bSource]={};}if(splits[bSource][bGroup]===undefined){splits[bSource][bGroup]=[];}bSourceGroup=splits[bSource][bGroup];bSourceGroup[bSourceGroup.length]=batch[b];}batch=[];for(source in splits){sourceLoadScript=sources[source].loadScript;for(group in splits[source]){modules=splits[source][group];maxVersion=0;for(g=0;g<modules.length;g+=1){if(registry[modules[g]].version>maxVersion){maxVersion=registry[modules[g]].version;}}currReqBase=$.extend({'version':formatVersionNumber(maxVersion)},reqBase);currReqBaseLength=$.param(currReqBase).length;async=true;l=currReqBaseLength+9;moduleMap={};for(i=0;i<modules.length;i+=1){lastDotIndex=modules[i].lastIndexOf('.');prefix=modules[i].substr(0,lastDotIndex);suffix=modules[i].substr(lastDotIndex+1);bytesAdded=moduleMap[prefix]!==undefined?suffix.length+3:modules[i].length+3;if(maxQueryLength>0&&!$.isEmptyObject(moduleMap)&&l+bytesAdded>maxQueryLength){doRequest(moduleMap,currReqBase,sourceLoadScript,async);moduleMap={};async=true;l=currReqBaseLength+9;}if(moduleMap[prefix]===undefined){moduleMap[prefix]=[];}moduleMap[prefix].push(suffix);if(!registry[modules[i]].async){async=false;}l+=bytesAdded;}if(!$.isEmptyObject(moduleMap)){doRequest(moduleMap,currReqBase,sourceLoadScript,async);}}}},addSource:function(id,props){var source;if(typeof id==='object'){for(source in id){mw.loader.addSource(source,id[source]);}return true;}if(sources[id]!==undefined){throw new Error('source already registered: '+id);}sources[id]=props;return true;},register:function(module,version,dependencies,group,source){var m;if(typeof module==='object'){for(m=0;m<module.length;m+=1){if(typeof module[m]==='string'){mw.loader.register(module[m]);}else if(typeof module[m]==='object'){mw.loader.register.apply(mw.loader,module[m]);}}return;}if(typeof module!=='string'){throw new Error('module must be a string, not a '+typeof module);}if(registry[module]!==undefined){throw new Error('module already registered: '+module);}registry[module]={'version':version!==undefined?parseInt(version,10):0,'dependencies':[],'group':typeof group==='string'?group:null,'source':typeof source==='string'?source:'local','state':'registered'};if(typeof dependencies==='string'){registry[module].dependencies=[dependencies];}else if(typeof dependencies==='object'||$.isFunction(dependencies)){registry[module].dependencies=dependencies;}},implement:function(module,script,style,msgs){if(typeof module!=='string'){throw new Error('module must be a string, not a '+typeof module);}if(!$.isFunction(script)&&!$.isArray(script)){throw new Error('script must be a function or an array, not a '+typeof script);}if(!$.isPlainObject(style)){throw new Error('style must be an object, not a '+typeof style);}if(!$.isPlainObject(msgs)){throw new Error('msgs must be an object, not a '+typeof msgs);}if(registry[module]===undefined){mw.loader.register(module);}if(registry[module]!==undefined&&registry[module].script!==undefined){throw new Error('module already implemented: '+module);}registry[module].state='loaded';registry[module].script=script;registry[module].style=style;registry[module].messages=msgs;if(compare(filter(['ready'],registry[module].dependencies),registry[module].dependencies)){execute(module);}},using:function(dependencies,ready,error){var tod=typeof dependencies;if(tod!=='object'&&tod!=='string'){throw new Error('dependencies must be a string or an array, not a '+tod);}if(tod==='string'){dependencies=[dependencies];}dependencies=resolve(dependencies);if(compare(filter(['ready'],dependencies),dependencies)){if($.isFunction(ready)){ready();}}else if(filter(['error'],dependencies).length){if($.isFunction(error)){error(new Error('one or more dependencies have state "error"'),dependencies);}}else{request(dependencies,ready,error);}},load:function(modules,type,async){var filtered,m;if(typeof modules!=='object'&&typeof modules!=='string'){throw new Error('modules must be a string or an array, not a '+typeof modules);}if(typeof modules==='string'){if(/^(https?:)?\/\//.test(modules)){if(async===undefined){async=true;}if(type==='text/css'){$('head').append($('<link>',{rel:'stylesheet',type:'text/css',href:modules}));return;}if(type==='text/javascript'||type===undefined){addScript(modules,null,async);return;}throw new Error('invalid type for external url, must be text/css or text/javascript. not '+type);}modules=[modules];}for(filtered=[],m=0;m<modules.length;m+=1){if(registry[modules[m]]!==undefined){filtered[filtered.length]=modules[m];}}filtered=resolve(filtered);if(compare(filter(['ready'],filtered),filtered)){return;}if(filter(['error'],filtered).length){return;}request(filtered,null,null,async);return;},state:function(module,state){var m;if(typeof module==='object'){for(m in module){mw.loader.state(m,module[m]);}return;}if(registry[module]===undefined){mw.loader.register(module);}registry[module].state=state;},getVersion:function(module){if(registry[module]!==undefined&&registry[module].version!==undefined){return formatVersionNumber(registry[module].version);}return null;},version:function(){return mw.loader.getVersion.apply(mw.loader,arguments);},getState:function(module){if(registry[module]!==undefined&&registry[module].state!==undefined){return registry[module].state;}return null;},getModuleNames:function(){return $.map(registry,function(i,key){return key;});},go:function(){mw.loader.load('mediawiki.user');}};}()),html:(function(){function escapeCallback(s){switch(s){case"'":return'&#039;';case'"':return'&quot;';case'<':return'&lt;';case'>':return'&gt;';case'&':return'&amp;';}}return{escape:function(s){return s.replace(/['"<>&]/g,escapeCallback);},Raw:function(value){this.value=value;},Cdata:function(value){this.value=value;},element:function(name,attrs,contents){var v,attrName,s='<'+name;for(attrName in attrs){v=attrs[attrName];if(v===true){v=attrName;}else if(v===false){continue;}s+=' '+attrName+'="'+this.escape(String(v))+'"';}if(contents===undefined||contents===null){s+='/>';return s;}s+='>';switch(typeof contents){case'string':s+=this.escape(contents);break;case'number':case'boolean':s+=String(contents);break;default:if(contents instanceof this.Raw){s+=contents.value;}else if(contents instanceof this.Cdata){if(/<\/[a-zA-z]/.test(contents.value)){throw new Error('mw.html.element: Illegal end tag found in CDATA');}s+=contents.value;}else{throw new Error('mw.html.element: Invalid type of contents');}}s+='</'+name+'>';return s;}};}()),user:{options:new Map(),tokens:new Map()}};}(jQuery));window.$j=jQuery;window.mw=window.mediaWiki=mw;if(jQuery.isFunction(window.startUp)){window.startUp();window.startUp=undefined;};(function(root,factory){if(typeof exports=='object')module.exports=factory()
else if(typeof define=='function'&&define.amd)define(factory)
else root.Spinner=factory()}(this,function(){"use strict";var prefixes=['webkit','Moz','ms','O'],animations={},useCssAnimations
	function createEl(tag,prop){var el=document.createElement(tag||'div'),n
		for(n in prop)el[n]=prop[n]
		return el}function ins(parent){for(var i=1,n=arguments.length;i<n;i++)parent.appendChild(arguments[i])
		return parent}var sheet=(function(){var el=createEl('style',{type:'text/css'})
		ins(document.getElementsByTagName('head')[0],el)
		return el.sheet||el.styleSheet}())
	function addAnimation(alpha,trail,i,lines){var name=['opacity',trail,~~(alpha*100),i,lines].join('-'),start=0.01+i/lines*100,z=Math.max(1-(1-alpha)/trail*(100-start),alpha),prefix=useCssAnimations.substring(0,useCssAnimations.indexOf('Animation')).toLowerCase(),pre=prefix&&'-'+prefix+'-'||''
		if(!animations[name]){sheet.insertRule('@'+pre+'keyframes '+name+'{'+'0%{opacity:'+z+'}'+start+'%{opacity:'+alpha+'}'+(start+0.01)+'%{opacity:1}'+(start+trail)%100+'%{opacity:'+alpha+'}'+'100%{opacity:'+z+'}'+'}',sheet.cssRules.length)
			animations[name]=1}return name}function vendor(el,prop){var s=el.style,pp,i
		if(s[prop]!==undefined)return prop
		prop=prop.charAt(0).toUpperCase()+prop.slice(1)
		for(i=0;i<prefixes.length;i++){pp=prefixes[i]+prop
			if(s[pp]!==undefined)return pp}}function css(el,prop){for(var n in prop)el.style[vendor(el,n)||n]=prop[n]
		return el}function merge(obj){for(var i=1;i<arguments.length;i++){var def=arguments[i]
		for(var n in def)if(obj[n]===undefined)obj[n]=def[n]}return obj}function pos(el){var o={x:el.offsetLeft,y:el.offsetTop}
		while((el=el.offsetParent))o.x+=el.offsetLeft,o.y+=el.offsetTop
		return o}function getColor(color,idx){if(typeof color=='object'&&color.length){return color[idx%color.length];}return color;}var defaults={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:'#000',direction:1,speed:1,trail:100,opacity:1/4,fps:20,zIndex:2e9,className:'spinner',top:'auto',left:'auto',position:'relative'}
	function Spinner(o){if(typeof this=='undefined')return new Spinner(o)
		this.opts=merge(o||{},Spinner.defaults,defaults)}Spinner.defaults={}
	merge(Spinner.prototype,{spin:function(target){this.stop()
		var self=this,o=self.opts,el=self.el=css(createEl(0,{className:o.className}),{position:o.position,width:0,zIndex:o.zIndex}),mid=o.radius+o.length+o.width,ep,tp
		if(target){target.insertBefore(el,target.firstChild||null)
			tp=pos(target)
			ep=pos(el)
			css(el,{left:(o.left=='auto'?tp.x-ep.x+(target.offsetWidth>>1):parseInt(o.left,10)+mid)+'px',top:(o.top=='auto'?tp.y-ep.y+(target.offsetHeight>>1):parseInt(o.top,10)+mid)+'px'})}el.setAttribute('role','progressbar')
		self.lines(el,self.opts)
		if(!useCssAnimations){var i=0,start=(o.lines-1)*(1-o.direction)/2,alpha,fps=o.fps,f=fps/o.speed,ostep=(1-o.opacity)/(f*o.trail/100),astep=f/o.lines;(function anim(){i++;for(var j=0;j<o.lines;j++){alpha=Math.max(1-(i+(o.lines-j)*astep)%f*ostep,o.opacity)
			self.opacity(el,j*o.direction+start,alpha,o)}self.timeout=self.el&&setTimeout(anim,~~(1000/fps))})()}return self},stop:function(){var el=this.el
		if(el){clearTimeout(this.timeout)
			if(el.parentNode)el.parentNode.removeChild(el)
			this.el=undefined}return this},lines:function(el,o){var i=0,start=(o.lines-1)*(1-o.direction)/2,seg
		function fill(color,shadow){return css(createEl(),{position:'absolute',width:(o.length+o.width)+'px',height:o.width+'px',background:color,boxShadow:shadow,transformOrigin:'left',transform:'rotate('+~~(360/o.lines*i+o.rotate)+'deg) translate('+o.radius+'px'+',0)',borderRadius:(o.corners*o.width>>1)+'px'})}for(;i<o.lines;i++){seg=css(createEl(),{position:'absolute',top:1+~(o.width/2)+'px',transform:o.hwaccel?'translate3d(0,0,0)':'',opacity:o.opacity,animation:useCssAnimations&&addAnimation(o.opacity,o.trail,start+i*o.direction,o.lines)+' '+1/o.speed+'s linear infinite'})
			if(o.shadow)ins(seg,css(fill('#000','0 0 4px '+'#000'),{top:2+'px'}))
			ins(el,ins(seg,fill(getColor(o.color,i),'0 0 1px rgba(0,0,0,.1)')))}return el},opacity:function(el,i,val){if(i<el.childNodes.length)el.childNodes[i].style.opacity=val}})
	function initVML(){function vml(tag,attr){return createEl('<'+tag+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',attr)}sheet.addRule('.spin-vml','behavior:url(#default#VML)')
		Spinner.prototype.lines=function(el,o){var r=o.length+o.width,s=2*r
			function grp(){return css(vml('group',{coordsize:s+' '+s,coordorigin:-r+' '+-r}),{width:s,height:s})}var margin=-(o.width+o.length)*2+'px',g=css(grp(),{position:'absolute',top:margin,left:margin}),i
			function seg(i,dx,filter){ins(g,ins(css(grp(),{rotation:360/o.lines*i+'deg',left:~~dx}),ins(css(vml('roundrect',{arcsize:o.corners}),{width:r,height:o.width,left:o.radius,top:-o.width>>1,filter:filter}),vml('fill',{color:getColor(o.color,i),opacity:o.opacity}),vml('stroke',{opacity:0}))))}if(o.shadow)for(i=1;i<=o.lines;i++)seg(i,-2,'progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)')
			for(i=1;i<=o.lines;i++)seg(i)
			return ins(el,g)}
		Spinner.prototype.opacity=function(el,i,val,o){var c=el.firstChild
			o=o.shadow&&o.lines||0
			if(c&&i+o<c.childNodes.length){c=c.childNodes[i+o];c=c&&c.firstChild;c=c&&c.firstChild
				if(c)c.opacity=val}}}var probe=css(createEl('group'),{behavior:'url(#default#VML)'})
	if(!vendor(probe,'transform')&&probe.adj)initVML()
	else useCssAnimations=vendor(probe,'animation')
	return Spinner}));;'video audio source track'.replace(/\w+/g,function(n){document.createElement(n);});Date.now=Date.now||function(){return+new Date;};(function(mw,$){mw.interfacesReadyFlag=false;mw.ready=function(callback){if(mw.interfacesReadyFlag===false){$(mw).bind('InterfacesReady',callback);}else{callback();}};if(typeof window.preMwEmbedReady!='undefined'){while(window.preMwEmbedReady.length){mw.ready(window.preMwEmbedReady.pop());}}window.gM=function(){return mw.msg.apply(this,$.makeArray(arguments));};mw.addMessages=function(msgOb){mw.messages.set(msgOb);}
	mw.setConfig=function(name,value){mw.config.set(name,value);};mw.getConfig=function(name,value){return mw.config.get(name,value);};mw.setDefaultConfig=function(name,value){if(mw.config.get(name)===null){mw.config.set(name,value);}};if(typeof window.preMwEmbedConfig!='undefined'){mw.setConfig(window.preMwEmbedConfig);}mw.load=function(resources,callback){mw.loader.using(resources,callback,function(){mw.log("Failed to load resources:"+resources);});};mw.getEmbedPlayerPath=function(){if(mw.config.get('wgExtensionAssetsPath')){return mw.config.get('wgExtensionAssetsPath')+'/TimedMediaHandler/MwEmbedModules/EmbedPlayer'}else if(mw.config.get('wgLoadScript')){return mw.getMwEmbedPath()+'modules/EmbedPlayer'}};mw.bindHelper=function(name,callback){$(this).bind(name,callback);return this;};mw.getMwEmbedPath=function(){if(mw.config.get('wgLoadScript')){return mw.config.get('wgLoadScript').replace('load.php','');}return false;};mw.mergeConfig=function(name,value){if(typeof name=='object'){$.each(name,function(inx,val){mw.mergeConfig(inx,val);});return;}var existingValue=mw.config.get(name);if(!existingValue||typeof existingValue=='string'){mw.setConfig(name,value);return;}if(typeof mw.config.get(name)=='object'){if($.isArray(existingValue)&&$.isArray(value)){for(var i=0;i<value.length;i++){existingValue.push(value[i]);}mw.setConfig(name,$.unique(existingValue));}else{mw.setConfig(name,$.extend({},existingValue,value));}return;}};mw.inherit=function(_this,inhertParent){for(var method in inhertParent){if(_this[method]){_this['parent_'+method]=inhertParent[method];}else{_this[method]=inhertParent[method];}}};mw.isUrl=function(url){try{new mw.Uri(url);return true;}catch(e){}return false;};mw.versionIsAtLeast=function(minVersion,clientVersion){if(typeof clientVersion=='undefined'){clientVersion=window.MWEMBED_VERSION;}var minVersionParts=minVersion.split('.');var clientVersionParts=clientVersion.split('.');for(var i=0;i<minVersionParts.length;i++){if(parseInt(clientVersionParts[i])>parseInt(minVersionParts[i])){return true;}if(parseInt(clientVersionParts[i])<parseInt(minVersionParts[i])){return false;}}return true;};$(mw).trigger('MwEmbedSupportReady');$(mw).bind('InterfacesReady',function(){mw.interfacesReadyFlag=true;});$(document).ready(function(){$(mw).triggerQueueCallback('SetupInterface',function(){$(mw).trigger('InterfacesReady');});});mw.getHexColor=function(color){if(typeof color=='string'&&color.substr(0,1)=="#"){return color;}if(typeof color=='string'&&color.substr(0,2)=="0x"){return color.replace('0x','#');}else{color=parseInt(color);color=color.toString(16);var len=6-color.length;if(len>0){var pre='';for(var i=0;i<len;i++){pre+='0';}color=pre+color;}return'#'+color;}};mw.sendBeaconUrl=function(beaconUrl){var beacon=new Image();beacon.src=beaconUrl;};})(mediaWiki,jQuery);;(function($){$.fn.triggerQueueCallback=function(triggerName,triggerParam,callback){var targetObject=this;if(!targetObject.length){mw.log("Error:: triggerQueueCallback: no targetObject to trigger event on");return;}if(!callback&&typeof triggerParam=='function'){callback=triggerParam;triggerParam=null;}var triggerBaseName=triggerName.split(".")[0];var triggerNamespace=triggerName.split(".")[1];var callbackSet=[];if(!jQuery._data(targetObject[0],"events")){callback();return;}var triggerEventSet=jQuery._data(targetObject[0],"events")[triggerBaseName];if(!triggerNamespace){callbackSet=triggerEventSet;}else{$.each(triggerEventSet,function(inx,bindObject){if(bindObject.namespace==triggerNamespace){callbackSet.push(bindObject);}});}if(!callbackSet||callbackSet.length===0){callback();return;}var callbackCount=(callbackSet.length)?callbackSet.length:1;var callInx=0;var callbackData=[];var doCallbackCheck=function(){var args=$.makeArray(arguments);if(args.length==1){args=args[0];}callbackData.push(args);callInx++;if(callInx==callbackCount){callback(callbackData);}};var triggerArgs=(triggerParam)?[triggerParam,doCallbackCheck]:[doCallbackCheck];$(this).trigger(triggerName,triggerArgs);};})(jQuery);;(function($){$.fn.loadingSpinner=function(opts){$(this).empty();var spinnerConfig={lines:11,length:10,width:6,radius:12,corners:1,rotate:0,direction:1,color:['rgb(0,154,218)','rgb(255,221,79)','rgb(0,168,134)','rgb(233,44,46)','rgb(181,211,52)','rgb(252,237,0)','rgb(0,180,209)','rgb(117,192,68)','rgb(232,44,46)','rgb(250,166,26)','rgb(0,154,218)','rgb(232,44,46)','rgb(255,221,79)','rgb(117,192,68)','rgb(232,44,46)'],imageUrl:'',speed:1.6,trail:100,shadow:false,hwaccel:true,className:'spinner',zIndex:2e9,top:'auto',left:'auto'};if(!opts){opts={};}var options=null;if(mw.getConfig('loadingSpinner')){options=mw.getConfig('loadingSpinner');}else{if(kalturaIframePackageData&&kalturaIframePackageData.playerConfig&&kalturaIframePackageData.playerConfig.plugins&&kalturaIframePackageData.playerConfig.plugins.loadingSpinner){options=kalturaIframePackageData.playerConfig.plugins.loadingSpinner;}}if(options){opts=$.extend(opts,options);if(opts['lineLength']){opts['length']=opts['lineLength'];}if(opts['color']){opts['color']=opts['color'].split('|');if(opts['color'].length==1){opts['color']=opts['color'][0];}}}opts=$.extend({},spinnerConfig,opts);this.each(function(){var $this=$(this).empty();var thisSpinner=$this.data('spinner');if(thisSpinner){thisSpinner.stop();delete thisSpinner;}if(opts!==false){if(opts['imageUrl'].length>0){var $loadingSpinner=$('<img />').attr("src",opts['imageUrl']).load(function(){$(this).css({'margin-top':'-'+(this.height/2)+'px','margin-left':'-'+(this.width/2)+'px'});});thisSpinner=$this.append($loadingSpinner);}else{thisSpinner=new Spinner($.extend({color:$this.css('color')},opts)).spin(this);}}});return this;};$.fn.getAbsoluteOverlaySpinner=function(){var spinOps=($(this).height()<36)?{'length':5,'width':2,'radius':4}:{};var spinerSize={'width':45,'height':45};var $spinner=$('<div />').css({'width':spinerSize.width,'height':spinerSize.height,'position':'absolute','top':'50%','left':'50%','z-index':100}).loadingSpinner(spinOps)
	var pos=$(this).position();var $overlay=$("<div />").css(pos).css({'position':'absolute','width':$(this).width(),'height':$(this).height()}).append($spinner);var spinnerIsEnabled=!mw.getConfig('LoadingSpinner.Disabled');if(mw.getConfig('loadingSpinner')){var config=mw.getConfig('loadingSpinner');if(config&&config.plugin===false){spinnerIsEnabled=false;}}if(spinnerIsEnabled){$(this).after($overlay);}return $overlay;};})(jQuery);;mw.loader.state({"jquery":"ready","mediawiki":"ready","Spinner":"ready","mw.MwEmbedSupport":"ready","jquery.triggerQueueCallback":"ready","jquery.loadingSpinner":"ready"});

/* cache key: resourceloader:filter:minify-js:7:8de052ed669e6a3a3d00a8e26e564f16 */

mw.loader.implement("MD5",function($){window.MD5=function(string){function RotateLeft(lValue,iShiftBits){return(lValue<<iShiftBits)|(lValue>>>(32-iShiftBits));}function AddUnsigned(lX,lY){var lX4,lY4,lX8,lY8,lResult;lX8=(lX&0x80000000);lY8=(lY&0x80000000);lX4=(lX&0x40000000);lY4=(lY&0x40000000);lResult=(lX&0x3FFFFFFF)+(lY&0x3FFFFFFF);if(lX4&lY4){return(lResult^0x80000000^lX8^lY8);}if(lX4|lY4){if(lResult&0x40000000){return(lResult^0xC0000000^lX8^lY8);}else{return(lResult^0x40000000^lX8^lY8);}}else{return(lResult^lX8^lY8);}}function F(x,y,z){return(x&y)|((~x)&z);}function G(x,y,z){return(x&z)|(y&(~z));}function H(x,y,z){return(x^y^z);}function I(x,y,z){return(y^(x|(~z)));}function FF(a,b,c,d,x,s,ac){a=AddUnsigned(a,AddUnsigned(AddUnsigned(F(b,c,d),x),ac));return AddUnsigned(RotateLeft(a,s),b);};function GG(a,b,c,d,x,s,ac){a=AddUnsigned(a,AddUnsigned(AddUnsigned(G(b,c,d),x),ac));return AddUnsigned(RotateLeft(a,s),b);};function HH(a,b,c,d,x,s,ac){a=AddUnsigned(a,AddUnsigned(AddUnsigned(H(b,c,d),x),ac));return AddUnsigned(RotateLeft(a,s),b);};function II(a,b,c,d,x,s,ac){a=AddUnsigned(a,AddUnsigned(AddUnsigned(I(b,c,d),x),ac));return AddUnsigned(RotateLeft(a,s),b);};function ConvertToWordArray(string){var lWordCount;var lMessageLength=string.length;var lNumberOfWords_temp1=lMessageLength+8;var lNumberOfWords_temp2=(lNumberOfWords_temp1-(lNumberOfWords_temp1%64))/64;var lNumberOfWords=(lNumberOfWords_temp2+1)*16;var lWordArray=Array(lNumberOfWords-1);var lBytePosition=0;var lByteCount=0;while(lByteCount<lMessageLength){lWordCount=(lByteCount-(lByteCount%4))/4;lBytePosition=(lByteCount%4)*8;lWordArray[lWordCount]=(lWordArray[lWordCount]|(string.charCodeAt(lByteCount)<<lBytePosition));lByteCount++;}lWordCount=(lByteCount-(lByteCount%4))/4;lBytePosition=(lByteCount%4)*8;lWordArray[lWordCount]=lWordArray[lWordCount]|(0x80<<lBytePosition);lWordArray[lNumberOfWords-2]=lMessageLength<<3;lWordArray[lNumberOfWords-1]=lMessageLength>>>29;return lWordArray;};function WordToHex(lValue){var WordToHexValue="",WordToHexValue_temp="",lByte,lCount;for(lCount=0;lCount<=3;lCount++){lByte=(lValue>>>(lCount*8))&255;WordToHexValue_temp="0"+lByte.toString(16);WordToHexValue=WordToHexValue+WordToHexValue_temp.substr(WordToHexValue_temp.length-2,2);}return WordToHexValue;};function Utf8Encode(string){string=string.replace(/\r\n/g,"\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c);}else if((c>127)&&(c<2048)){utftext+=String.fromCharCode((c>>6)|192);utftext+=String.fromCharCode((c&63)|128);}else{utftext+=String.fromCharCode((c>>12)|224);utftext+=String.fromCharCode(((c>>6)&63)|128);utftext+=String.fromCharCode((c&63)|128);}}return utftext;};var x=Array();var k,AA,BB,CC,DD,a,b,c,d;var S11=7,S12=12,S13=17,S14=22;var S21=5,S22=9,S23=14,S24=20;var S31=4,S32=11,S33=16,S34=23;var S41=6,S42=10,S43=15,S44=21;string=Utf8Encode(string);x=ConvertToWordArray(string);a=0x67452301;b=0xEFCDAB89;c=0x98BADCFE;d=0x10325476;for(k=0;k<x.length;k+=16){AA=a;BB=b;CC=c;DD=d;a=FF(a,b,c,d,x[k+0],S11,0xD76AA478);d=FF(d,a,b,c,x[k+1],S12,0xE8C7B756);c=FF(c,d,a,b,x[k+2],S13,0x242070DB);b=FF(b,c,d,a,x[k+3],S14,0xC1BDCEEE);a=FF(a,b,c,d,x[k+4],S11,0xF57C0FAF);d=FF(d,a,b,c,x[k+5],S12,0x4787C62A);c=FF(c,d,a,b,x[k+6],S13,0xA8304613);b=FF(b,c,d,a,x[k+7],S14,0xFD469501);a=FF(a,b,c,d,x[k+8],S11,0x698098D8);d=FF(d,a,b,c,x[k+9],S12,0x8B44F7AF);c=FF(c,d,a,b,x[k+10],S13,0xFFFF5BB1);b=FF(b,c,d,a,x[k+11],S14,0x895CD7BE);a=FF(a,b,c,d,x[k+12],S11,0x6B901122);d=FF(d,a,b,c,x[k+13],S12,0xFD987193);c=FF(c,d,a,b,x[k+14],S13,0xA679438E);b=FF(b,c,d,a,x[k+15],S14,0x49B40821);a=GG(a,b,c,d,x[k+1],S21,0xF61E2562);d=GG(d,a,b,c,x[k+6],S22,0xC040B340);c=GG(c,d,a,b,x[k+11],S23,0x265E5A51);b=GG(b,c,d,a,x[k+0],S24,0xE9B6C7AA);a=GG(a,b,c,d,x[k+5],S21,0xD62F105D);d=GG(d,a,b,c,x[k+10],S22,0x2441453);c=GG(c,d,a,b,x[k+15],S23,0xD8A1E681);b=GG(b,c,d,a,x[k+4],S24,0xE7D3FBC8);a=GG(a,b,c,d,x[k+9],S21,0x21E1CDE6);d=GG(d,a,b,c,x[k+14],S22,0xC33707D6);c=GG(c,d,a,b,x[k+3],S23,0xF4D50D87);b=GG(b,c,d,a,x[k+8],S24,0x455A14ED);a=GG(a,b,c,d,x[k+13],S21,0xA9E3E905);d=GG(d,a,b,c,x[k+2],S22,0xFCEFA3F8);c=GG(c,d,a,b,x[k+7],S23,0x676F02D9);b=GG(b,c,d,a,x[k+12],S24,0x8D2A4C8A);a=HH(a,b,c,d,x[k+5],S31,0xFFFA3942);d=HH(d,a,b,c,x[k+8],S32,0x8771F681);c=HH(c,d,a,b,x[k+11],S33,0x6D9D6122);b=HH(b,c,d,a,x[k+14],S34,0xFDE5380C);a=HH(a,b,c,d,x[k+1],S31,0xA4BEEA44);d=HH(d,a,b,c,x[k+4],S32,0x4BDECFA9);c=HH(c,d,a,b,x[k+7],S33,0xF6BB4B60);b=HH(b,c,d,a,x[k+10],S34,0xBEBFBC70);a=HH(a,b,c,d,x[k+13],S31,0x289B7EC6);d=HH(d,a,b,c,x[k+0],S32,0xEAA127FA);c=HH(c,d,a,b,x[k+3],S33,0xD4EF3085);b=HH(b,c,d,a,x[k+6],S34,0x4881D05);a=HH(a,b,c,d,x[k+9],S31,0xD9D4D039);d=HH(d,a,b,c,x[k+12],S32,0xE6DB99E5);c=HH(c,d,a,b,x[k+15],S33,0x1FA27CF8);b=HH(b,c,d,a,x[k+2],S34,0xC4AC5665);a=II(a,b,c,d,x[k+0],S41,0xF4292244);d=II(d,a,b,c,x[k+7],S42,0x432AFF97);c=II(c,d,a,b,x[k+14],S43,0xAB9423A7);b=II(b,c,d,a,x[k+5],S44,0xFC93A039);a=II(a,b,c,d,x[k+12],S41,0x655B59C3);d=II(d,a,b,c,x[k+3],S42,0x8F0CCC92);c=II(c,d,a,b,x[k+10],S43,0xFFEFF47D);b=II(b,c,d,a,x[k+1],S44,0x85845DD1);a=II(a,b,c,d,x[k+8],S41,0x6FA87E4F);d=II(d,a,b,c,x[k+15],S42,0xFE2CE6E0);c=II(c,d,a,b,x[k+6],S43,0xA3014314);b=II(b,c,d,a,x[k+13],S44,0x4E0811A1);a=II(a,b,c,d,x[k+4],S41,0xF7537E82);d=II(d,a,b,c,x[k+11],S42,0xBD3AF235);c=II(c,d,a,b,x[k+2],S43,0x2AD7D2BB);b=II(b,c,d,a,x[k+9],S44,0xEB86D391);a=AddUnsigned(a,AA);b=AddUnsigned(b,BB);c=AddUnsigned(c,CC);d=AddUnsigned(d,DD);}var temp=WordToHex(a)+WordToHex(b)+WordToHex(c)+WordToHex(d);return temp.toLowerCase();};;},{},{});mw.loader.implement("acCheck",function($){(function(mw,$){"use strict";var acCheck=function(embedPlayer){var ac=embedPlayer.kalturaContextData;var acStatus=kWidgetSupport.getAccessControlStatus(ac,embedPlayer);if(acStatus!==true){embedPlayer.setError(acStatus);return;}};mw.addKalturaConfCheck(function(embedPlayer,callback){if(embedPlayer.kalturaContextData){acCheck(embedPlayer);}callback();});})(window.mw,jQuery);;},{},{});mw.loader.implement("acPreview",function($){(function(mw,$){"use strict";var acPreview=function(embedPlayer){function acEndPreview(){mw.log('KWidgetSupport:: acEndPreview >');$(embedPlayer).trigger('KalturaSupport_FreePreviewEnd');mw.log('KWidgetSupport:: KalturaSupport_FreePreviewEnd set onDoneInterfaceFlag = false');embedPlayer.onDoneInterfaceFlag=false;var closeAcMessage=function(){$(embedPlayer).unbind('.acpreview');embedPlayer.layoutBuilder.closeMenuOverlay();embedPlayer.onClipDone();};$(embedPlayer).bind('onChangeMedia.acpreview',closeAcMessage);if(embedPlayer.getKalturaConfig('','disableAlerts')!==true){embedPlayer.layoutBuilder.displayMenuOverlay($('<div />').append($('<h3 />').append(embedPlayer.getKalturaMsg('FREE_PREVIEW_END_TITLE')),$('<span />').text(embedPlayer.getKalturaMsg('FREE_PREVIEW_END')),$('<br />'),$('<br />'),$('<button />').attr({'type':"button"}).addClass("ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only").append($('<span />').addClass("ui-button-text").text('Ok').css('margin','10')).click(closeAcMessage)),closeAcMessage);}};$(embedPlayer).unbind('.acPreview');var ac=embedPlayer.kalturaContextData;if(ac.isAdmin===false&&ac.isSessionRestricted===true&&ac.previewLength&&ac.previewLength!=-1){$(embedPlayer).bind('postEnded.acPreview',function(){acEndPreview(embedPlayer);});$(embedPlayer).bind('monitorEvent.acPreview',function(){if(embedPlayer.currentTime>=ac.previewLength){embedPlayer.stop();if(mw.isIOS()){embedPlayer.getPlayerElement().webkitExitFullScreen();}acEndPreview(embedPlayer);}});}};mw.addKalturaConfCheck(function(embedPlayer,callback){if(embedPlayer.kalturaContextData){acPreview(embedPlayer);}callback();});})(window.mw,jQuery);;},{},{});mw.loader.implement("base64_encode",function($){window['base64_encode']=function(data){var b64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var o1,o2,o3,h1,h2,h3,h4,bits,i=0,ac=0,enc="",tmp_arr=[];if(!data){return data;}data=utf8_encode(data+'');do{o1=data.charCodeAt(i++);o2=data.charCodeAt(i++);o3=data.charCodeAt(i++);bits=o1<<16|o2<<8|o3;h1=bits>>18&0x3f;h2=bits>>12&0x3f;h3=bits>>6&0x3f;h4=bits&0x3f;tmp_arr[ac++]=b64.charAt(h1)+b64.charAt(h2)+b64.charAt(h3)+b64.charAt(h4);}while(i<data.length);enc=tmp_arr.join('');var r=data.length%3;return(r?enc.slice(0,r-3):enc)+'==='.slice(r||3);};;},{},{});mw.loader.implement("class",function($){(function(){var initializing=false,fnTest=/xyz/.test(function(){xyz;})?/\b_super\b/:/.*/;this.Class=function(){};Class.extend=function(prop){var _super=this.prototype;initializing=true;var prototype=new this();initializing=false;for(var name in prop){prototype[name]=typeof prop[name]=="function"&&typeof _super[name]=="function"&&fnTest.test(prop[name])?(function(name,fn){return function(){var tmp=this._super;this._super=_super[name];var ret=fn.apply(this,arguments);this._super=tmp;return ret;};})(name,prop[name]):prop[name];}function Class(){if(!initializing&&this.init)this.init.apply(this,arguments);}Class.prototype=prototype;Class.prototype.constructor=Class;Class.extend=arguments.callee;return Class;};})();;},{},{});mw.loader.implement("controlBarContainer",function($){(function(mw,$){"use strict";mw.PluginManager.add('controlBarContainer',mw.KBasePlugin.extend({defaultConfig:{'hover':false},keepOnScreen:false,setup:function(){if(this.getPlayer().useNativePlayerControls()){this.getPlayer().enableNativeControls();return;}this.getPlayer().overlaycontrols=this.getConfig('hover');this.addBindings();},addBindings:function(){var _this=this;this.bind('addLayoutContainer',function(){_this.getPlayer().getInterface().append(_this.getComponent());});this.bind('showInlineDownloadLink',function(){_this.hide();});this.bind('layoutBuildDone ended',function(){_this.show();});if(this.getConfig('hover')){this.bind('showPlayerControls',function(e,data){_this.show();});this.bind('hidePlayerControls',function(){_this.hide();});this.bind('onComponentsHoverDisabled',function(){_this.keepOnScreen=true;_this.show();});this.bind('onComponentsHoverEnabled',function(){_this.keepOnScreen=false;_this.hide();});}else{this.getPlayer().isControlsVisible=true;}},show:function(){this.getPlayer().isControlsVisible=true;this.getComponent().addClass('open');this.getPlayer().triggerHelper('onShowControlBar',{'bottom':this.getComponent().height()+15});},hide:function(){if(this.keepOnScreen)return;this.getPlayer().isControlsVisible=false;this.getComponent().removeClass('open');this.getPlayer().triggerHelper('onHideControlBar',{'bottom':15});},getComponent:function(){if(!this.$el){var $controlsContainer=$('<div />').addClass('controlsContainer');this.$el=$('<div />').addClass('controlBarContainer').append($controlsContainer);if(this.getConfig('hover')&&this.getPlayer().isOverlayControls()){this.$el.addClass('hover');}else{this.$el.addClass('block');}}return this.$el;}}));})(window.mw,window.jQuery);;},{},{});mw.loader.implement("currentTimeLabel",function($){(function(mw,$){"use strict";mw.PluginManager.add('currentTimeLabel',mw.KBaseComponent.extend({defaultConfig:{"parent":"controlsContainer","order":21,"displayImportance":"high"},setup:function(){var _this=this;this.bindTimeUpdate();this.bind('externalTimeUpdate',function(e,newTime){if(newTime!=undefined){_this.updateUI(newTime);}});this.bind('detachTimeUpdate',function(){_this.unbind('timeupdate');});this.bind('reattachTimeUpdate',function(){_this.bindTimeUpdate();});this.bind('AdSupport_AdUpdatePlayhead',function(e,currentTime){if(_this.getPlayer().isInSequence()){_this.updateUI(currentTime);}});this.bind('AdSupport_EndAdPlayback',function(){_this.updateUI(_this.getCurrentTime());});this.bind('seeked',function(){_this.updateUI(_this.getCurrentTime());});},bindTimeUpdate:function(){var _this=this;this.bind('timeupdate',function(){if(!_this.getPlayer().isInSequence()){_this.updateUI(_this.getCurrentTime());}});},updateUI:function(time){this.getComponent().text(mw.seconds2npt(time));},getCurrentTime:function(){var ct=this.getPlayer().currentTime-this.getPlayer().startOffset;if(ct<0){ct=0;}return parseFloat(ct);},getComponent:function(){if(!this.$el){this.$el=$('<div />').addClass("timers"+this.getCssClass()).text('0:00');}return this.$el;},show:function(){this.getComponent().css('display','inline').removeData('forceHide');}}));})(window.mw,window.jQuery);;},{},{});mw.loader.implement("durationLabel",function($){(function(mw,$){"use strict";mw.PluginManager.add('durationLabel',mw.KBaseComponent.extend({defaultConfig:{parent:"controlsContainer",order:31,displayImportance:'medium',prefix:' / '},contentDuration:0,setup:function(){var _this=this;this.bind('durationChange',function(event,duration){if(!_this.getPlayer().isInSequence()){_this.contentDuration=duration;_this.updateUI(duration);}});this.bind('AdSupport_AdUpdateDuration',function(e,duration){_this.updateUI(duration);});this.bind('AdSupport_EndAdPlayback',function(){_this.updateUI(_this.contentDuration);});},updateUI:function(duration){var formatTime=mw.seconds2npt(parseFloat(duration))
	this.getComponent().text(this.getConfig('prefix')+formatTime);},getComponent:function(){if(!this.$el){this.$el=$('<div />').addClass("timers"+this.getCssClass()).text(this.getConfig('prefix')+'0:00');}return this.$el;},show:function(){this.getComponent().css('display','inline').removeData('forceHide');}}));})(window.mw,window.jQuery);;},{},{});mw.loader.implement("fullScreenBtn",function($){(function(mw,$){"use strict";mw.PluginManager.add('fullScreenBtn',mw.KBaseComponent.extend({defaultConfig:{"align":"right","parent":"controlsContainer","order":51,"showTooltip":true,"displayImportance":"high"},offIconClass:'icon-expand',onIconClass:'icon-contract',enterFullscreenTxt:gM('mwe-embedplayer-player_fullscreen'),exitFullscreenTxt:gM('mwe-embedplayer-player_closefullscreen'),setup:function(embedPlayer){this.addBindings();},isSafeEnviornment:function(){return mw.getConfig('EmbedPlayer.EnableFullscreen');},getComponent:function(){var _this=this;if(!this.$el){this.$el=$('<button />').attr('title',this.enterFullscreenTxt).addClass("btn "+this.offIconClass+this.getCssClass()).click(function(){_this.toggleFullscreen();});}this.setAccessibility(this.$el,this.enterFullscreenTxt);return this.$el;},addBindings:function(){var _this=this;this.bind('dblclick',function(){_this.toggleFullscreen();});this.bind('onOpenFullScreen',function(){_this.getComponent().removeClass(_this.offIconClass).addClass(_this.onIconClass);_this.updateTooltip(_this.exitFullscreenTxt);_this.setAccessibility(_this.$el,_this.exitFullscreenTxt);});this.bind('onCloseFullScreen',function(){_this.getComponent().removeClass(_this.onIconClass).addClass(_this.offIconClass);_this.updateTooltip(_this.enterFullscreenTxt);_this.setAccessibility(_this.$el,_this.enterFullscreenTxt);});},toggleFullscreen:function(){this.getPlayer().toggleFullscreen();}}));})(window.mw,window.jQuery);;},{},{});mw.loader.implement("kdark",function($){;},{"all":"body{letter-spacing:0.04em}.topBarContainer{position:absolute;top:0;width:100%;z-index:100;box-sizing:border-box;-webkit-transition:top 0.3s ease-in;-moz-transition:top 0.3s ease-in;-o-transition:top 0.3s ease-in;-ms-transition:top 0.3s ease-in;transition:top 0.3s ease-in;background-color:#222222;background:rgba(0,0,0,0.7);   height:2.3em;padding-right:5px}.topBarContainer.hover{top:-2.6em}.topBarContainer.open{top:0}.topBarContainer .btn{color:#fff;width:2em;text-shadow:none}.icon-list-container{width:50%;height:50%;margin:auto;position:absolute;top:0;bottom:0;left:0;right:0;display:block;font-size:24px}.sideBarContainerReminder{width:40px;height:40px;margin:auto;position:absolute;top:0;bottom:0}.sideBarContainerReminder:hover div{-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";filter:alpha(opacity=100);opacity:1;color:#fff;text-shadow:0px 0px 10px #fff}.sideBarContainerReminder.active div{-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";filter:alpha(opacity=100);opacity:1;color:#fff;text-shadow:0px 0px 10px #fff}.sideBarContainerReminder.left{left:-40%;-webkit-transition:left 0.3s ease-in;-moz-transition:left 0.3s ease-in;-o-transition:left 0.3s ease-in;-ms-transition:left 0.3s ease-in;transition:left 0.3s ease-in}.sideBarContainerReminder.left.open{left:0px}.sideBarContainerReminder.left.shifted{left:40%}.sideBarContainerReminder.right{right:-40%;-webkit-transition:right 0.3s ease-in;-moz-transition:right 0.3s ease-in;-o-transition:right 0.3s ease-in;-ms-transition:right 0.3s ease-in;transition:right 0.3s ease-in}.sideBarContainerReminder.right.open{right:0px}.sideBarContainerReminder.right.shifted{right:40%}.TocBtnBorder{background:#000;filter:alpha(opacity=60);-moz-opacity:0.6;opacity:0.6;position:absolute;top:0;height:100%;width:100%;border:2px solid;box-shadow:2px 2px 2px #474747}.TocBtnBorder.left{left:0;-webkit-border-top-right-radius:10px;-webkit-border-bottom-right-radius:10px;-moz-border-radius-topright:10px;-moz-border-radius-bottomright:10px;border-top-right-radius:10px;border-bottom-right-radius:10px}.TocBtnBorder.right{right:0;-webkit-border-top-left-radius:10px;-webkit-border-bottom-left-radius:10px;-moz-border-radius-topleft:10px;-moz-border-radius-bottomleft:10px;border-top-left-radius:10px;border-bottom-left-radius:10px}.sideBarContainer{position:absolute;top:0;width:40%;z-index:100;box-sizing:border-box;-webkit-transition:left 0.3s ease-in,right 0.3s ease-in;-moz-transition:left 0.3s ease-in,right 0.3s ease-in;-o-transition:left 0.3s ease-in,right 0.3s ease-in;-ms-transition:left 0.3s ease-in,right 0.3s ease-in;transition:left 0.3s ease-in,right 0.3s ease-in;height:100%;padding:1%;background:#000;filter:alpha(opacity=90);-moz-opacity:0.9;opacity:0.9; border:2px solid;box-shadow:2px 2px 2px #474747}.sideBarContainer.left{left:-40%;-webkit-border-top-right-radius:10px;-webkit-border-bottom-right-radius:10px;-moz-border-radius-topright:10px;-moz-border-radius-bottomright:10px;border-top-right-radius:10px;border-bottom-right-radius:10px}.sideBarContainer.openBtn{z-index:99}.sideBarContainer.left.openBtn{left:0}.sideBarContainer.right{right:-40%;-webkit-border-top-left-radius:10px;-webkit-border-bottom-left-radius:10px;-moz-border-radius-topleft:10px;-moz-border-radius-bottomleft:10px;border-top-left-radius:10px;border-bottom-left-radius:10px}.sideBarContainer.right.openBtn{right:0}.titleLabel{padding:8px 0 0 10px}.controlBarContainer{position:absolute;bottom:0;width:100%;-webkit-transition:bottom 0.3s ease-in;-moz-transition:bottom 0.3s ease-in;-o-transition:bottom 0.3s ease-in;-ms-transition:bottom 0.3s ease-in;transition:bottom 0.3s ease-in}.controlBarContainer a{text-decoration:none}.controlBarContainer.hover{bottom:-2.6em;z-index:100}.controlBarContainer.open{bottom:0}.btn{display:inline-block;height:100%;margin:0;padding:0;width:2.4em;cursor:pointer;border:0;font-size:1.1em}.btnFixed{display:inline-block;height:100%;margin:0;padding:0;width:2.4em;cursor:pointer;border:0;font-size:1.1em}.btn .accessibilityLabel{font-size:0;height:1px;overflow:hidden;display:block}.dropup{position:relative;height:100%}.pull-right{float:right}.pull-left{float:left}.largePlayBtn{cursor:pointer;position:absolute;top:50%;left:50%;font-size:3em;margin:-0.79em 0 0 -1em;text-decoration:none;border-radius:0.1em;padding:12px 20px 12px 25px}.scrubber{position:relative;height:0.6em;cursor:pointer}.controlsContainer .scrubber{display:inline-block;margin-left:5px;top:-3px}.sliderPreviewTime{position:absolute;font-family:Helvetica,Arial;font-size:12px;font-weight:bold;text-shadow:0 0 0.3em #000}.sliderPreview{position:absolute;width:100px;height:60px;z-index:9999999999;border:2px white solid;background-repeat:no-repeat;background-position:center;border-radius:4px}.scrubber .handle-wrapper{position:relative;margin:0 0.44em}.scrubber .watched{position:absolute;top:0;left:0;width:0%;height:100%;z-index:2}.scrubber .buffered{position:absolute;top:0;left:0;height:100%}.scrubber .arrow{position:absolute;left:48px;bottom:-6px;width:0;height:0;border-top:5px solid white;border-left:5px solid transparent;border-right:5px solid transparent}.scrubber .playHead{z-index:100;position:absolute;left:0;top:-0.2em;width:1.1em;height:1.1em;border-radius:50%;outline:0;margin-left:-0.5em !important; cursor:pointer; -webkit-transform:scale(1,1);-moz-transform:scale(1,1);-ms-transform:scale(1,1);-o-transform:scale(1,1);transform:scale(1,1); -webkit-transform-origin:50% 50%;-moz-transform-origin:50% 50%;-ms-transform-origin:50% 50%;-o-transform-origin:50% 50%;transform-origin:50% 50%; -webkit-transition:-webkit-transform-origin 0.1s ease-out,-webkit-transform 0.1s ease-out;-moz-transition:-moz-transform-origin 0.1s ease-out,-moz-transform 0.1s ease-out;-o-transition:-o-transform-origin 0.1s ease-out,-o-transform 0.1s ease-out;transition:transform-origin 0.1s ease-out,transform 0.1s ease-out; -webkit-transition-property:-webkit-transform-origin,-webkit-transform;-moz-transition-property:-moz-transform-origin,-moz-transform;-o-transition-property:-o-transform-origin,-o-transform;transition-property:transform-origin,transform; -webkit-transition-duration:0.3s,0.3s;-moz-transition-duration:0.3s,0.3s;-o-transition-duration:0.3s,0.3s;transition-duration:0.3s,0.3s; -webkit-transition-timing-function:ease-out,ease-out;-moz-transition-timing-function:ease-out,ease-out;-o-transition-timing-function:ease-out,ease-out;transition-timing-function:ease-out,ease-out; -webkit-transition-delay:initial,initial;-moz-transition-delay:initial,initial;-o-transition-delay:initial,initial;transition-delay:initial,initial;background:rgb(255,255,255); background:-moz-linear-gradient(top,rgba(255,255,255,1) 0%,rgba(204,204,204,1) 50%,rgba(255,255,255,1) 100%); background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,rgba(255,255,255,1)),color-stop(50%,rgba(204,204,204,1)),color-stop(100%,rgba(255,255,255,1))); background:-webkit-linear-gradient(top,rgba(255,255,255,1) 0%,rgba(204,204,204,1) 50%,rgba(255,255,255,1) 100%); background:-o-linear-gradient(top,rgba(255,255,255,1) 0%,rgba(204,204,204,1) 50%,rgba(255,255,255,1) 100%); background:-ms-linear-gradient(top,rgba(255,255,255,1) 0%,rgba(204,204,204,1) 50%,rgba(255,255,255,1) 100%); background:linear-gradient(to bottom,rgba(255,255,255,1) 0%,rgba(204,204,204,1) 50%,rgba(255,255,255,1) 100%); }.player-out .hover .playHead{-webkit-transform:scale(0,0);-moz-transform:scale(0,0);-o-transform:scale(0,0);-ms-transform:scale(0,0);transform:scale(0,0)}.accessibilityButtons{display:inline-block;height:1px}.accessibilityButton{width:1px;height:1px}.volumeControl{display:inline-block;height:100%}.volumeControl .slider{display:inline-block;width:0;background:#7c7c7c;height:0.5em;top:-2px;-webkit-transition:width 0.3s ease-in-out;-moz-transition:width 0.3s ease-in-out;-o-transition:width 0.3s ease-in-out;-ms-transition:width 0.3s ease-in-out;transition:width 0.3s ease-in-out;cursor:pointer}.volumeControl.open .slider{width:5em;margin-right:10px}.volumeControl .ui-slider-handle{display:none}.volumeControl .ui-slider-range-min{-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=85)\";filter:alpha(opacity=85);opacity:0.85;background-color:#fff;background-repeat:repeat-x;background:-webkit-gradient(linear,0% 0%,0% 100%,from(#ffffff),to(#dddddd));background:-webkit-linear-gradient(top,#ffffff,#dddddd);background:-moz-linear-gradient(top,#ffffff,#dddddd);background:-o-linear-gradient(top,#ffffff,#dddddd);background:-ms-linear-gradient(top,#ffffff,#dddddd);background:linear-gradient(top,#ffffff,#dddddd);-webkit-box-shadow:0px 1px 0px rgba(0,0,0,0.3);box-shadow:0px 1px 0px rgba(0,0,0,0.3)}.volumeControl .ui-slider-range-min:hover{-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";filter:alpha(opacity=100);opacity:1;-webkit-box-shadow:0px 0px 10px #fff;box-shadow:0px 0px 10px #fff}.volumeControl .aria{width:0px;height:0px}.timers{position:relative;font-size:0.84em;display:inline;line-height:2.7em;font-family:Helvetica,Arial;top:-2px}.currentTimeLabel{padding-left:0.8em}.durationLabel{padding-left:0.5em}.overlay{position:absolute;top:0;left:0;width:100%;height:100%;z-index:100}.overlay-win{z-index:1000 !important}.alert-container{z-index:101;position:absolute;top:0;height:100%;width:100%;vertical-align:middle;box-sizing:border-box}.alert{display:table-cell;width:100%;height:100%;vertical-align:middle}.alert-title{font-size:1.8em;padding-left:1.8em;padding-bottom:0.6em;text-align:center}.alert-body{padding:1.5em 2.2em;font-size:1.5em}.alert-footer{text-align:right;padding-top:1.2em;padding-right:2em}.alert-footer .btn{min-width:100px;border:1px solid;border-radius:4px;padding:6px} .dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:75px;padding:0 0;margin:2px 0 0;list-style:none;-webkit-box-shadow:0 5px 10px rgba(0,0,0,0.2);box-shadow:0 5px 10px rgba(0,0,0,0.2);-webkit-background-clip:padding-box;-moz-background-clip:padding-box;background-clip:padding-box}.dropdown-menu .divider{*width:100%;height:1px;margin:0;*margin:-5px 0 5px;overflow:hidden;background-color:rgba(34,34,34,0.5);border-bottom:1px solid rgba(70,70,70,0.5)}.dropdown-menu \x3e li \x3e a{display:block;padding:3px 10px;clear:both;font-weight:normal;line-height:20px;font-size:0.9em;color:#999999;white-space:nowrap; }.dropdown-menu \x3e li \x3e a:hover,.dropdown-menu \x3e li \x3e a:focus,.dropdown-submenu:hover \x3e a,.dropdown-submenu:focus \x3e a{text-decoration:none;color:#ffffff;background-color:#000}.dropdown-menu \x3e .active \x3e a,.dropdown-menu \x3e .active \x3e a:hover,.dropdown-menu \x3e .active \x3e a:focus{color:#ffffff;text-decoration:none;outline:0}.dropdown-menu \x3e .disabled \x3e a,.dropdown-menu \x3e .disabled \x3e a:hover,.dropdown-menu \x3e .disabled \x3e a:focus{color:#999999}.dropdown-menu \x3e .disabled \x3e a:hover,.dropdown-menu \x3e .disabled \x3e a:focus{text-decoration:none;background-color:transparent;background-image:none;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);cursor:default}.open{z-index:1000}.open.dropdown-menu{display:block}.pull-right \x3e .dropdown-menu{right:-30px;left:auto}.dropup .dropdown-menu,.navbar-fixed-bottom .dropdown .dropdown-menu{top:auto;bottom:102%}.dropup .dropdown-submenu \x3e .dropdown-menu{top:auto;bottom:0;margin-top:0;margin-bottom:-2px;border-radius:5px 5px 5px 0} .PlayerContainer{background:#000;color:#fff}.controlsContainer{height:2.1em; background-color:#222222;background:rgba(34,34,34,0.8);background:-webkit-gradient(linear,0% 0%,0% 100%,from(rgba(34,34,34,0.8)),to(rgba(0,0,0,0.8)));background:-webkit-linear-gradient(top,rgba(34,34,34,0.8),rgba(0,0,0,0.8));background:-moz-linear-gradient(top,rgba(34,34,34,0.8),rgba(0,0,0,0.8));background:-o-linear-gradient(top,rgba(34,34,34,0.8),rgba(0,0,0,0.8));background:-ms-linear-gradient(top,rgba(34,34,34,0.8),rgba(0,0,0,0.8));background:linear-gradient(top,rgba(34,34,34,0.8),rgba(0,0,0,0.8));border-top:1px solid rgba(170,168,168,0.5);-webkit-box-shadow:0px -1px 0px rgba(0,0,0,0.8);box-shadow:0px -1px 0px rgba(0,0,0,0.8);width:100%;display:inline-block}.scrubber{background-color:#686868;background:rgba(104,104,104,0.6)}.ui-tooltip{background-color:#ffffff;background-repeat:repeat-x;background:-webkit-gradient(linear,0% 0%,0% 100%,from(#ffffff),to(#dddddd));background:-webkit-linear-gradient(top,#ffffff,#dddddd);background:-moz-linear-gradient(top,#ffffff,#dddddd);background:-o-linear-gradient(top,#ffffff,#dddddd);background:-ms-linear-gradient(top,#ffffff,#dddddd);background:linear-gradient(top,#ffffff,#dddddd);-webkit-box-shadow:0px 1px 0px rgba(0,0,0,0.3);box-shadow:0px 1px 0px rgba(0,0,0,0.3);z-index:1000;font-size:0.85em;letter-spacing:0px;color:#555;border-radius:2px;padding:2px 5px}.ui-tooltip .arrow{width:70px;height:16px;overflow:hidden;position:absolute;left:50%;margin-left:-35px;bottom:-16px}.ui-tooltip .arrowTop{width:70px;height:16px;overflow:hidden;position:absolute;left:50%;margin-left:-35px;top:-16px;bottom:auto}.ui-tooltip .arrow .top{top:-16px;bottom:auto}.ui-tooltip .arrow .left{left:20%}.ui-tooltip .arrow:after{content:\"\";position:absolute;left:25px;top:-20px;width:20px;height:22px;-webkit-box-shadow:6px 5px 9px -9px #fff;box-shadow:6px 5px 9px -9px #fff;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);tranform:rotate(45deg);background-color:#ddd}.ui-tooltip .arrowTop:after{content:\"\";position:absolute;left:25px;bottom:-20px;top:auto;width:20px;height:22px;-webkit-box-shadow:6px 5px 9px -9px #fff;box-shadow:6px 5px 9px -9px #fff;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);tranform:rotate(45deg);background-color:#fafafa}.ui-tooltip .arrow .top:after{bottom:-20px;top:auto}.btn{-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";filter:alpha(opacity=100);opacity:1;background-color:transparent;color:#ccc;text-shadow:1px 1px 1px rgba(0,0,0,0.8)}.btn:hover{-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";filter:alpha(opacity=100);opacity:1;color:#fff;text-shadow:0px 0px 10px #fff}.btn.active{-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";filter:alpha(opacity=100);opacity:1;color:#fff;text-shadow:0px 0px 10px #fff}.btn.disabled,.btn.disabled:hover{-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)\";filter:alpha(opacity=30);opacity:0.3;cursor:default;text-shadow:none;color:#fff}.btn:focus{outline:1px dotted #999}.largePlayBtn{background-color:#222222;background:rgba(0,0,0,0.7);color:#efefef}.touch .largePlayBtn{pointer-events:none}.largePlayBtn:hover{background:rgba(0,0,0,1);color:#fff}.scrubber.disabled{height:0.3em}.scrubber.disabled .watched{background-image:-webkit-gradient(linear,0 100%,100% 0,color-stop(0.25,rgba(255,255,255,0.15)),color-stop(0.25,transparent),color-stop(0.5,transparent),color-stop(0.5,rgba(255,255,255,0.15)),color-stop(0.75,rgba(255,255,255,0.15)),color-stop(0.75,transparent),to(transparent));background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,0.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,0.15) 50%,rgba(255,255,255,0.15) 75%,transparent 75%,transparent);background-image:-moz-linear-gradient(45deg,rgba(255,255,255,0.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,0.15) 50%,rgba(255,255,255,0.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,0.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,0.15) 50%,rgba(255,255,255,0.15) 75%,transparent 75%,transparent);background-image:-ms-linear-gradient(45deg,rgba(255,255,255,0.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,0.15) 50%,rgba(255,255,255,0.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,0.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,0.15) 50%,rgba(255,255,255,0.15) 75%,transparent 75%,transparent);-webkit-background-size:10px 10px;-moz-background-size:10px 10px;background-size:10px 10px}.scrubber.disabled .buffered,.scrubber.disabled .playHead{display:none}.watched{background-color:#2ec7e1}.buffered{background-color:#AFAFAF;background:rgba( 102,102,102,0.5 );-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=40)\";filter:alpha(opacity=40);opacity:0.4;  }.scrubber .playHead:hover{border-color:#fff;-webkit-box-shadow:0 1px 30px rgba(255,255,255,1);box-shadow:0 1px 30px rgba(255,255,255,1);-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";filter:alpha(opacity=100);opacity:1}.currentTimeLabel{color:#e8e8e8}.durationLabel{color:#b1aeab}.sourceSelector{display:inline-block}.overlay{background:rgba(0,0,0,0.7)}.alert-footer .btn{background:#fbfbfb;color:#000;border-color:#999}.dropdown-menu{-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=85)\";filter:alpha(opacity=85);opacity:0.85;background:#222222}.logo{width:3em;height:100%;position:relative}.logo img{margin:auto;position:absolute;top:0;left:0;bottom:0;right:0;max-width:100%;max-height:100%;border:0px}.kaltura-logo{display:inline-block;height:100%;margin:0;padding:0;width:3em;cursor:pointer;border:0;background-position:12px 6px;background-repeat:no-repeat;background-image:url(http://localhost/html5.kaltura/mwEmbed//skins/kdark/css/../images/kalturaLogo.png?2014-04-23T17:10:00Z)}.playPauseBtn{width:3.3em} .ad-component{position:absolute;color:#FFF;text-shadow:1px 1px 1px #000;font-size:90%}.ad-notice-label{bottom:14px;left:5px}.ad-skip-btn{cursor:pointer;font-size:110%}.ad-skip-label,.ad-skip-btn{right:5px;bottom:5px;padding:10px 20px;background:rgba(0,0,0,0.6)}.hover .ad-skip-label,.ad-skip-btn{bottom:20px}.clearfix:before,.clearfix:after{content:\" \";display:table}.clearfix:after{clear:both}.clearfix{*zoom:1}.watermark{position:absolute;padding:5px}.watermark img{border:0px}.watermark.topRight{top:0;right:0}.watermark.topLeft{top:0;left:0}.watermark.bottomRight{bottom:0;right:0}.watermark.bottomLeft{bottom:0;left:0}.hide{display:none}.screen{display:none;position:absolute;width:100%;height:100%;top:0;left:0; box-sizing:border-box;padding-top:2.3em;background-color:#000;background-image:linear-gradient(top,#000000 10%,#3E3E3E 90%);background-image:-o-linear-gradient(top,#000000 10%,#3E3E3E 90%);background-image:-moz-linear-gradient(top,#000000 10%,#3E3E3E 90%);background-image:-webkit-linear-gradient(top,#000000 10%,#3E3E3E 90%);background-image:-ms-linear-gradient(top,#000000 10%,#3E3E3E 90%);background-image:-webkit-gradient(linear,left top,left bottom,color-stop(0.1,#000000),color-stop(0.9,#3E3E3E))}.screen-content{box-sizing:border-box;padding:0 10px}.screen .panel-left{margin-right:10px;position:absolute;width:40%;height:100%}.videoPreview{position:relative;width:230px;height:129px}.animateVideo{transition:top 1s,left 1s,width 1s,height 1s}.previewPlayer .videoDisplay{top:40px;left:6px;z-index:4;width:40%;height:40%;transition:top 1s,left 1s,width 1s,height 1s}.expandPlayerBtn{position:absolute;z-index:10;font-size:2em;top:0.3em;left:0.3em;opacity:0.7;cursor:pointer;border:1px solid grey;border-radius:25px;background-color:grey}.ie8 .expandPlayerBtn{border:0px solid grey;background:url(blank.gif)}.expandPlayerBtn,.previewPlayer + .size-tiny .expandPlayerBtn{display:none}.previewPlayer .expandPlayerBtn{display:inline-block}.infoScreen .screen-content,.share .screen-content,.airPlay .screen-content{padding:10px;position:relative;height:100%}.infoScreen .created{font-size:1.11em;font-weight:bold;padding-bottom:10px;margin-bottom:10px;border-bottom:1px solid #666666}.infoScreen .description{color:#999}.infoScreen .views{font-size:1.2em;font-weight:bold;color:#ddd;margin:10px 0;position:absolute;top:45%}.screen .panel-right{width:58%;position:absolute;right:0}.size-tiny .screen .panel-right,.size-tiny .screen .panel-left,.size-tiny .infoScreen .views{position:static;width:100%;height:auto}.rotate{-webkit-animation:spin 3s linear infinite;-moz-animation:spin 3s linear infinite;animation:spin 3s linear infinite;outline:0 !important}.cssChecker{display:none !important}@-moz-keyframes spin{100%{-moz-transform:rotate(360deg)}}@-webkit-keyframes spin{100%{-webkit-transform:rotate(360deg)}}@keyframes spin{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@font-face{font-family:\'icomoon\';src:url(http://localhost/html5.kaltura/mwEmbed//skins/kdark/css/../fonts/icomoon.eot?2014-08-06T06:56:40Z);src:url(http://localhost/html5.kaltura/mwEmbed//skins/kdark/css/../fonts/icomoon.eot?2014-08-06T06:56:40Z\x26#iefix) format(\'embedded-opentype\'),url(http://localhost/html5.kaltura/mwEmbed//skins/kdark/css/../fonts/icomoon.woff?2014-08-06T06:56:40Z) format(\'woff\'),url(http://localhost/html5.kaltura/mwEmbed//skins/kdark/css/../fonts/icomoon.ttf?2014-08-06T06:56:40Z) format(\'truetype\'),url(\'../fonts/icomoon.svg#icomoon\') format(\'svg\');font-weight:normal;font-style:normal} [data-icon]:before{font-family:\'icomoon\';content:attr(data-icon);speak:none;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}  .icon-fullscreen-exit-alt,.icon-fullscreen-alt,.icon-contract,.icon-related,.icon-cc,.icon-cog,.icon-expand,.icon-info,.icon-volume-mute,.icon-volume-low,.icon-volume-high,.icon-share,.icon-replay,.icon-like,.icon-checkmark,.icon-unlike,.icon-play,.icon-pause,.icon-expand2,.icon-flag,.icon-camera,.icon-download,.icon-close,.icon-ad,.icon-list{font-family:\'icomoon\';speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased}.icon-volume-mute:before{content:\"\\e600\"}.icon-volume-low:before{content:\"\\e601\"}.icon-volume-high:before{content:\"\\e602\"}.icon-unlike:before{content:\"\\e603\"}.icon-share:before{content:\"\\e604\"}.icon-close:before{content:\"\\e605\"}.icon-checkmark:before{content:\"\\e606\"}.icon-cc:before{content:\"\\e607\"}.icon-camera:before{content:\"\\e608\"}.icon-replay:before{content:\"\\e609\"}.icon-related:before{content:\"\\e60a\"}.icon-play:before{content:\"\\e60b\"}.icon-pause:before{content:\"\\e60c\"}.icon-like:before{content:\"\\e60d\"}.icon-info:before{content:\"\\e60e\"}.icon-fullscreen-exit-alt:before{content:\"\\e60f\"}.icon-fullscreen-alt:before{content:\"\\e610\"}.icon-flag:before{content:\"\\e611\"}.icon-expand2:before{content:\"\\e612\"}.icon-expand:before{content:\"\\e613\"}.icon-download:before{content:\"\\e614\"}.icon-contract:before{content:\"\\e615\"}.icon-cog:before{content:\"\\e616\"}.icon-ad:before{content:\"\\e617\"}.icon-list:before{content:\"\\e618\"}\n\n/* cache key: resourceloader:filter:minify-css:7:623b86e6cd4c0aa0e2ef5ef74b1ca136 */\n"},{});mw.loader.implement("keyboardShortcuts",function($){(function(mw,$){"use strict";mw.PluginManager.add('keyboardShortcuts',mw.KBasePlugin.extend({defaultConfig:{"volumePercentChange":0.1,"shortSeekTime":5,"longSeekTime":10,"arrowUpKey":38,"arrowDownKey":40,"togglePlaybackKey":32,"shortSeekBackKey":37,"longSeekBackKey":'ctrl+37',"shortSeekForwardKey":39,"longSeekForwardKey":'ctrl+39',"percentageSeekKeys":"49,50,51,52,53,54,55,56,57","openFullscreenKey":70,"escapeKey":27,"gotoBeginingKey":36,"gotoEndKey":35},configKeyNames:['arrowUpKey','arrowDownKey','togglePlaybackKey','shortSeekBackKey','longSeekBackKey','shortSeekForwardKey','longSeekForwardKey','openFullscreenKey','escapeKey','gotoBeginingKey','gotoEndKey'],SHIFT_KEY_CODE:16,CTRL_KEY_CODE:17,ALT_KEY_CODE:18,enableKeyBindings:true,canSeek:false,singleKeys:{},combinationKeys:{'ctrl':{},'alt':{},'shift':{}},setup:function(){var _this=this;$.each(this.configKeyNames,function(idx,configKey){var keyVal=_this.getConfig(configKey);_this.mapKeyByType(keyVal,configKey);});var percentageArr=this.getConfig('percentageSeekKeys').split(",")
	$.each(percentageArr,function(keyIdx,keyCode){_this.singleKeys[keyCode]='percentageSeekKeys';});var addKeyCallback=function(keyCode,callback){_this.mapKeyByType(keyCode,callback);};this.bind('pluginsReady',function(){_this.getPlayer().triggerHelper('addKeyBindCallback',addKeyCallback);});this.bind('onEnableKeyboardBinding',function(){_this.enableKeyBindings=true;});this.bind('onDisableKeyboardBinding',function(){_this.enableKeyBindings=false;});this.bind('updateBufferPercent',function(){_this.canSeek=true;});$(document).keydown(function(e){if(_this.enableKeyBindings){return _this.onKeyDown(e);}});},mapKeyByType:function(key,callback){switch(typeof key){case"number":this.singleKeys[key]=callback;break;case"string":var parts=key.split("+");if(parts.length==1){this.singleKeys[key]=callback;break;}var validSpecialKeys=['ctrl','alt','shift'];if($.inArray(parts[0],validSpecialKeys)!=-1){this.combinationKeys[parts[0]][parts[1]]=callback;}else{this.log('First key must be one of: '+validSpecialKeys.join(","));}break;}},onKeyDown:function(e){var ranCallback=false;var keyCode=e.keyCode||e.which;if(e.altKey&&keyCode!=this.ALT_KEY_CODE){ranCallback=this.runCallbackByKeysArr(keyCode,this.combinationKeys['alt']);}else if(e.ctrlKey&&keyCode!=this.CTRL_KEY_CODE&&!ranCallback){ranCallback=this.runCallbackByKeysArr(keyCode,this.combinationKeys['ctrl']);}else if(e.shiftKey&&keyCode!=this.SHIFT_KEY_CODE&&!ranCallback){ranCallback=this.runCallbackByKeysArr(keyCode,this.combinationKeys['shift']);}if(!ranCallback){this.runCallbackByKeysArr(keyCode,this.singleKeys);}if(ranCallback){e.preventDefault();return false;}},runCallbackByKeysArr:function(keyCode,keysArr){var keyName=keysArr[keyCode];if($.isFunction(keyName)){keyName(keyCode);this.log('ran callback for key: '+keyCode);return true;}var keyCallback=keyName+'Callback';if(keyName&&typeof this[keyCallback]==='function'){this[keyCallback](keyCode);this.log('ran callback: '+keyCallback+' for key: '+keyCode);return true;}return false;},arrowUpKeyCallback:function(){if(this.getOpenedMenu()!=null){this.getOpenedMenu().previousItem();}else{this.volumeUpKeyCallback();}},arrowDownKeyCallback:function(){if(this.getOpenedMenu()!=null){this.getOpenedMenu().nextItem();}else{this.volumeDownKeyCallback();}},escapeKeyCallback:function(){if(this.getOpenedMenu()!=null){this.getOpenedMenu().close();}else{this.closeFullscreenkeyCallback();}},volumeUpKeyCallback:function(){var currentVolume=parseFloat(this.getPlayer().getPlayerElementVolume());var volumePercentChange=parseFloat(this.getConfig('volumePercentChange'));var newVolumeVal=(currentVolume+volumePercentChange).toFixed(2);if(newVolumeVal>1){newVolumeVal=1;}this.getPlayer().setVolume(newVolumeVal,true);},volumeDownKeyCallback:function(){var currentVolume=parseFloat(this.getPlayer().getPlayerElementVolume());var volumePercentChange=parseFloat(this.getConfig('volumePercentChange'));var newVolumeVal=(currentVolume-volumePercentChange).toFixed(2);if(newVolumeVal<0){newVolumeVal=0;}this.getPlayer().setVolume(newVolumeVal,true);},togglePlaybackKeyCallback:function(){if($('.btn').is(":focus")){return false;}this.getPlayer().togglePlayback();return false;},seek:function(seekType,direction){if(!this.canSeek){return false;}var seekTimeConfig=(seekType=='short')?'shortSeekTime':'longSeekTime';var seekTime=parseFloat(this.getConfig(seekTimeConfig));var currentTime=parseFloat(this.getPlayer().currentTime);var newCurrentTime=0;if(direction=='back'){newCurrentTime=currentTime-seekTime;if(newCurrentTime<0){newCurrentTime=0;}}else{newCurrentTime=currentTime+seekTime;if(newCurrentTime>parseFloat(this.getPlayer().getDuration())){newCurrentTime=parseFloat(this.getPlayer().getDuration());}}this.getPlayer().seek(newCurrentTime/this.getPlayer().getDuration());},shortSeekBackKeyCallback:function(){this.seek('short','back');},longSeekBackKeyCallback:function(){this.seek('long','back');},shortSeekForwardKeyCallback:function(){this.seek('short','forward');},longSeekForwardKeyCallback:function(){this.seek('long','forward');},percentageSeekKeysCallback:function(keyCode){if(!this.canSeek){return false;}var _this=this;var getPercentage=function(){var percentArr=_this.getConfig('percentageSeekKeys').split(",");var idx=$.inArray(keyCode.toString(),percentArr);return((idx+1)*0.1).toFixed(2);};this.getPlayer().seek(getPercentage());},openFullscreenKeyCallback:function(){if(!this.getPlayer().getInterface().hasClass('fullscreen')){this.getPlayer().toggleFullscreen();}},closeFullscreenkeyCallback:function(){if(this.getPlayer().getInterface().hasClass('fullscreen')){this.getPlayer().toggleFullscreen();}},gotoBeginingKeyCallback:function(){if(!this.canSeek){return false;}this.getPlayer().seek(0);},gotoEndKeyCallback:function(){if(!this.canSeek){return false;}this.getPlayer().seek(1);},getOpenedMenu:function(){var openedMenu=null;for(var pluginID in this.getPlayer().plugins){var plugin=this.getPlayer().plugins[pluginID];if($.isFunction(plugin.getMenu)&&plugin.getMenu().isOpen()){openedMenu=plugin.getMenu();break;}}return openedMenu;}}));})(window.mw,window.jQuery);;},{},{});mw.loader.implement("largePlayBtn",function($){(function(mw,$){"use strict";mw.PluginManager.add('largePlayBtn',mw.KBaseComponent.extend({shouldShow:false,isDisabled:false,defaultConfig:{'parent':'videoHolder','order':1},setup:function(){this.addBindings();},isPersistantPlayBtn:function(){return mw.isAndroid2()||this.getPlayer().isLinkPlayer()||(mw.isIphone()&&mw.getConfig('EmbedPlayer.iPhoneShowHTMLPlayScreen'));},addBindings:function(){var _this=this;this.bind('showInlineDownloadLink',function(e,linkUrl){_this.getComponent().attr({'href':linkUrl,'target':'_blank'});});this.bind('onChangeMediaDone playerReady onpause onEndedDone onRemovePlayerSpinner',function(){if(!_this.embedPlayer.isPlaying()){_this.show();}});this.bind('playing AdSupport_StartAdPlayback onAddPlayerSpinner',function(){_this.hide();});this.bind('onPlayerStateChange',function(e,newState,oldState){if(newState=='load'){_this.hide(true);}if(newState=='pause'&&_this.getPlayer().isPauseLoading){_this.hide();}});},show:function(){if(!this.isDisabled){this.getComponent().show();}this.shouldShow=true;},hide:function(force){this.hideComponent(force);this.shouldShow=false;},hideComponent:function(force){if(force||!this.isPersistantPlayBtn()){this.getComponent().hide();}},clickButton:function(event){if(this.getPlayer().isLinkPlayer()){this.getPlayer().triggerHelper('firstPlay');this.getPlayer().triggerHelper('playing');return;}event.preventDefault();this.getPlayer().sendNotification('doPlay');},onEnable:function(){this.isDisabled=false;if(this.shouldShow){this.getComponent().show();}},onDisable:function(){this.isDisabled=true;this.hideComponent();},getComponent:function(){var _this=this;if(!this.$el){this.$el=$('<a />').attr({'tabindex':'-1','href':'#','title':gM('mwe-embedplayer-play_clip'),'class':"icon-play"+this.getCssClass()}).hide().click(function(e){_this.clickButton(e);});}return this.$el;}}));})(window.mw,window.jQuery);;},{},{});mw.loader.implement("liveStream",function($){(function(mw,$){"use strict";mw.PluginManager.add('liveCore',mw.KBasePlugin.extend({firstPlay:false,liveStreamStatusInterval:10,defaultDVRWindow:30*60,onAirStatus:true,dvrTimePassed:0,defaultConfig:{updateIOSPauseTime:false,offlineAlertOffest:1000,disableLiveCheck:false},lastShownTime:0,shouldReAttachTimeUpdate:false,playWhenOnline:false,setup:function(){this.addPlayerBindings();this.extendApi();},extendApi:function(){var _this=this;this.getPlayer().isOffline=function(){return!_this.onAirStatus;}},addPlayerBindings:function(){var _this=this;var embedPlayer=this.getPlayer();this.bind('checkIsLive',function(e,callback){_this.getLiveStreamStatusFromAPI(callback);});this.bind('playerReady',function(){var showComponentsArr=[];var hideComponentsArr=[];hideComponentsArr.push('liveBackBtn');_this.dvrTimePassed=0;_this.lastShownTime=0;if(embedPlayer.isLive()){_this.addLiveStreamStatusMonitor();hideComponentsArr.push('sourceSelector');embedPlayer.addPlayerSpinner();_this.getLiveStreamStatusFromAPI(function(onAirStatus){if(!embedPlayer._checkHideSpinner){embedPlayer.hideSpinner();}});_this.switchDone=true;if(embedPlayer.sequenceProxy){_this.switchDone=false;}if(_this.isDVR()){_this.dvrWindow=embedPlayer.evaluate('{mediaProxy.entry.dvrWindow}')*60;if(!_this.dvrWindow){_this.dvrWindow=this.defaultDVRWindow;}if(kWidget.isIOS()){embedPlayer.setDuration(_this.dvrWindow);}showComponentsArr.push('scrubber','durationLabel','currentTimeLabel');}else{showComponentsArr.push('liveStatus');hideComponentsArr.push('scrubber','durationLabel','currentTimeLabel');}if(kWidget.isIOS()){_this.bind('timeupdate',function(){var curTime=embedPlayer.getPlayerElementTime();if(_this.dvrTimePassed!=0){var lastShownTime=_this.lastShownTime;if(lastShownTime==0){lastShownTime=curTime;}var accurateTime=lastShownTime-_this.dvrTimePassed;if(accurateTime<0){accurateTime=0}if(accurateTime>embedPlayer.duration){accurateTime=embedPlayer.duration;}_this.updateTimeAndScrubber(accurateTime);}else if(curTime>embedPlayer.duration){embedPlayer.triggerHelper('detachTimeUpdate');embedPlayer.triggerHelper('externalTimeUpdate',[embedPlayer.duration]);_this.lastShownTime=embedPlayer.duration;_this.shouldReAttachTimeUpdate=true;}else if(_this.dvrTimePassed==0&&_this.shouldReAttachTimeUpdate){_this.sendReAttacheTimeUpdate();}});}if(_this.shouldHandlePausedMonitor()){_this.bind('onplay',function(){if(_this.isDVR()&&_this.switchDone){_this.removePausedMonitor();}});_this.bind('seeking movingBackToLive',function(){if(_this.dvrTimePassed!=0){_this.dvrTimePassed=0;_this.sendReAttacheTimeUpdate();}});}}else{hideComponentsArr.push('liveStatus');showComponentsArr.push('sourceSelector','scrubber','durationLabel','currentTimeLabel');_this.removeLiveStreamStatusMonitor();}embedPlayer.triggerHelper('onShowInterfaceComponents',[showComponentsArr]);embedPlayer.triggerHelper('onHideInterfaceComponents',[hideComponentsArr]);});this.bind('onpause',function(){if(_this.isDVR()&&_this.switchDone){embedPlayer.addPlayerSpinner();_this.getLiveStreamStatusFromAPI(function(onAirStatus){if(onAirStatus){if(_this.shouldHandlePausedMonitor()){_this.addPausedMonitor();}}});}});this.bind('firstPlay',function(){_this.firstPlay=true;});this.bind('AdSupport_PreSequenceComplete',function(){_this.switchDone=true;});this.bind('liveStreamStatusUpdate',function(e,onAirObj){if(_this.onAirStatus&&!onAirObj.onAirStatus){setTimeout(function(){if(!_this.onAirStatus){_this.playWhenOnline=embedPlayer.isPlaying();embedPlayer.layoutBuilder.displayAlert({title:embedPlayer.getKalturaMsg('ks-LIVE-STREAM-OFFLINE-TITLE'),message:embedPlayer.getKalturaMsg('ks-LIVE-STREAM-OFFLINE'),keepOverlay:true});_this.getPlayer().disablePlayControls();}},_this.getConfig('offlineAlertOffest'));embedPlayer.triggerHelper('liveOffline');}else if(!_this.onAirStatus&&onAirObj.onAirStatus){embedPlayer.layoutBuilder.closeAlert();if(!_this.getPlayer().getError()){_this.getPlayer().enablePlayControls();}if(_this.playWhenOnline){embedPlayer.play();_this.playWhenOnline=false;}embedPlayer.triggerHelper('liveOnline');}_this.onAirStatus=onAirObj.onAirStatus;if(_this.isDVR()){if(!onAirObj.onAirStatus){embedPlayer.triggerHelper('onHideInterfaceComponents',[['liveBackBtn']]);if(_this.shouldHandlePausedMonitor()){_this.removePausedMonitor();}}else if(_this.firstPlay){embedPlayer.triggerHelper('onShowInterfaceComponents',[['liveBackBtn']]);}}});this.bind('durationChange',function(e,newDuration){if(_this.switchDone&&embedPlayer.isLive()&&_this.isDVR()){if(newDuration<0.9*(_this.dvrWindow)){embedPlayer.setDuration(_this.dvrWindow);}}});},sendReAttacheTimeUpdate:function(){this.getPlayer().triggerHelper('reattachTimeUpdate');this.lastShownTime=0;this.shouldReAttachTimeUpdate=false},updateTimeAndScrubber:function(val){var embedPlayer=this.getPlayer();embedPlayer.triggerHelper('externalTimeUpdate',[val]);var playHeadPercent=(val-embedPlayer.startOffset)/embedPlayer.duration;embedPlayer.triggerHelper('externalUpdatePlayHeadPercent',[playHeadPercent]);},isDVR:function(){return this.getPlayer().evaluate('{mediaProxy.entry.dvrStatus}');},getCurrentTime:function(){return this.getPlayer().getPlayerElement().currentTime;},removeMinDVRMonitor:function(){this.log("removeMinDVRMonitor");this.minDVRMonitor=clearInterval(this.minDVRMonitor);},addLiveStreamStatusMonitor:function(){if(this.embedPlayer.getError()){return;}this.log("addLiveStreamStatusMonitor");var _this=this;this.liveStreamStatusMonitor=setInterval(function(){_this.getLiveStreamStatusFromAPI();},_this.liveStreamStatusInterval*1000);},removeLiveStreamStatusMonitor:function(){this.log("removeLiveStreamStatusMonitor");this.liveStreamStatusMonitor=clearInterval(this.liveStreamStatusMonitor);},shouldHandlePausedMonitor:function(){if(kWidget.isIOS()&&this.getConfig('updateIOSPauseTime')){return true;}return false;},addPausedMonitor:function(){var _this=this;var embedPlayer=this.embedPlayer;var vid=embedPlayer.getPlayerElement();var pauseTime=_this.lastShownTime;if(pauseTime==0){pauseTime=vid.currentTime;}var pauseClockTime=Date.now();embedPlayer.triggerHelper('detachTimeUpdate');this.log("addPausedMonitor :   Monitor rate = "+mw.getConfig('EmbedPlayer.MonitorRate'));this.pausedMonitor=setInterval(function(){var timePassed=(Date.now()-pauseClockTime)/1000;var newTime=pauseTime-timePassed;if(newTime>=0){_this.dvrTimePassed=timePassed;_this.updateTimeAndScrubber(newTime);}},1000);},removePausedMonitor:function(){this.log("removePausedMonitor");this.pausedMonitor=clearInterval(this.pausedMonitor);},getLiveStreamStatusFromAPI:function(callback){var _this=this;var embedPlayer=this.getPlayer();if(embedPlayer.getFlashvars('streamerType')=='rtmp'){if(callback){callback(_this.onAirStatus);}return;}if(this.getConfig("disableLiveCheck")){if(callback){callback(true);}embedPlayer.triggerHelper('liveStreamStatusUpdate',{'onAirStatus':true});return;}var service='liveStream';if(embedPlayer.kalturaPlayerMetaData&&embedPlayer.kalturaPlayerMetaData.type==8){service='liveChannel';}var protocol='hls';if(embedPlayer.streamerType!='http'){protocol=embedPlayer.streamerType;}_this.getKalturaClient().doRequest({'service':service,'action':'islive','id':embedPlayer.kentryid,'protocol':protocol,'partnerId':embedPlayer.kpartnerid,'timestamp':Date.now()},function(data){var onAirStatus=false;if(data===true){onAirStatus=true;}if(callback){callback(onAirStatus);}embedPlayer.triggerHelper('liveStreamStatusUpdate',{'onAirStatus':onAirStatus});},mw.getConfig("SkipKSOnIsLiveRequest"));},getKalturaClient:function(){if(!this.kClient){this.kClient=mw.kApiGetPartnerClient(this.embedPlayer.kwidgetid);}return this.kClient;},log:function(msg){mw.log("LiveStream :: "+msg);}}));})(window.mw,window.jQuery);(function(mw,$){"use strict";mw.PluginManager.add('liveStatus',mw.KBaseComponent.extend({onAirStatus:false,defaultConfig:{'parent':'controlsContainer','order':52,"displayImportance":"high"},setup:function(){this.addBindings();},addBindings:function(){var _this=this;this.bind('liveStreamStatusUpdate',function(e,onAirObj){_this.onAirStatus=onAirObj.onAirStatus;_this.setLiveStreamStatus(_this.getLiveStreamStatusText());});},getComponent:function(){if(!this.$el){this.$el=$('<div />').addClass("ui-widget live-stream-status"+this.getCssClass());}return this.$el;},getLiveStreamStatusText:function(){if(this.onAirStatus){return'On Air';}return'Off Air';},setLiveStreamStatus:function(value){this.getComponent().html(value);if(this.onAirStatus){this.getComponent().removeClass('live-off-air').addClass('live-on-air');}else{this.getComponent().removeClass('live-on-air').addClass('live-off-air');}}}))})(window.mw,window.jQuery);(function(mw,$){"use strict";mw.PluginManager.add('liveBackBtn',mw.KBaseComponent.extend({defaultConfig:{'parent':'controlsContainer','order':53,"displayImportance":"medium"},getComponent:function(){var _this=this;if(!this.$el){var $backToLiveText=$('<div />').addClass('back-to-live-text '+this.getCssClass()).text('Live');var $backToLiveWrapper=$('<div />').addClass('back-to-live-icon '+this.getCssClass());this.$el=$('<div />').addClass('ui-widget back-to-live '+this.getCssClass()).append($backToLiveWrapper,$backToLiveText).click(function(){_this.backToLive();});}return this.$el;},backToLive:function(){this.getPlayer().backToLive();}}))})(window.mw,window.jQuery);;},{"all":".time-disp-dvr,.live-stream-status,.back-to-live{margin-top:8px;height:auto;overflow:hidden;font-size:10.2px;float:right;display:inline;border:none;padding-right:4px}.live-on-air,.live-off-air,.back-to-live{margin-top:6px;border:1px solid #000000;padding:2px 4px 2px 4px}.live-on-air{background-color:#2FC44D}.live-off-air,.back-to-live{background-color:#FF0000}.time-disp-dvr{padding-right:8px}.time-disp-dvr-live{text-shadow:0 0 10px #FFFFFF;font-weight:bold}.play_head_dvr{position:absolute}.play_head_dvr .ui-slider-handle{width:10px;height:15px;margin-left:-5px;margin-top:-0px;z-index:2}.back-to-live{margin-right:4px;cursor:pointer;background-color:#2FC44D}.back-to-live-icon{margin-right:4px;width:0;height:0;border-top:4px solid transparent;border-bottom:4px solid transparent;border-left:6px solid #FFFFFF;display:inline-block}.back-to-live-text{display:inline-block}\n\n/* cache key: resourceloader:filter:minify-css:7:9b6cba5deb7f9d7c183193948611f4a3 */\n"},{});mw.loader.implement("logo",function($){(function(mw,$){"use strict";mw.PluginManager.add('logo',mw.KBaseComponent.extend({defaultConfig:{parent:"controlsContainer",order:41,displayImportance:'low',align:"right",cssClass:"kaltura-logo",href:'http://www.kaltura.com',title:'Kaltura',img:null},getComponent:function(){if(!this.$el){var $img=[];if(this.getConfig('img')){$img=$('<img />').attr({alt:this.getConfig('title'),src:this.getConfig('img')});}this.$el=$('<div />').addClass(this.getCssClass()).addClass('btn').append($('<a />').addClass('btnFixed').attr({'title':this.getConfig('title'),'target':'_blank','href':this.getConfig('href')}).append($img));}if(this.getConfig('img')!=null){this.$el.removeClass('kaltura-logo');}return this.$el;}}));})(window.mw,window.jQuery);;},{},{});mw.loader.implement("matchMedia",function($){window.matchMedia||(window.matchMedia=function(){"use strict";var styleMedia=(window.styleMedia||window.media);if(!styleMedia){var style=document.createElement('style'),script=document.getElementsByTagName('script')[0],info=null;style.type='text/css';style.id='matchmediajs-test';script.parentNode.insertBefore(style,script);info=('getComputedStyle'in window)&&window.getComputedStyle(style)||style.currentStyle;styleMedia={matchMedium:function(media){var text='@media '+media+'{ #matchmediajs-test { width: 1px; } }';if(style.styleSheet){style.styleSheet.cssText=text;}else{style.textContent=text;}return info.width==='1px';}};}return function(media){return{matches:styleMedia.matchMedium(media||'all'),media:media||'all'};};}());;},{},{});mw.loader.implement("nativeBridge",function($){(function(mw,$){"use strict";var NativeBridge={callbacksCount:1,callbacks:{},resultForCallback:function resultForCallback(callbackId,resultArray){try{var callback=NativeBridge.callbacks[callbackId];if(!callback)return;callback.apply(null,resultArray);}catch(e){alert(e)}},call:function call(functionName,args,callback){var hasCallback=callback&&typeof callback=="function";var callbackId=hasCallback?NativeBridge.callbacksCount++:0;if(hasCallback)NativeBridge.callbacks[callbackId]=callback;var iframe=document.createElement("IFRAME");iframe.setAttribute("src","js-frame:"+functionName+":"+callbackId+":"+encodeURIComponent(JSON.stringify(args)));document.documentElement.appendChild(iframe);iframe.parentNode.removeChild(iframe);iframe=null;}};NativeBridge.videoPlayer=NativeBridge.videoPlayer||{proxyElement:null,embedPlayer:null,isJsCallbackReady:false,bindPostfix:".nativeBridge",playerMethods:['stop','play','pause','setPlayerSource','bindPlayerEvents','showNativePlayer','hideNativePlayer','toggleFullscreen','notifyKPlayerEvent','notifyKPlayerEvaluated','notifyJsReady','doneFSBtnPressed','addNativeAirPlayButton','showNativeAirPlayButton','hideNativeAirPlayButton'],registePlayer:function(proxyElement){var _this=this;this.proxyElement=proxyElement;for(var i=0;i<this.playerMethods.length;i++){(function(method){_this.proxyElement[method]=function(arg){_this.execute(method,arg);}})(this.playerMethods[i]);}this.proxyElement.attr=function(attributeName,attributeValue){if(attributeName&&attributeValue===undefined){return _this.proxyElement[attributeName];}else if(attributeName&&attributeValue){_this.proxyElement[attributeName]=attributeValue;_this.execute('setAttribute',[attributeName,attributeValue]);}}
	this.bindNativeEvents();},notifyJsReadyFunc:function(){if(this.isJsCallbackReady&&this.proxyElement){this.proxyElement.notifyJsReady([]);}},registerEmbedPlayer:function(embedPlayer){this.embedPlayer=embedPlayer;this.notifyJsReadyFunc();},sendNotification:function(eventName,eventValue){this.embedPlayer.sendNotification(eventName,JSON.parse(eventValue));},getObjectString:function(object){var stringValue=object;if(typeof object==="object"){stringValue=JSON.stringify(object);}return stringValue;},addJsListener:function(eventName){var _this=this;this.embedPlayer.addJsListener(eventName+this.bindPostfix,function(val){_this.embedPlayer.getPlayerElement().notifyKPlayerEvent([eventName,_this.getObjectString(val)]);});},removeJsListener:function(eventName){this.embedPlayer.removeJsListener(eventName+this.bindPostfix);},setKDPAttribute:function(host,prop,value){this.embedPlayer.setKDPAttribute(host,prop,value);},asyncEvaluate:function(expression,callbackName){var result=this.embedPlayer.evaluate(expression);this.embedPlayer.getPlayerElement().notifyKPlayerEvaluated([callbackName,this.getObjectString(result)]);},trigger:function(eventName,eventValue){if(eventValue==="(null)"){eventValue=void(0);}if(eventValue!=undefined){var jsEventValue=this.stringConvertion(eventValue);}$(this.proxyElement).trigger(eventName,[jsEventValue]);if(eventName=='timeupdate'){this.proxyElement['currentTime']=jsEventValue;}else if(eventName=='progress'){this.proxyElement['progress']=jsEventValue;}else if(eventName=='visible'){this.proxyElement['visible']=jsEventValue;}else if(eventName=='durationchange'){this.proxyElement['duration']=jsEventValue;}},execute:function(command,args){args=args||[];console.log(command);console.log(args);NativeBridge.call(command,args);},bindNativeEvents:function(){console.log('bindNativeEvents');this.proxyElement.bindPlayerEvents([]);},log:function(message,arg){console.log(message,arg);},stringConvertion:function(str){var value=parseFloat(str);if(isNaN(value)){if(value=='true'){return true;}else if(value=='false'){return false;}else{return str;}}return value;}};if(mw.getConfig('EmbedPlayer.ForceNativeComponent')===true){window["NativeBridge"]=NativeBridge;kWidget.addReadyCallback(function(){NativeBridge.videoPlayer.isJsCallbackReady=true;NativeBridge.videoPlayer.notifyJsReadyFunc();});}})(window.mw,window.jQuery);;},{},{});mw.loader.implement("playPauseBtn",function($){(function(mw,$){"use strict";mw.PluginManager.add('playPauseBtn',mw.KBaseComponent.extend({defaultConfig:{'parent':'controlsContainer','order':1,'showTooltip':true,"displayImportance":"high"},isDisabled:false,playIconClass:'icon-play',pauseIconClass:'icon-pause',replayIconClass:'icon-replay',playTitle:gM('mwe-embedplayer-play_clip'),pauseTitle:gM('mwe-embedplayer-pause_clip'),replayTitle:gM('mwe-embedplayer-replay'),setup:function(embedPlayer){this.addBindings();},getComponent:function(){var _this=this;if(!this.$el){this.$el=$('<button />').attr('title',this.playTitle).addClass("btn icon-play"+this.getCssClass()).click(function(){_this.togglePlayback();});}return this.$el;},addBindings:function(){var _this=this;this.bind('onPlayerStateChange',function(e,newState){_this.updateUI(newState);});},updateUI:function(newState){var removeIconClasses=this.playIconClass+' '+this.pauseIconClass+' '+this.replayIconClass;var newIconClass=null;var title=null;var ignoreChange=false;switch(newState){case'play':title=this.pauseTitle;newIconClass=this.pauseIconClass;break;case'start':case'pause':title=this.playTitle;newIconClass=this.playIconClass;break;case'end':title=this.replayTitle;newIconClass=this.replayIconClass;break;default:ignoreChange=true;break;}if(ignoreChange){return;}else{ignoreChange=false;this.updateTooltip(title);this.setAccessibility(this.$el,title);this.getComponent().removeClass(removeIconClasses).addClass(newIconClass);}},togglePlayback:function(){if(this.isDisabled)return;var notificationName=(this.getPlayer().isPlaying())?'doPause':'doPlay';this.getPlayer().sendNotification(notificationName);}}));})(window.mw,window.jQuery);;},{},{});mw.loader.implement("screenfull",function($){(function(window,document){'use strict';var keyboardAllowed=typeof Element!=='undefined'&&'ALLOW_KEYBOARD_INPUT'in Element,fn=(function(){var val,valLength;var fnMap=[['requestFullscreen','exitFullscreen','fullscreenElement','fullscreenEnabled','fullscreenchange','fullscreenerror'],['webkitRequestFullscreen','webkitExitFullscreen','webkitFullscreenElement','webkitFullscreenEnabled','webkitfullscreenchange','webkitfullscreenerror'],['webkitRequestFullScreen','webkitCancelFullScreen','webkitCurrentFullScreenElement','webkitCancelFullScreen','webkitfullscreenchange','webkitfullscreenerror'],['mozRequestFullScreen','mozCancelFullScreen','mozFullScreenElement','mozFullScreenEnabled','mozfullscreenchange','mozfullscreenerror'],['msRequestFullscreen','msExitFullscreen','msFullscreenElement','msFullscreenEnabled','MSFullscreenChange','MSFullscreenError']];var i=0;var l=fnMap.length;var ret={};for(;i<l;i++){val=fnMap[i];if(val&&val[1]in document){for(i=0,valLength=val.length;i<valLength;i++){ret[fnMap[0][i]]=val[i];}return ret;}}return false;})(),screenfull={request:function(elem,context){var request=fn.requestFullscreen;context=context||document;elem=elem||context.documentElement;if(/5\.1[\.\d]* Safari/.test(navigator.userAgent)){elem[request]();}else{elem[request](keyboardAllowed&&Element.ALLOW_KEYBOARD_INPUT);}},exit:function(context){context=context||document;context[fn.exitFullscreen]();},toggle:function(elem){if(this.isFullscreen){this.exit();}else{this.request(elem);}},isFullscreen:function(context){context=context||document;return!!context[fn.fullscreenElement];},element:function(context){context=context||document;return context[fn.fullscreenElement];},enabled:function(context){context=context||document;return!!context[fn.fullscreenEnabled];},onchange:function(){},onerror:function(){},raw:fn};if(!fn){window.screenfull=false;return;}document.addEventListener(fn.fullscreenchange,function(e){screenfull.onchange.call(screenfull,e);});document.addEventListener(fn.fullscreenerror,function(e){screenfull.onerror.call(screenfull,e);});window.screenfull=screenfull;})(window,document);;},{},{});mw.loader.implement("scrubber",function($){(function(mw,$,kWidget){"use strict";mw.PluginManager.add('scrubber',mw.KBaseComponent.extend({defaultConfig:{'parent':'controlBarContainer','insertMode':'firstChild','order':25,'sliderPreview':true,'thumbSlices':100,'thumbWidth':100,'minWidth':100,'displayImportance':"medium"},isSliderPreviewEnabled:function(){return this.getConfig("sliderPreview")&&!this.isDisabled&&!this.embedPlayer.isLive();},setup:function(embedPlayer){if(this.getConfig('parent')=='controlsContainer'){this.setConfig('insertMode','lastChild');}this.addBindings();if(this.isSliderPreviewEnabled()){this.setupThumbPreview();}},addBindings:function(){var _this=this;this.bind('durationChange',function(event,duration){_this.duration=duration;});if(this.getConfig('parent')=='controlsContainer'){this.bind('updateComponentsVisibilityStart',function(){_this.getComponent().css('width',_this.getConfig('minWidth'));})
	this.bind('updateComponentsVisibilityDone',function(){var $container=_this.getComponent().parent();var compSize=_this.embedPlayer.layoutBuilder.getComponentsWidthForContainer($container)-_this.getComponent().width();var targetSize=$container.width()-compSize;if(targetSize<_this.getConfig('minWidth')){targetSize=_this.getConfig('minWidth');}_this.getComponent().css('width',(targetSize)+'px');});}this.bind('updateBufferPercent',function(e,bufferedPercent){_this.updateBufferUI(bufferedPercent);});this.bindUpdatePlayheadPercent();this.bind('externalUpdatePlayHeadPercent',function(e,perc){_this.updatePlayheadPercentUI(perc);});this.bind('detachTimeUpdate',function(){_this.unbind('updatePlayHeadPercent');});this.bind('reattachTimeUpdate',function(){_this.bindUpdatePlayheadPercent();});this.bind('playerReady',function(event){if(_this.getConfig("sliderPreview")){_this.thumbnailsLoaded=_this.loadedThumb=false;setTimeout(function(){_this.loadThumbnails(function(){_this.thumbnailsLoaded=true;});},1000);}});},bindUpdatePlayheadPercent:function(){var _this=this;this.bind('updatePlayHeadPercent',function(e,perc){_this.updatePlayheadPercentUI(perc);});},updatePlayheadPercentUI:function(perc){var val=parseInt(perc*1000);this.updatePlayheadUI(val);},updateBufferUI:function(percent){this.getComponent().find('.buffered').css({"width":(parseInt(percent*100))+'%'});},updatePlayheadUI:function(val){this.getComponent().slider('option','value',val);},setupThumbPreview:function(){var _this=this;this.thumbnailsLoaded=false;this.getComponent().on({'mousemove touchmove touchstart':function(e){if(e.toElement&&e.toElement.className.indexOf("sliderPreview")>-1){_this.hideThumbnailPreview();return;}var $this=$(this);var width=$this.width();var offset=$this.offset();var options=$this.slider('option');var value=Math.round(((e.clientX-offset.left)/width)*(options.max-options.min))+options.min;_this.showThumbnailPreview({offset:offset,x:e.clientX-offset.left,val:value,width:width});},'mouseleave touchend':function(){_this.hideThumbnailPreview();}}).append($("<div/>").hide().addClass("sliderPreview").append($("<div/>").addClass("arrow")).append($("<span/>").addClass("sliderPreviewTime")));},onEnable:function(){this.isDisabled=false;this.getComponent().toggleClass('disabled');this.getComponent().slider("option","disabled",false);},onDisable:function(){this.isDisabled=true;this.getComponent().slider("option","disabled",true);this.getComponent().toggleClass('disabled');},getSliceCount:function(duration){return this.getConfig("thumbSlices")||100;},loadThumbnails:function(callback){var _this=this;if(!this.loadedThumb){this.loadedThumb=true;var baseThumbSettings={'partner_id':this.embedPlayer.kpartnerid,'uiconf_id':this.embedPlayer.kuiconfid,'entry_id':this.embedPlayer.kentryid,'width':this.getConfig("thumbWidth")};this.imageSlicesUrl=kWidget.getKalturaThumbUrl($.extend({},baseThumbSettings,{'vid_slices':this.getSliceCount(this.duration)}));var img=new Image();img.onload=function(){callback();};img.src=_this.imageSlicesUrl;}else{callback();}},showThumbnailPreview:function(data){if(!this.isSliderPreviewEnabled()||!this.thumbnailsLoaded){return;}if(!(data.val>=0&&this.duration>=0)){return;}var $slider=$(".slider");if(!$slider.length){this.log('.slider class not in DOM')
	return;}var $sliderPreview=this.getComponent().find(".sliderPreview");var $sliderPreviewTime=this.getComponent().find(".sliderPreview .sliderPreviewTime");var sliderTop=0;var sliderLeft=0;var previewWidth=$sliderPreview.width();var previewHeight=$sliderPreview.height();var top=$(".slider").position().top-previewHeight-30;sliderLeft=data.x-previewWidth/2;if((data.x+data.offset.left)<previewWidth/2){sliderLeft=0;}if(data.x>data.offset.left+data.width-previewWidth/2){sliderLeft=data.offset.left+data.width-previewWidth;}var perc=data.val/1000;var currentTime=this.duration*perc;var thumbWidth=this.getConfig("thumbWidth");$sliderPreview.css({top:top,left:sliderLeft});$sliderPreview.css({'background-image':'url(\''+this.imageSlicesUrl+'\')','background-position':kWidget.getThumbSpriteOffset(thumbWidth,currentTime,this.duration,this.getSliceCount(this.duration)),'background-size':(thumbWidth*this.getSliceCount(this.duration))+'px 100%'});$(".playHead .arrow").css("left",thumbWidth/2-6);$sliderPreviewTime.text(kWidget.seconds2npt(currentTime));$sliderPreviewTime.css({bottom:2,left:thumbWidth/2-$sliderPreviewTime.width()/2});$sliderPreview.css("width",thumbWidth);if(kWidget.isIE8()){$sliderPreview.css("height",43);}$sliderPreview.show();},hideThumbnailPreview:function(){this.getComponent().find(".sliderPreview").hide();},getSliderConfig:function(){var _this=this;var embedPlayer=this.getPlayer();var alreadyChanged=false;return{range:"min",value:0,min:0,max:1000,animate:mw.getConfig('EmbedPlayer.MonitorRate')-(mw.getConfig('EmbedPlayer.MonitorRate')/30),start:function(event,ui){embedPlayer.userSlide=true;$(_this.getPlayer()).one('hidePlayerControls',function(){$(document).trigger('mouseup');});},slide:function(event,ui){_this.updateAttr(ui);},change:function(event,ui){alreadyChanged=true;var perc=ui.value/1000;_this.updateAttr(ui);if(embedPlayer.userSlide){embedPlayer.userSlide=false;embedPlayer.seeking=true;if(embedPlayer.isStopped()){embedPlayer.play();}embedPlayer.seek(perc);}}};},updateAttr:function(ui){var perc=ui.value/1000;var $slider=this.$el.find('.ui-slider-handle');var title=mw.seconds2npt(perc*this.embedPlayer.getDuration());var attributes={'data-title':title,'aria-valuetext':mw.seconds2npt(perc*this.embedPlayer.getDuration()),'aria-valuenow':parseInt(perc*100)+'%'};$slider.attr(attributes);if(this.getConfig('accessibilityLabels')){$slider.html('<span class="accessibilityLabel">'+title+'</span>');}},getComponent:function(){var _this=this;if(!this.$el){this.$el=$('<div />').attr({'role':'slider'}).addClass(this.getCssClass()+" scrubber").slider(this.getSliderConfig());this.$el.find('.ui-slider-handle').addClass('playHead PIE btn').wrap('<div class="handle-wrapper" />');this.updateAttr({'value':0});this.$el.find('.ui-slider-range-min').addClass('watched');this.$el.append($('<div />').addClass("buffered"));if(this.getConfig('parent')=='controlsContainer'){this.$el.css({'width':this.getConfig('minWidth')});this.$el.addClass()}}return this.$el;}}));})(window.mw,window.jQuery,kWidget);;},{},{});mw.loader.implement("sideBarContainer",function($){(function(mw,$){"use strict";mw.PluginManager.add('sideBarContainer',mw.KBasePlugin.extend({defaultConfig:{'hover':true,'clickToClose':false,'position':'left'},keepOnScreen:false,setup:function(){this.addBindings();},addBindings:function(){var _this=this;this.bind('addLayoutContainer',function(){_this.getPlayer().getVideoHolder().before(_this.getComponent());_this.getComponent().after(_this.$elHelper);});this.bind('layoutBuildDone ended',function(){_this.getComponentReminder().off('click').on('click',function(){if(_this.getConfig('isSideBarOpen')){_this.setConfig('isSideBarOpen','false');if(_this.getConfig('clickToClose')){_this.getComponentReminder().removeClass('shifted');_this.getComponent().removeClass('openBtn');}}else{_this.setConfig('isSideBarOpen','true');_this.getComponentReminder().addClass('shifted');_this.getComponent().addClass('openBtn');}});if(!_this.getConfig('clickToClose')){_this.getComponent().on('mouseleave',function(){_this.setConfig('isSideBarOpen','false');_this.getComponent().removeClass('openBtn');_this.getComponentReminder().removeClass('shifted');});}});this.bind('layoutBuildDone',function(){if(!_this.getComponent().children().length){_this.destroy();}});this.bind('updateLayout',function(){_this.getComponent().css('height',_this.getPlayer().getVideoHolder().height());});if(this.getConfig('hover')){this.bind('showPlayerControls',function(e,data){_this.show();});this.bind('hidePlayerControls',function(){_this.hide();});this.bind('onComponentsHoverDisabled',function(){_this.keepOnScreen=true;_this.show();});this.bind('onComponentsHoverEnabled',function(){_this.keepOnScreen=false;});}},show:function(){this.getComponentReminder().addClass('open');this.getPlayer().triggerHelper('onShowSidelBar',{'top':this.getComponentReminder().height()+15});},hide:function(){if(this.keepOnScreen||(this.getConfig('clickToClose')&&this.getConfig('isSideBarOpen')))return;this.setConfig('isSideBarOpen','false');this.getComponentReminder().removeClass('open shifted');this.getComponent().removeClass('openBtn');this.getPlayer().triggerHelper('onHideSideBar',{'top':15});},getComponent:function(){if(!this.$el){this.getComponentReminder();var _this=this;this.$el=$('<div />').addClass('sideBarContainer '+_this.getConfig('position'));if(this.getConfig('hover')){this.$el.addClass('hover');}else{this.$el.addClass('block');}}return this.$el;},getComponentReminder:function(){if(!this.$elHelper){var _this=this;this.$elHelper=$('<div>').addClass('sideBarContainerReminder '+_this.getConfig('position')).append($('<div>').addClass('TocBtnBorder '+_this.getConfig('position'))).append($('<div>').append($('<div>').addClass('icon-list')).addClass('icon-list-container'));if(this.getConfig('hover')){this.$elHelper.addClass('hover');}else{this.$elHelper.addClass('block');}}return this.$elHelper;},destroy:function(){this._super();this.getComponent().remove();this.getComponentReminder().remove();}}));})(window.mw,window.jQuery);;},{},{});mw.loader.implement("statisticsPlugin",function($){(function(mw,$){"use strict";mw.addKalturaPlugin("statistics",function(embedPlayer,callback){mw.addKAnalytics(embedPlayer);callback();});})(window.mw,window.jQuery);;},{},{});mw.loader.implement("topBarContainer",function($){(function(mw,$){"use strict";mw.PluginManager.add('topBarContainer',mw.KBasePlugin.extend({defaultConfig:{'hover':true},keepOnScreen:false,setup:function(){this.addBindings();},addBindings:function(){var _this=this;this.bind('addLayoutContainer',function(){_this.getPlayer().getVideoHolder().before(_this.getComponent());});this.bind('layoutBuildDone ended',function(){_this.show();});this.bind('layoutBuildDone',function(){if(!_this.getComponent().children().length){_this.destroy();}});if(this.getConfig('hover')){this.bind('showPlayerControls',function(e,data){_this.show();});this.bind('hidePlayerControls',function(){_this.hide();});this.bind('onComponentsHoverDisabled',function(){_this.keepOnScreen=true;_this.show();});this.bind('onComponentsHoverEnabled',function(){_this.keepOnScreen=false;_this.hide();});}},show:function(){this.getComponent().addClass('open');this.getPlayer().triggerHelper('onShowToplBar',{'top':this.getComponent().height()+15});},hide:function(){if(this.keepOnScreen)return;this.getComponent().removeClass('open');this.getPlayer().triggerHelper('onHideTopBar',{'top':15});},getComponent:function(){if(!this.$el){this.$el=$('<div />').addClass('topBarContainer');if(this.getConfig('hover')){this.$el.addClass('hover');}else{this.$el.addClass('block');}}return this.$el;},destroy:function(){this._super();this.getComponent().remove();}}));})(window.mw,window.jQuery);;},{},{});mw.loader.implement("utf8_encode",function($){window['utf8_encode']=function(argString){if(argString===null||typeof argString==="undefined"){return"";}var string=(argString+'');var utftext="",start,end,stringl=0;start=end=0;stringl=string.length;for(var n=0;n<stringl;n++){var c1=string.charCodeAt(n);var enc=null;if(c1<128){end++;}else if(c1>127&&c1<2048){enc=String.fromCharCode((c1>>6)|192)+String.fromCharCode((c1&63)|128);}else{enc=String.fromCharCode((c1>>12)|224)+String.fromCharCode(((c1>>6)&63)|128)+String.fromCharCode((c1&63)|128);}if(enc!==null){if(end>start){utftext+=string.slice(start,end);}utftext+=enc;start=end=n+1;}}if(end>start){utftext+=string.slice(start,stringl);}return utftext;};},{},{});mw.loader.implement("volumeControl",function($){(function(mw,$){"use strict";mw.PluginManager.add('volumeControl',mw.KBaseComponent.extend({defaultConfig:{parent:"controlsContainer",order:11,layout:"horizontal",showTooltip:true,displayImportance:"medium",accessibleControls:false,accessibleVolumeChange:0.1,showSlider:true,pinVolumeBar:false,useCookie:true},icons:{'mute':'icon-volume-mute','low':'icon-volume-low','high':'icon-volume-high'},setup:function(embedPlayer){this.addBindings();var _this=this;this.cookieName=this.pluginName+'_volumeValue';this.bind('playerReady ',function(){if((_this.getConfig('useCookie')&&$.cookie(_this.cookieName))){var volumeValue=parseInt($.cookie(_this.cookieName));if(!isNaN(volumeValue)&&volumeValue>=0&&volumeValue<=100){if(volumeValue===0){_this.getPlayer().preMuteVolume=1;_this.getPlayer().muted=true;_this.updateFirstMute=true;}_this.firstUpdate=true;_this.getPlayer().setVolume(volumeValue/100,true);}}});},saveVolume:function(){if(this.firstUpdate){this.firstUpdate=false;return;}if(this.getConfig('useCookie')){this.getPlayer().setCookie(this.cookieName,this.getPlayer().getPlayerElementVolume()*100);}},isSafeEnviornment:function(){return!mw.isMobileDevice();},getSliderConfig:function(){var _this=this;return{range:"min",value:(this.getPlayer().getPlayerElementVolume()*100),min:0,max:100,change:function(event,ui){_this.getPlayer().setVolume((ui.value/100),true);}};},addBindings:function(){var _this=this;if(this.getConfig('showSlider')){var openSlider=function(){_this.getComponent().addClass('open');};var closeSlider=function(){if(!_this.getConfig('pinVolumeBar')){_this.getComponent().removeClass('open');}};this.bind('layoutBuildDone',function(){openSlider();setTimeout(function(){_this.getComponent().data('width',_this.getComponent().width());closeSlider();},100);});}this.getBtn().click(function(){if(!_this.getPlayer().isMuted()){_this.updateTooltip(gM('mwe-embedplayer-volume-unmute'));_this.setAccessibility(_this.getBtn(),gM('mwe-embedplayer-volume-unmute'));}else{_this.updateTooltip(gM('mwe-embedplayer-volume-mute'));_this.setAccessibility(_this.getBtn(),gM('mwe-embedplayer-volume-mute'));}_this.getPlayer().toggleMute();if(_this.updateFirstMute){_this.updateFirstMute=false;_this.updateVolumeUI(1);}_this.saveVolume();});if(this.getConfig("accessibleControls")){this.getAccessibilityBtn('increaseVolBtn').click(function(){if(_this.getPlayer().volume<=(1-_this.getConfig("accessibleVolumeChange"))){_this.getPlayer().setVolume(_this.getPlayer().volume+_this.getConfig("accessibleVolumeChange"),true);}});this.getAccessibilityBtn('decreaseVolBtn').click(function(){if(_this.getPlayer().volume>=_this.getConfig("accessibleVolumeChange")){_this.getPlayer().setVolume(_this.getPlayer().volume-_this.getConfig("accessibleVolumeChange"),true);}});}this.getBtn().focusin(openSlider);this.getBtn().focusout(closeSlider);this.getComponent().hover(openSlider,closeSlider);this.bind('volumeChanged',function(e,percent){_this.updateVolumeUI(percent);_this.saveVolume();});this.getSlider().slider(this.getSliderConfig());if(this.getConfig('accessibilityLabels')){var percent=this.getPlayer().getPlayerElementVolume()*100;var title=gM('mwe-embedplayer-volume-value',percent);this.getSlider().find('a').html('<span class="accessibilityLabel">'+title+'</span>');}},updateVolumeUI:function(percent){var iconClasses='',newClass='';$.each(this.icons,function(){iconClasses+=this+' ';});if(percent==0){newClass=this.icons['mute'];}else if(percent<=0.50){newClass=this.icons['low'];}else if(percent<=1){newClass=this.icons['high'];}this.getBtn().removeClass(iconClasses).addClass(newClass);this.getSlider().slider('value',percent*100);if(this.getConfig('accessibilityLabels')){var title=gM('mwe-embedplayer-volume-value',percent*100);this.getSlider().find('a').html('<span class="accessibilityLabel">'+title+'</span>');}},getComponent:function(){if(!this.$el){var layoutClass=' '+this.getConfig('layout');var $btn=$('<button />').addClass("btn "+this.icons['high']).attr({'title':gM('mwe-embedplayer-volume-mute'),'id':'muteBtn'});this.setAccessibility($btn,gM('mwe-embedplayer-volume-mute'));this.$el=$('<div />').addClass(this.getCssClass()+layoutClass).append($btn,$('<div />').addClass('slider'));if(this.getConfig("accessibleControls")){var $accessibilityIncreaseVol=$('<button/>').addClass("btn aria").attr({"id":"increaseVolBtn","title":gM("mwe-embedplayer-volume-increase")});var $accessibilityDecreaseVol=$('<button/>').addClass("btn aria").attr({"id":"decreaseVolBtn","title":gM("mwe-embedplayer-volume-decrease")});this.$el.append($accessibilityIncreaseVol).append($accessibilityDecreaseVol);}}return this.$el;},getBtn:function(){return this.getComponent().find('#muteBtn');},getSlider:function(){return this.getComponent().find('.slider');},getAccessibilityBtn:function(id){return this.getComponent().find('#'+id);}}));})(window.mw,window.jQuery);;},{},{});mw.loader.implement("jquery.client",function($){(function($){var profileCache={};$.client={profile:function(nav){if(nav===undefined){nav=window.navigator;}if(profileCache[nav.userAgent]===undefined){var uk='unknown';var x='x';var wildUserAgents=['Opera','Navigator','Minefield','KHTML','Chrome','PLAYSTATION 3'];var userAgentTranslations=[[/(Firefox|MSIE|KHTML,\slike\sGecko|Konqueror)/,''],['Chrome Safari','Chrome'],['KHTML','Konqueror'],['Minefield','Firefox'],['Navigator','Netscape'],['PLAYSTATION 3','PS3']];var versionPrefixes=['camino','chrome','firefox','netscape','netscape6','opera','version','konqueror','lynx','msie','safari','ps3'];var versionSuffix='(\\/|\\;?\\s|)([a-z0-9\\.\\+]*?)(\\;|dev|rel|\\)|\\s|$)';var names=['camino','chrome','firefox','netscape','konqueror','lynx','msie','opera','safari','ipod','iphone','blackberry','ps3'];var nameTranslations=[];var layouts=['gecko','konqueror','msie','opera','webkit'];var layoutTranslations=[['konqueror','khtml'],['msie','trident'],['opera','presto']];var layoutVersions=['applewebkit','gecko'];var platforms=['win','mac','linux','sunos','solaris','iphone'];var platformTranslations=[['sunos','solaris']];var translate=function(source,translations){for(var i=0;i<translations.length;i++){source=source.replace(translations[i][0],translations[i][1]);}return source;};var ua=nav.userAgent,match,name=uk,layout=uk,layoutversion=uk,platform=uk,version=x;if(match=new RegExp('('+wildUserAgents.join('|')+')').exec(ua)){ua=translate(ua,userAgentTranslations);}ua=ua.toLowerCase();if(match=new RegExp('('+names.join('|')+')').exec(ua)){name=translate(match[1],nameTranslations);}if(match=new RegExp('('+layouts.join('|')+')').exec(ua)){layout=translate(match[1],layoutTranslations);}if(match=new RegExp('('+layoutVersions.join('|')+')\\\/(\\d+)').exec(ua)){layoutversion=parseInt(match[2],10);}if(match=new RegExp('('+platforms.join('|')+')').exec(nav.platform.toLowerCase())){platform=translate(match[1],platformTranslations);}if(match=new RegExp('('+versionPrefixes.join('|')+')'+versionSuffix).exec(ua)){version=match[3];}if(name.match(/safari/)&&version>400){version='2.0';}if(name==='opera'&&version>=9.8){version=ua.match(/version\/([0-9\.]*)/i)[1]||10;}var versionNumber=parseFloat(version,10)||0.0;profileCache[nav.userAgent]={'name':name,'layout':layout,'layoutVersion':layoutversion,'platform':platform,'version':version,'versionBase':(version!==x?Math.floor(versionNumber).toString():x),'versionNumber':versionNumber};}return profileCache[nav.userAgent];},test:function(map,profile){profile=$.isPlainObject(profile)?profile:$.client.profile();var dir=$('body').is('.rtl')?'rtl':'ltr';if(typeof map[dir]!=='object'||typeof map[dir][profile.name]==='undefined'){return true;}var conditions=map[dir][profile.name];for(var i=0;i<conditions.length;i++){var op=conditions[i][0];var val=conditions[i][1];if(val===false){return false;}else if(typeof val=='string'){if(!(eval('profile.version'+op+'"'+val+'"'))){return false;}}else if(typeof val=='number'){if(!(eval('profile.versionNumber'+op+val))){return false;}}}return true;}};})(jQuery);;},{},{});mw.loader.implement("jquery.color",function($){(function(jQuery,undefined){var stepHooks="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",rplusequals=/^([\-+])=\s*(\d+\.?\d*)/,stringParsers=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1],execResult[2],execResult[3],execResult[4]];}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1]*2.55,execResult[2]*2.55,execResult[3]*2.55,execResult[4]];}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(execResult){return[parseInt(execResult[1],16),parseInt(execResult[2],16),parseInt(execResult[3],16)];}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(execResult){return[parseInt(execResult[1]+execResult[1],16),parseInt(execResult[2]+execResult[2],16),parseInt(execResult[3]+execResult[3],16)];}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(execResult){return[execResult[1],execResult[2]/100,execResult[3]/100,execResult[4]];}}],color=jQuery.Color=function(color,green,blue,alpha){return new jQuery.Color.fn.parse(color,green,blue,alpha);},spaces={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},propTypes={"byte":{floor:true,max:255},"percent":{max:1},"degrees":{mod:360,floor:true}},support=color.support={},supportElem=jQuery("<p>")[0],colors,each=jQuery.each;supportElem.style.cssText="background-color:rgba(1,1,1,.5)";support.rgba=supportElem.style.backgroundColor.indexOf("rgba")>-1;each(spaces,function(spaceName,space){space.cache="_"+spaceName;space.props.alpha={idx:3,type:"percent",def:1};});function clamp(value,prop,allowEmpty){var type=propTypes[prop.type]||{};if(value==null){return(allowEmpty||!prop.def)?null:prop.def;}value=type.floor?~~value:parseFloat(value);if(isNaN(value)){return prop.def;}if(type.mod){return(value+type.mod)%type.mod;}return 0>value?0:type.max<value?type.max:value;}function stringParse(string){var inst=color(),rgba=inst._rgba=[];string=string.toLowerCase();each(stringParsers,function(i,parser){var parsed,match=parser.re.exec(string),values=match&&parser.parse(match),spaceName=parser.space||"rgba";if(values){parsed=inst[spaceName](values);inst[spaces[spaceName].cache]=parsed[spaces[spaceName].cache];rgba=inst._rgba=parsed._rgba;return false;}});if(rgba.length){if(rgba.join()==="0,0,0,0"){jQuery.extend(rgba,colors.transparent);}return inst;}return colors[string];}color.fn=jQuery.extend(color.prototype,{parse:function(red,green,blue,alpha){if(red===undefined){this._rgba=[null,null,null,null];return this;}if(red.jquery||red.nodeType){red=jQuery(red).css(green);green=undefined;}var inst=this,type=jQuery.type(red),rgba=this._rgba=[],source;if(green!==undefined){red=[red,green,blue,alpha];type="array";}if(type==="string"){return this.parse(stringParse(red)||colors._default);}if(type==="array"){each(spaces.rgba.props,function(key,prop){rgba[prop.idx]=clamp(red[prop.idx],prop);});return this;}if(type==="object"){if(red instanceof color){each(spaces,function(spaceName,space){if(red[space.cache]){inst[space.cache]=red[space.cache].slice();}});}else{each(spaces,function(spaceName,space){var cache=space.cache;each(space.props,function(key,prop){if(!inst[cache]&&space.to){if(key==="alpha"||red[key]==null){return;}inst[cache]=space.to(inst._rgba);}inst[cache][prop.idx]=clamp(red[key],prop,true);});if(inst[cache]&&jQuery.inArray(null,inst[cache].slice(0,3))<0){inst[cache][3]=1;if(space.from){inst._rgba=space.from(inst[cache]);}}});}return this;}},is:function(compare){var is=color(compare),same=true,inst=this;each(spaces,function(_,space){var localCache,isCache=is[space.cache];if(isCache){localCache=inst[space.cache]||space.to&&space.to(inst._rgba)||[];each(space.props,function(_,prop){if(isCache[prop.idx]!=null){same=(isCache[prop.idx]===localCache[prop.idx]);return same;}});}return same;});return same;},_space:function(){var used=[],inst=this;each(spaces,function(spaceName,space){if(inst[space.cache]){used.push(spaceName);}});return used.pop();},transition:function(other,distance){var end=color(other),spaceName=end._space(),space=spaces[spaceName],startColor=this.alpha()===0?color("transparent"):this,start=startColor[space.cache]||space.to(startColor._rgba),result=start.slice();end=end[space.cache];each(space.props,function(key,prop){var index=prop.idx,startValue=start[index],endValue=end[index],type=propTypes[prop.type]||{};if(endValue===null){return;}if(startValue===null){result[index]=endValue;}else{if(type.mod){if(endValue-startValue>type.mod/2){startValue+=type.mod;}else if(startValue-endValue>type.mod/2){startValue-=type.mod;}}result[index]=clamp((endValue-startValue)*distance+startValue,prop);}});return this[spaceName](result);},blend:function(opaque){if(this._rgba[3]===1){return this;}var rgb=this._rgba.slice(),a=rgb.pop(),blend=color(opaque)._rgba;return color(jQuery.map(rgb,function(v,i){return(1-a)*blend[i]+a*v;}));},toRgbaString:function(){var prefix="rgba(",rgba=jQuery.map(this._rgba,function(v,i){return v==null?(i>2?1:0):v;});if(rgba[3]===1){rgba.pop();prefix="rgb(";}return prefix+rgba.join()+")";},toHslaString:function(){var prefix="hsla(",hsla=jQuery.map(this.hsla(),function(v,i){if(v==null){v=i>2?1:0;}if(i&&i<3){v=Math.round(v*100)+"%";}return v;});if(hsla[3]===1){hsla.pop();prefix="hsl(";}return prefix+hsla.join()+")";},toHexString:function(includeAlpha){var rgba=this._rgba.slice(),alpha=rgba.pop();if(includeAlpha){rgba.push(~~(alpha*255));}return"#"+jQuery.map(rgba,function(v,i){v=(v||0).toString(16);return v.length===1?"0"+v:v;}).join("");},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString();}});color.fn.parse.prototype=color.fn;function hue2rgb(p,q,h){h=(h+1)%1;if(h*6<1){return p+(q-p)*h*6;}if(h*2<1){return q;}if(h*3<2){return p+(q-p)*((2/3)-h)*6;}return p;}spaces.hsla.to=function(rgba){if(rgba[0]==null||rgba[1]==null||rgba[2]==null){return[null,null,null,rgba[3]];}var r=rgba[0]/255,g=rgba[1]/255,b=rgba[2]/255,a=rgba[3],max=Math.max(r,g,b),min=Math.min(r,g,b),diff=max-min,add=max+min,l=add*0.5,h,s;if(min===max){h=0;}else if(r===max){h=(60*(g-b)/diff)+360;}else if(g===max){h=(60*(b-r)/diff)+120;}else{h=(60*(r-g)/diff)+240;}if(l===0||l===1){s=l;}else if(l<=0.5){s=diff/add;}else{s=diff/(2-add);}return[Math.round(h)%360,s,l,a==null?1:a];};spaces.hsla.from=function(hsla){if(hsla[0]==null||hsla[1]==null||hsla[2]==null){return[null,null,null,hsla[3]];}var h=hsla[0]/360,s=hsla[1],l=hsla[2],a=hsla[3],q=l<=0.5?l*(1+s):l+s-l*s,p=2*l-q,r,g,b;return[Math.round(hue2rgb(p,q,h+(1/3))*255),Math.round(hue2rgb(p,q,h)*255),Math.round(hue2rgb(p,q,h-(1/3))*255),a];};each(spaces,function(spaceName,space){var props=space.props,cache=space.cache,to=space.to,from=space.from;color.fn[spaceName]=function(value){if(to&&!this[cache]){this[cache]=to(this._rgba);}if(value===undefined){return this[cache].slice();}var ret,type=jQuery.type(value),arr=(type==="array"||type==="object")?value:arguments,local=this[cache].slice();each(props,function(key,prop){var val=arr[type==="object"?key:prop.idx];if(val==null){val=local[prop.idx];}local[prop.idx]=clamp(val,prop);});if(from){ret=color(from(local));ret[cache]=local;return ret;}else{return color(local);}};each(props,function(key,prop){if(color.fn[key]){return;}color.fn[key]=function(value){var vtype=jQuery.type(value),fn=(key==="alpha"?(this._hsla?"hsla":"rgba"):spaceName),local=this[fn](),cur=local[prop.idx],match;if(vtype==="undefined"){return cur;}if(vtype==="function"){value=value.call(this,cur);vtype=jQuery.type(value);}if(value==null&&prop.empty){return this;}if(vtype==="string"){match=rplusequals.exec(value);if(match){value=cur+parseFloat(match[2])*(match[1]==="+"?1:-1);}}local[prop.idx]=value;return this[fn](local);};});});color.hook=function(hook){var hooks=hook.split(" ");each(hooks,function(i,hook){jQuery.cssHooks[hook]={set:function(elem,value){var parsed,curElem,backgroundColor="";if(jQuery.type(value)!=="string"||(parsed=stringParse(value))){value=color(parsed||value);if(!support.rgba&&value._rgba[3]!==1){curElem=hook==="backgroundColor"?elem.parentNode:elem;while((backgroundColor===""||backgroundColor==="transparent")&&curElem&&curElem.style){try{backgroundColor=jQuery.css(curElem,"backgroundColor");curElem=curElem.parentNode;}catch(e){}}value=value.blend(backgroundColor&&backgroundColor!=="transparent"?backgroundColor:"_default");}value=value.toRgbaString();}try{elem.style[hook]=value;}catch(value){}}};jQuery.fx.step[hook]=function(fx){if(!fx.colorInit){fx.start=color(fx.elem,hook);fx.end=color(fx.end);fx.colorInit=true;}jQuery.cssHooks[hook].set(fx.elem,fx.start.transition(fx.end,fx.pos));};});};color.hook(stepHooks);jQuery.cssHooks.borderColor={expand:function(value){var expanded={};each(["Top","Right","Bottom","Left"],function(i,part){expanded["border"+part+"Color"]=value;});return expanded;}};colors=jQuery.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};})(jQuery);;},{},{});mw.loader.implement("jquery.cookie",function($){jQuery.cookie=function(name,value,options){if(typeof value!='undefined'){options=options||{};if(value===null){value='';options.expires=-1;}var expires='';if(options.expires&&(typeof options.expires=='number'||options.expires.toUTCString)){var date;if(typeof options.expires=='number'){date=new Date();date.setTime(date.getTime()+(options.expires*24*60*60*1000));}else{date=options.expires;}expires='; expires='+date.toUTCString();}var path=options.path?'; path='+(options.path):'';var domain=options.domain?'; domain='+(options.domain):'';var secure=options.secure?'; secure':'';document.cookie=[name,'=',encodeURIComponent(value),expires,path,domain,secure].join('');}else{var cookieValue=null;if(document.cookie&&document.cookie!=''){var cookies=document.cookie.split(';');for(var i=0;i<cookies.length;i++){var cookie=jQuery.trim(cookies[i]);if(cookie.substring(0,name.length+1)==(name+'=')){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break;}}}return cookieValue;}};;},{},{});mw.loader.implement("jquery.debouncedresize",function($){(function($){var $event=$.event,$special,resizeTimeout;$special=$event.special.debouncedresize={setup:function(){$(this).on("resize",$special.handler);},teardown:function(){$(this).off("resize",$special.handler);},handler:function(event,execAsap){var context=this,args=arguments,dispatch=function(){event.type="debouncedresize";$event.dispatch.apply(context,args);};if(resizeTimeout){clearTimeout(resizeTimeout);}execAsap?dispatch():resizeTimeout=setTimeout(dispatch,$special.threshold);},threshold:150};})(jQuery);;},{},{});mw.loader.implement("jquery.hoverIntent",function($){(function($){$.fn.hoverIntent=function(f,g){var cfg={sensitivity:7,interval:100,timeout:0};cfg=$.extend(cfg,g?{over:f,out:g}:f);var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY;};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if((Math.abs(pX-cX)+Math.abs(pY-cY))<cfg.sensitivity){$(ob).unbind("mousemove",track);ob.hoverIntent_s=1;return cfg.over.apply(ob,[ev]);}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=0;return cfg.out.apply(ob,[ev]);};var handleHover=function(e){var p=(e.type=="mouseover"?e.fromElement:e.toElement)||e.relatedTarget;while(p&&p!=this){try{p=p.parentNode;}catch(e){p=this;}}if(p==this){return false;}var ev=$.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);}if(e.type=="mouseover"){pX=ev.pageX;pY=ev.pageY;$(ob).bind("mousemove",track);if(ob.hoverIntent_s!=1){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}}else{$(ob).unbind("mousemove",track);if(ob.hoverIntent_s==1){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob);},cfg.timeout);}}};return this.mouseover(handleHover).mouseout(handleHover);};})(jQuery);;},{},{});mw.loader.implement("jquery.messageBox",function($){(function($){$.messageBoxNew=function(options){options=$.extend({id:'js-messagebox',parent:'body',insert:'prepend'},options);var $curBox=$('#'+options.id);if($curBox.length>0){if($curBox.hasClass('js-messagebox')){return $curBox;}else{return $curBox.addClass('js-messagebox');}}else{var $newBox=$('<div>',{'id':options.id,'class':'js-messagebox','css':{'display':'none'}});if($(options.parent).length<1){options.parent='body';}if(options.insert==='append'){$newBox.appendTo(options.parent);return $newBox;}else{$newBox.prependTo(options.parent);return $newBox;}}};$.messageBox=function(options){options=$.extend({message:'',group:'default',replace:false,target:'js-messagebox'},options);var $target=$.messageBoxNew({id:options.target});var groupID=options.target+'-'+options.group;var $group=$('#'+groupID);if($group.length<1){$group=$('<div>',{'id':groupID,'class':'js-messagebox-group'});$target.prepend($group);}if(options.replace===true){$group.empty();}if(options.message===''||options.message===null){$group.hide();}else{$group.prepend($('<p>').append(options.message)).show();$target.slideDown();}if($target.find('> *:visible').length===0){$group.show();$target.slideUp();$group.hide();}else{$target.slideDown();}return $group;};}(jQuery));;},{"all":".js-messagebox{margin:1em 5%;padding:0.5em 2.5%;border:1px solid #ccc;background-color:#fcfcfc;font-size:0.8em}.js-messagebox .js-messagebox-group{margin:1px;padding:0.5em 2.5%;border-bottom:1px solid #ddd}.js-messagebox .js-messagebox-group:last-child{border-bottom:thin none transparent}\n\n/* cache key: resourceloader:filter:minify-css:7:2bb917065f5e11cbbe44ba45500bbed5 */\n"},{});mw.loader.implement("jquery.mwEmbedUtil",function($){(function($){var _oldUnique=$.unique;$.unique=function(arr){if(arr.length&&!!arr[0].nodeType){return _oldUnique.apply(this,arguments);}else{return $.grep(arr,function(v,k){return $.inArray(v,arr)===k;});}};$.btnHtml=function(msg,styleClass,iconId,opt){if(!opt)opt={};var href=(opt.href)?opt.href:'#';var target_attr=(opt.target)?' target="'+opt.target+'" ':'';var style_attr=(opt.style)?' style="'+opt.style+'" ':'';return'<a href="'+href+'" '+target_attr+style_attr+' class="ui-state-default ui-corner-all ui-icon_link '+styleClass+'"><span class="ui-icon ui-icon-'+iconId+'" ></span>'+'<span class="btnText">'+msg+'</span></a>';};var mw_default_button_options={'class':'','style':{},'text':'','icon':'carat-1-n'};$.button=function(options){var options=$j.extend({},mw_default_button_options,options);var $button=$('<a />').attr('href','#').addClass('ui-state-default ui-corner-all ui-icon_link');if(options.css){$button.css(options.css);}if(options['class']){$button.addClass(options['class']);}$button.append($('<span />').addClass('ui-icon ui-icon-'+options.icon),$('<span />').addClass('btnText').text(options.text)).buttonHover();if(!options.text){$button.css('padding','1em');}return $button;};$.fn.buttonHover=function(){$(this).hover(function(){$(this).addClass('ui-state-hover');},function(){$(this).removeClass('ui-state-hover');});return this;};})(jQuery);;},{},{});mw.loader.implement("jquery.mwExtension",function($){(function($){$.extend({trimLeft:function(str){return str===null?'':str.toString().replace(/^\s+/,'');},trimRight:function(str){return str===null?'':str.toString().replace(/\s+$/,'');},ucFirst:function(str){return str.charAt(0).toUpperCase()+str.substr(1);},escapeRE:function(str){return str.replace(/([\\{}()|.?*+\-^$\[\]])/g,"\\$1");},isDomElement:function(el){return!!el&&!!el.nodeType;},isEmpty:function(v){if(v===''||v===0||v==='0'||v===null||v===false||v===undefined){return true;}if(v.length===0){return true;}if(typeof v==='object'){for(var key in v){return false;}return true;}return false;},compareArray:function(arrThis,arrAgainst){if(arrThis.length!=arrAgainst.length){return false;}for(var i=0;i<arrThis.length;i++){if($.isArray(arrThis[i])){if(!$.compareArray(arrThis[i],arrAgainst[i])){return false;}}else if(arrThis[i]!==arrAgainst[i]){return false;}}return true;},compareObject:function(objectA,objectB){if(typeof objectA==typeof objectB){if(typeof objectA=='object'){if(objectA===objectB){return true;}else{var prop;for(prop in objectA){if(prop in objectB){var type=typeof objectA[prop];if(type==typeof objectB[prop]){switch(type){case'object':if(!$.compareObject(objectA[prop],objectB[prop])){return false;}break;case'function':if(objectA[prop].toString()!==objectB[prop].toString()){return false;}break;default:if(objectA[prop]!==objectB[prop]){return false;}break;}}else{return false;}}else{return false;}}for(prop in objectB){if(!(prop in objectA)){return false;}}}}}else{return false;}return true;}});})(jQuery);;},{},{});mw.loader.implement("jquery.naturalSize",function($){(function($){var props=['Width','Height'],prop;while(prop=props.pop()){(function(natural,prop){$.fn[natural]=(natural in new Image())?function(){return this[0][natural];}:function(){var node=this[0],img,value;if(node.tagName.toLowerCase()==='img'){img=new Image();img.src=node.src,value=img[prop];}return value;};}('natural'+prop,prop.toLowerCase()));}}(jQuery));;},{},{});mw.loader.implement("jquery.ui.core",function($){(function($,undefined){var uuid=0,runiqueId=/^ui-id-\d+$/;$.ui=$.ui||{};$.extend($.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});$.fn.extend({focus:(function(orig){return function(delay,fn){return typeof delay==="number"?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus();if(fn){fn.call(elem);}},delay);}):orig.apply(this,arguments);};})($.fn.focus),scrollParent:function(){var scrollParent;if(($.ui.ie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){scrollParent=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test($.css(this,"position"))&&(/(auto|scroll)/).test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"));}).eq(0);}else{scrollParent=this.parents().filter(function(){return(/(auto|scroll)/).test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"));}).eq(0);}return(/fixed/).test(this.css("position"))||!scrollParent.length?$(document):scrollParent;},zIndex:function(zIndex){if(zIndex!==undefined){return this.css("zIndex",zIndex);}if(this.length){var elem=$(this[0]),position,value;while(elem.length&&elem[0]!==document){position=elem.css("position");if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&value!==0){return value;}}elem=elem.parent();}}return 0;},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++uuid);}});},removeUniqueId:function(){return this.each(function(){if(runiqueId.test(this.id)){$(this).removeAttr("id");}});}});function focusable(element,isTabIndexNotNaN){var map,mapName,img,nodeName=element.nodeName.toLowerCase();if("area"===nodeName){map=element.parentNode;mapName=map.name;if(!element.href||!mapName||map.nodeName.toLowerCase()!=="map"){return false;}img=$("img[usemap=#"+mapName+"]")[0];return!!img&&visible(img);}return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element);}function visible(element){return $.expr.filters.visible(element)&&!$(element).parents().addBack().filter(function(){return $.css(this,"visibility")==="hidden";}).length;}$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName);};}):function(elem,i,match){return!!$.data(elem,match[3]);},focusable:function(element){return focusable(element,!isNaN($.attr(element,"tabindex")));},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN);}});if(!$("<a>").outerWidth(1).jquery){$.each(["Width","Height"],function(i,name){var side=name==="Width"?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};function reduce(elem,size,border,margin){$.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||0;if(border){size-=parseFloat($.css(elem,"border"+this+"Width"))||0;}if(margin){size-=parseFloat($.css(elem,"margin"+this))||0;}});return size;}$.fn["inner"+name]=function(size){if(size===undefined){return orig["inner"+name].call(this);}return this.each(function(){$(this).css(type,reduce(this,size)+"px");});};$.fn["outer"+name]=function(size,margin){if(typeof size!=="number"){return orig["outer"+name].call(this,size);}return this.each(function(){$(this).css(type,reduce(this,size,true,margin)+"px");});};});}if(!$.fn.addBack){$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));};}if($("<a>").data("a-b","a").removeData("a-b").data("a-b")){$.fn.removeData=(function(removeData){return function(key){if(arguments.length){return removeData.call(this,$.camelCase(key));}else{return removeData.call(this);}};})($.fn.removeData);}$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());$.support.selectstart="onselectstart"in document.createElement("div");$.fn.extend({disableSelection:function(){return this.bind(($.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(event){event.preventDefault();});},enableSelection:function(){return this.unbind(".ui-disableSelection");}});$.extend($.ui,{plugin:{add:function(module,option,set){var i,proto=$.ui[module].prototype;for(i in set){proto.plugins[i]=proto.plugins[i]||[];proto.plugins[i].push([option,set[i]]);}},call:function(instance,name,args){var i,set=instance.plugins[name];if(!set||!instance.element[0].parentNode||instance.element[0].parentNode.nodeType===11){return;}for(i=0;i<set.length;i++){if(instance.options[set[i][0]]){set[i][1].apply(instance.element,args);}}}},hasScroll:function(el,a){if($(el).css("overflow")==="hidden"){return false;}var scroll=(a&&a==="left")?"scrollLeft":"scrollTop",has=false;if(el[scroll]>0){return true;}el[scroll]=1;has=(el[scroll]>0);el[scroll]=0;return has;}});})(jQuery);;},{"all":".ui-helper-hidden{display:none}.ui-helper-hidden-accessible{position:absolute;left:-99999999px}.ui-helper-reset{margin:0;padding:0;border:0;outline:0;line-height:1.3;text-decoration:none;font-size:100%;list-style:none}.ui-helper-clearfix:after{content:\".\";display:block;height:0;clear:both;visibility:hidden}.ui-helper-clearfix{display:inline-block} * html .ui-helper-clearfix{height:1%}.ui-helper-clearfix{display:block} .ui-helper-zfix{width:100%;height:100%;top:0;left:0;position:absolute;opacity:0;filter:Alpha(Opacity=0)} .ui-state-disabled{cursor:default !important}  .ui-icon{display:block;text-indent:-99999px;overflow:hidden;background-repeat:no-repeat}  .ui-widget-overlay{position:absolute;top:0;left:0;width:100%;height:100%}\n\n/* cache key: resourceloader:filter:minify-css:7:b80b11161e9a8e2d415a43fd6f09d170 */\n"},{});mw.loader.implement("jquery.ui.mouse",function($){(function($,undefined){var mouseHandled=false;$(document).mouseup(function(){mouseHandled=false;});$.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var that=this;this.element.bind("mousedown."+this.widgetName,function(event){return that._mouseDown(event);}).bind("click."+this.widgetName,function(event){if(true===$.data(event.target,that.widgetName+".preventClickEvent")){$.removeData(event.target,that.widgetName+".preventClickEvent");event.stopImmediatePropagation();return false;}});this.started=false;},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){$(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);}},_mouseDown:function(event){if(mouseHandled){return;}(this._mouseStarted&&this._mouseUp(event));this._mouseDownEvent=event;var that=this,btnIsLeft=(event.which===1),elIsCancel=(typeof this.options.cancel==="string"&&event.target.nodeName?$(event.target).closest(this.options.cancel).length:false);if(!btnIsLeft||elIsCancel||!this._mouseCapture(event)){return true;}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){that.mouseDelayMet=true;},this.options.delay);}if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(event)!==false);if(!this._mouseStarted){event.preventDefault();return true;}}if(true===$.data(event.target,this.widgetName+".preventClickEvent")){$.removeData(event.target,this.widgetName+".preventClickEvent");}this._mouseMoveDelegate=function(event){return that._mouseMove(event);};this._mouseUpDelegate=function(event){return that._mouseUp(event);};$(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);event.preventDefault();mouseHandled=true;return true;},_mouseMove:function(event){if($.ui.ie&&(!document.documentMode||document.documentMode<9)&&!event.button){return this._mouseUp(event);}if(this._mouseStarted){this._mouseDrag(event);return event.preventDefault();}if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,event)!==false);(this._mouseStarted?this._mouseDrag(event):this._mouseUp(event));}return!this._mouseStarted;},_mouseUp:function(event){$(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(event.target===this._mouseDownEvent.target){$.data(event.target,this.widgetName+".preventClickEvent",true);}this._mouseStop(event);}return false;},_mouseDistanceMet:function(event){return(Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance);},_mouseDelayMet:function(){return this.mouseDelayMet;},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true;}});})(jQuery);;},{},{});mw.loader.implement("jquery.ui.position",function($){(function($,undefined){$.ui=$.ui||{};var cachedScrollbarWidth,max=Math.max,abs=Math.abs,round=Math.round,rhorizontal=/left|center|right/,rvertical=/top|center|bottom/,roffset=/[\+\-]\d+(\.[\d]+)?%?/,rposition=/^\w+/,rpercent=/%$/,_position=$.fn.position;function getOffsets(offsets,width,height){return[parseFloat(offsets[0])*(rpercent.test(offsets[0])?width/100:1),parseFloat(offsets[1])*(rpercent.test(offsets[1])?height/100:1)];}function parseCss(element,property){return parseInt($.css(element,property),10)||0;}function getDimensions(elem){var raw=elem[0];if(raw.nodeType===9){return{width:elem.width(),height:elem.height(),offset:{top:0,left:0}};}if($.isWindow(raw)){return{width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}};}if(raw.preventDefault){return{width:0,height:0,offset:{top:raw.pageY,left:raw.pageX}};}return{width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()};}$.position={scrollbarWidth:function(){if(cachedScrollbarWidth!==undefined){return cachedScrollbarWidth;}var w1,w2,div=$("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),innerDiv=div.children()[0];$("body").append(div);w1=innerDiv.offsetWidth;div.css("overflow","scroll");w2=innerDiv.offsetWidth;if(w1===w2){w2=div[0].clientWidth;}div.remove();return(cachedScrollbarWidth=w1-w2);},getScrollInfo:function(within){var overflowX=within.isWindow||within.isDocument?"":within.element.css("overflow-x"),overflowY=within.isWindow||within.isDocument?"":within.element.css("overflow-y"),hasOverflowX=overflowX==="scroll"||(overflowX==="auto"&&within.width<within.element[0].scrollWidth),hasOverflowY=overflowY==="scroll"||(overflowY==="auto"&&within.height<within.element[0].scrollHeight);return{width:hasOverflowY?$.position.scrollbarWidth():0,height:hasOverflowX?$.position.scrollbarWidth():0};},getWithinInfo:function(element){var withinElement=$(element||window),isWindow=$.isWindow(withinElement[0]),isDocument=!!withinElement[0]&&withinElement[0].nodeType===9;return{element:withinElement,isWindow:isWindow,isDocument:isDocument,offset:withinElement.offset()||{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:isWindow?withinElement.width():withinElement.outerWidth(),height:isWindow?withinElement.height():withinElement.outerHeight()};}};$.fn.position=function(options){if(!options||!options.of){return _position.apply(this,arguments);}options=$.extend({},options);var atOffset,targetWidth,targetHeight,targetOffset,basePosition,dimensions,target=$(options.of),within=$.position.getWithinInfo(options.within),scrollInfo=$.position.getScrollInfo(within),collision=(options.collision||"flip").split(" "),offsets={};dimensions=getDimensions(target);if(target[0].preventDefault){options.at="left top";}targetWidth=dimensions.width;targetHeight=dimensions.height;targetOffset=dimensions.offset;basePosition=$.extend({},targetOffset);$.each(["my","at"],function(){var pos=(options[this]||"").split(" "),horizontalOffset,verticalOffset;if(pos.length===1){pos=rhorizontal.test(pos[0])?pos.concat(["center"]):rvertical.test(pos[0])?["center"].concat(pos):["center","center"];}pos[0]=rhorizontal.test(pos[0])?pos[0]:"center";pos[1]=rvertical.test(pos[1])?pos[1]:"center";horizontalOffset=roffset.exec(pos[0]);verticalOffset=roffset.exec(pos[1]);offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0];options[this]=[rposition.exec(pos[0])[0],rposition.exec(pos[1])[0]];});if(collision.length===1){collision[1]=collision[0];}if(options.at[0]==="right"){basePosition.left+=targetWidth;}else if(options.at[0]==="center"){basePosition.left+=targetWidth/2;}if(options.at[1]==="bottom"){basePosition.top+=targetHeight;}else if(options.at[1]==="center"){basePosition.top+=targetHeight/2;}atOffset=getOffsets(offsets.at,targetWidth,targetHeight);basePosition.left+=atOffset[0];basePosition.top+=atOffset[1];return this.each(function(){var collisionPosition,using,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseCss(this,"marginLeft"),marginTop=parseCss(this,"marginTop"),collisionWidth=elemWidth+marginLeft+parseCss(this,"marginRight")+scrollInfo.width,collisionHeight=elemHeight+marginTop+parseCss(this,"marginBottom")+scrollInfo.height,position=$.extend({},basePosition),myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());if(options.my[0]==="right"){position.left-=elemWidth;}else if(options.my[0]==="center"){position.left-=elemWidth/2;}if(options.my[1]==="bottom"){position.top-=elemHeight;}else if(options.my[1]==="center"){position.top-=elemHeight/2;}position.left+=myOffset[0];position.top+=myOffset[1];if(!$.support.offsetFractions){position.left=round(position.left);position.top=round(position.top);}collisionPosition={marginLeft:marginLeft,marginTop:marginTop};$.each(["left","top"],function(i,dir){if($.ui.position[collision[i]]){$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within:within,elem:elem});}});if(options.using){using=function(props){var left=targetOffset.left-position.left,right=left+targetWidth-elemWidth,top=targetOffset.top-position.top,bottom=top+targetHeight-elemHeight,feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:right<0?"left":left>0?"right":"center",vertical:bottom<0?"top":top>0?"bottom":"middle"};if(targetWidth<elemWidth&&abs(left+right)<targetWidth){feedback.horizontal="center";}if(targetHeight<elemHeight&&abs(top+bottom)<targetHeight){feedback.vertical="middle";}if(max(abs(left),abs(right))>max(abs(top),abs(bottom))){feedback.important="horizontal";}else{feedback.important="vertical";}options.using.call(this,props,feedback);};}elem.offset($.extend(position,{using:using}));});};$.ui.position={fit:{left:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollLeft:within.offset.left,outerWidth=within.width,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=withinOffset-collisionPosLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset,newOverRight;if(data.collisionWidth>outerWidth){if(overLeft>0&&overRight<=0){newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-withinOffset;position.left+=overLeft-newOverRight;}else if(overRight>0&&overLeft<=0){position.left=withinOffset;}else{if(overLeft>overRight){position.left=withinOffset+outerWidth-data.collisionWidth;}else{position.left=withinOffset;}}}else if(overLeft>0){position.left+=overLeft;}else if(overRight>0){position.left-=overRight;}else{position.left=max(position.left-collisionPosLeft,position.left);}},top:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollTop:within.offset.top,outerHeight=data.within.height,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=withinOffset-collisionPosTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-withinOffset,newOverBottom;if(data.collisionHeight>outerHeight){if(overTop>0&&overBottom<=0){newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-withinOffset;position.top+=overTop-newOverBottom;}else if(overBottom>0&&overTop<=0){position.top=withinOffset;}else{if(overTop>overBottom){position.top=withinOffset+outerHeight-data.collisionHeight;}else{position.top=withinOffset;}}}else if(overTop>0){position.top+=overTop;}else if(overBottom>0){position.top-=overBottom;}else{position.top=max(position.top-collisionPosTop,position.top);}}},flip:{left:function(position,data){var within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,offsetLeft=within.isWindow?within.scrollLeft:within.offset.left,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-offsetLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft,myOffset=data.my[0]==="left"?-data.elemWidth:data.my[0]==="right"?data.elemWidth:0,atOffset=data.at[0]==="left"?data.targetWidth:data.at[0]==="right"?-data.targetWidth:0,offset=-2*data.offset[0],newOverRight,newOverLeft;if(overLeft<0){newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-outerWidth-withinOffset;if(newOverRight<0||newOverRight<abs(overLeft)){position.left+=myOffset+atOffset+offset;}}else if(overRight>0){newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+atOffset+offset-offsetLeft;if(newOverLeft>0||abs(newOverLeft)<overRight){position.left+=myOffset+atOffset+offset;}}},top:function(position,data){var within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,offsetTop=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=collisionPosTop-offsetTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop,top=data.my[1]==="top",myOffset=top?-data.elemHeight:data.my[1]==="bottom"?data.elemHeight:0,atOffset=data.at[1]==="top"?data.targetHeight:data.at[1]==="bottom"?-data.targetHeight:0,offset=-2*data.offset[1],newOverTop,newOverBottom;if(overTop<0){newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-outerHeight-withinOffset;if((position.top+myOffset+atOffset+offset)>overTop&&(newOverBottom<0||newOverBottom<abs(overTop))){position.top+=myOffset+atOffset+offset;}}else if(overBottom>0){newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+offset-offsetTop;if((position.top+myOffset+atOffset+offset)>overBottom&&(newOverTop>0||abs(newOverTop)<overBottom)){position.top+=myOffset+atOffset+offset;}}}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments);$.ui.position.fit.left.apply(this,arguments);},top:function(){$.ui.position.flip.top.apply(this,arguments);$.ui.position.fit.top.apply(this,arguments);}}};(function(){var testElement,testElementParent,testElementStyle,offsetLeft,i,body=document.getElementsByTagName("body")[0],div=document.createElement("div");testElement=document.createElement(body?"div":"body");testElementStyle={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(body){$.extend(testElementStyle,{position:"absolute",left:"-1000px",top:"-1000px"});}for(i in testElementStyle){testElement.style[i]=testElementStyle[i];}testElement.appendChild(div);testElementParent=body||document.documentElement;testElementParent.insertBefore(testElement,testElementParent.firstChild);div.style.cssText="position: absolute; left: 10.7432222px;";offsetLeft=$(div).offset().left;$.support.offsetFractions=offsetLeft>10&&offsetLeft<11;testElement.innerHTML="";testElementParent.removeChild(testElement);})();}(jQuery));;},{},{});mw.loader.implement("jquery.ui.slider",function($){(function($,undefined){var numPages=5;$.widget("ui.slider",$.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider"+" ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=false;},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue();},_createHandles:function(){var i,handleCount,options=this.options,existingHandles=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),handle="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",handles=[];handleCount=(options.values&&options.values.length)||1;if(existingHandles.length>handleCount){existingHandles.slice(handleCount).remove();existingHandles=existingHandles.slice(0,handleCount);}for(i=existingHandles.length;i<handleCount;i++){handles.push(handle);}this.handles=existingHandles.add($(handles.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(i){$(this).data("ui-slider-handle-index",i);});},_createRange:function(){var options=this.options,classes="";if(options.range){if(options.range===true){if(!options.values){options.values=[this._valueMin(),this._valueMin()];}else if(options.values.length&&options.values.length!==2){options.values=[options.values[0],options.values[0]];}else if($.isArray(options.values)){options.values=options.values.slice(0);}}if(!this.range||!this.range.length){this.range=$("<div></div>").appendTo(this.element);classes="ui-slider-range"+" ui-widget-header ui-corner-all";}else{this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({"left":"","bottom":""});}this.range.addClass(classes+((options.range==="min"||options.range==="max")?" ui-slider-range-"+options.range:""));}else{this.range=$([]);}},_setupEvents:function(){var elements=this.handles.add(this.range).filter("a");this._off(elements);this._on(elements,this._handleEvents);this._hoverable(elements);this._focusable(elements);},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider"+" ui-slider-horizontal"+" ui-slider-vertical"+" ui-widget"+" ui-widget-content"+" ui-corner-all");this._mouseDestroy();},_mouseCapture:function(event){var position,normValue,distance,closestHandle,index,allowed,offset,mouseOverHandle,that=this,o=this.options;if(o.disabled){return false;}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();position={x:event.pageX,y:event.pageY};normValue=this._normValueFromMouse(position);distance=this._valueMax()-this._valueMin()+1;this.handles.each(function(i){var thisDistance=Math.abs(normValue-that.values(i));if((distance>thisDistance)||(distance===thisDistance&&(i===that._lastChangedValue||that.values(i)===o.min))){distance=thisDistance;closestHandle=$(this);index=i;}});allowed=this._start(event,index);if(allowed===false){return false;}this._mouseSliding=true;this._handleIndex=index;closestHandle.addClass("ui-state-active").focus();offset=closestHandle.offset();mouseOverHandle=!$(event.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=mouseOverHandle?{left:0,top:0}:{left:event.pageX-offset.left-(closestHandle.width()/2),top:event.pageY-offset.top-(closestHandle.height()/2)-(parseInt(closestHandle.css("borderTopWidth"),10)||0)-(parseInt(closestHandle.css("borderBottomWidth"),10)||0)+(parseInt(closestHandle.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(event,index,normValue);}this._animateOff=true;return true;},_mouseStart:function(){return true;},_mouseDrag:function(event){var position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position);this._slide(event,this._handleIndex,normValue);return false;},_mouseStop:function(event){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(event,this._handleIndex);this._change(event,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false;},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal";},_normValueFromMouse:function(position){var pixelTotal,pixelMouse,percentMouse,valueTotal,valueMouse;if(this.orientation==="horizontal"){pixelTotal=this.elementSize.width;pixelMouse=position.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0);}else{pixelTotal=this.elementSize.height;pixelMouse=position.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0);}percentMouse=(pixelMouse/pixelTotal);if(percentMouse>1){percentMouse=1;}if(percentMouse<0){percentMouse=0;}if(this.orientation==="vertical"){percentMouse=1-percentMouse;}valueTotal=this._valueMax()-this._valueMin();valueMouse=this._valueMin()+percentMouse*valueTotal;return this._trimAlignValue(valueMouse);},_start:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values();}return this._trigger("start",event,uiHash);},_slide:function(event,index,newVal){var otherVal,newValues,allowed;if(this.options.values&&this.options.values.length){otherVal=this.values(index?0:1);if((this.options.values.length===2&&this.options.range===true)&&((index===0&&newVal>otherVal)||(index===1&&newVal<otherVal))){newVal=otherVal;}if(newVal!==this.values(index)){newValues=this.values();newValues[index]=newVal;allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal,values:newValues});otherVal=this.values(index?0:1);if(allowed!==false){this.values(index,newVal,true);}}}else{if(newVal!==this.value()){allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal});if(allowed!==false){this.value(newVal);}}}},_stop:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values();}this._trigger("stop",event,uiHash);},_change:function(event,index){if(!this._keySliding&&!this._mouseSliding){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values();}this._lastChangedValue=index;this._trigger("change",event,uiHash);}},value:function(newValue){if(arguments.length){this.options.value=this._trimAlignValue(newValue);this._refreshValue();this._change(null,0);return;}return this._value();},values:function(index,newValue){var vals,newValues,i;if(arguments.length>1){this.options.values[index]=this._trimAlignValue(newValue);this._refreshValue();this._change(null,index);return;}if(arguments.length){if($.isArray(arguments[0])){vals=this.options.values;newValues=arguments[0];for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(newValues[i]);this._change(null,i);}this._refreshValue();}else{if(this.options.values&&this.options.values.length){return this._values(index);}else{return this.value();}}}else{return this._values();}},_setOption:function(key,value){var i,valsLength=0;if(key==="range"&&this.options.range===true){if(value==="min"){this.options.value=this._values(0);this.options.values=null;}else if(value==="max"){this.options.value=this._values(this.options.values.length-1);this.options.values=null;}}if($.isArray(this.options.values)){valsLength=this.options.values.length;}$.Widget.prototype._setOption.apply(this,arguments);switch(key){case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(i=0;i<valsLength;i+=1){this._change(null,i);}this._animateOff=false;break;case"min":case"max":this._animateOff=true;this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break;}},_value:function(){var val=this.options.value;val=this._trimAlignValue(val);return val;},_values:function(index){var val,vals,i;if(arguments.length){val=this.options.values[index];val=this._trimAlignValue(val);return val;}else if(this.options.values&&this.options.values.length){vals=this.options.values.slice();for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(vals[i]);}return vals;}else{return[];}},_trimAlignValue:function(val){if(val<=this._valueMin()){return this._valueMin();}if(val>=this._valueMax()){return this._valueMax();}var step=(this.options.step>0)?this.options.step:1,valModStep=(val-this._valueMin())%step,alignValue=val-valModStep;if(Math.abs(valModStep)*2>=step){alignValue+=(valModStep>0)?step:(-step);}return parseFloat(alignValue.toFixed(5));},_valueMin:function(){return this.options.min;},_valueMax:function(){return this.options.max;},_refreshValue:function(){var lastValPercent,valPercent,value,valueMin,valueMax,oRange=this.options.range,o=this.options,that=this,animate=(!this._animateOff)?o.animate:false,_set={};if(this.options.values&&this.options.values.length){this.handles.each(function(i){valPercent=(that.values(i)-that._valueMin())/(that._valueMax()-that._valueMin())*100;_set[that.orientation==="horizontal"?"left":"bottom"]=valPercent+"%";$(this).stop(1,1)[animate?"animate":"css"](_set,o.animate);if(that.options.range===true){if(that.orientation==="horizontal"){if(i===0){that.range.stop(1,1)[animate?"animate":"css"]({left:valPercent+"%"},o.animate);}if(i===1){that.range[animate?"animate":"css"]({width:(valPercent-lastValPercent)+"%"},{queue:false,duration:o.animate});}}else{if(i===0){that.range.stop(1,1)[animate?"animate":"css"]({bottom:(valPercent)+"%"},o.animate);}if(i===1){that.range[animate?"animate":"css"]({height:(valPercent-lastValPercent)+"%"},{queue:false,duration:o.animate});}}}lastValPercent=valPercent;});}else{value=this.value();valueMin=this._valueMin();valueMax=this._valueMax();valPercent=(valueMax!==valueMin)?(value-valueMin)/(valueMax-valueMin)*100:0;_set[this.orientation==="horizontal"?"left":"bottom"]=valPercent+"%";this.handle.stop(1,1)[animate?"animate":"css"](_set,o.animate);if(oRange==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[animate?"animate":"css"]({width:valPercent+"%"},o.animate);}if(oRange==="max"&&this.orientation==="horizontal"){this.range[animate?"animate":"css"]({width:(100-valPercent)+"%"},{queue:false,duration:o.animate});}if(oRange==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[animate?"animate":"css"]({height:valPercent+"%"},o.animate);}if(oRange==="max"&&this.orientation==="vertical"){this.range[animate?"animate":"css"]({height:(100-valPercent)+"%"},{queue:false,duration:o.animate});}}},_handleEvents:{keydown:function(event){var allowed,curVal,newVal,step,index=$(event.target).data("ui-slider-handle-index");switch(event.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:event.preventDefault();if(!this._keySliding){this._keySliding=true;$(event.target).addClass("ui-state-active");allowed=this._start(event,index);if(allowed===false){return;}}break;}step=this.options.step;if(this.options.values&&this.options.values.length){curVal=newVal=this.values(index);}else{curVal=newVal=this.value();}switch(event.keyCode){case $.ui.keyCode.HOME:newVal=this._valueMin();break;case $.ui.keyCode.END:newVal=this._valueMax();break;case $.ui.keyCode.PAGE_UP:newVal=this._trimAlignValue(curVal+((this._valueMax()-this._valueMin())/numPages));break;case $.ui.keyCode.PAGE_DOWN:newVal=this._trimAlignValue(curVal-((this._valueMax()-this._valueMin())/numPages));break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(curVal===this._valueMax()){return;}newVal=this._trimAlignValue(curVal+step);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(curVal===this._valueMin()){return;}newVal=this._trimAlignValue(curVal-step);break;}this._slide(event,index,newVal);},click:function(event){event.preventDefault();},keyup:function(event){var index=$(event.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(event,index);this._change(event,index);$(event.target).removeClass("ui-state-active");}}}});}(jQuery));;},{"all":".ui-slider{position:relative;text-align:left}.ui-slider .ui-slider-handle{position:absolute;z-index:2;width:1.2em;height:1.2em;cursor:default}.ui-slider .ui-slider-range{position:absolute;z-index:1;font-size:.7em;display:block;border:0;background-position:0 0} .ui-slider.ui-state-disabled .ui-slider-handle,.ui-slider.ui-state-disabled .ui-slider-range{filter:inherit}.ui-slider-horizontal{height:.8em}.ui-slider-horizontal .ui-slider-handle{top:-.3em;margin-left:-.6em}.ui-slider-horizontal .ui-slider-range{top:0;height:100%}.ui-slider-horizontal .ui-slider-range-min{left:0}.ui-slider-horizontal .ui-slider-range-max{right:0}.ui-slider-vertical{width:.8em;height:100px}.ui-slider-vertical .ui-slider-handle{left:-.3em;margin-left:0;margin-bottom:-.6em}.ui-slider-vertical .ui-slider-range{left:0;width:100%}.ui-slider-vertical .ui-slider-range-min{bottom:0}.ui-slider-vertical .ui-slider-range-max{top:0}\n\n/* cache key: resourceloader:filter:minify-css:7:be3ff74589a1fede91194c0f8bbf34ed */\n"},{});mw.loader.implement("jquery.ui.tooltip",function($){(function($){var increments=0;function addDescribedBy(elem,id){var describedby=(elem.attr("aria-describedby")||"").split(/\s+/);describedby.push(id);elem.data("ui-tooltip-id",id);}function removeDescribedBy(elem){var id=elem.data("ui-tooltip-id"),describedby=(elem.attr("aria-describedby")||"").split(/\s+/),index=$.inArray(id,describedby);if(index!==-1){describedby.splice(index,1);}elem.removeData("ui-tooltip-id");describedby=$.trim(describedby.join(" "));if(describedby){elem.attr("aria-describedby",describedby);}else{elem.removeAttr("aria-describedby");}}$.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var title=$(this).attr("title")||"";return $("<a>").text(title).html();},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,tooltipClass:null,track:false,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};if(this.options.disabled){this._disable();}},_setOption:function(key,value){var that=this;if(key==="disabled"){this[value?"_disable":"_enable"]();this.options[key]=value;return;}this._super(key,value);if(key==="content"){$.each(this.tooltips,function(id,element){that._updateContent(element);});}},_disable:function(){var that=this;$.each(this.tooltips,function(id,element){var event=$.Event("blur");event.target=event.currentTarget=element[0];that.close(event,true);});this.element.find(this.options.items).addBack().each(function(){var element=$(this);if(element.is("[title]")){element.data("ui-tooltip-title",element.attr("title")).attr("title","");}});},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var element=$(this);if(element.data("ui-tooltip-title")){element.attr("title",element.data("ui-tooltip-title"));}});},open:function(event){var that=this,target=$(event?event.target:this.element).closest(this.options.items);if(!target.length||target.data("ui-tooltip-id")){return;}if(target.attr("title")){target.data("ui-tooltip-title",target.attr("title"));}target.data("ui-tooltip-open",true);if(event&&event.type==="mouseover"){target.parents().each(function(){var parent=$(this),blurEvent;if(parent.data("ui-tooltip-open")){blurEvent=$.Event("blur");blurEvent.target=blurEvent.currentTarget=this;that.close(blurEvent,true);}if(parent.attr("title")){parent.uniqueId();that.parents[this.id]={element:this,title:parent.attr("title")};parent.attr("title","");}});}this._updateContent(target,event);},_updateContent:function(target,event){var content,contentOption=this.options.content,that=this,eventType=event?event.type:null;if(typeof contentOption==="string"){return this._open(event,target,contentOption);}content=contentOption.call(target[0],function(response){if(!target.data("ui-tooltip-open")){return;}that._delay(function(){if(event){event.type=eventType;}this._open(event,target,response);});});if(content){this._open(event,target,content);}},_open:function(event,target,content){var tooltip,events,delayedShow,positionOption=$.extend({},this.options.position);if(!content){return;}tooltip=this._find(target);if(tooltip.length){tooltip.find(".ui-tooltip-content").html(content);return;}if(target.is("[title]")){if(event&&event.type==="mouseover"){target.attr("title","");}else{target.removeAttr("title");}}tooltip=this._tooltip(target);addDescribedBy(target,tooltip.attr("id"));tooltip.find(".ui-tooltip-content").html(content);function position(event){positionOption.of=event;if(tooltip.is(":hidden")){return;}tooltip.position(positionOption);}if(this.options.track&&event&&/^mouse/.test(event.type)){this._on(this.document,{mousemove:position});position(event);}else{tooltip.position($.extend({of:target},this.options.position));}tooltip.hide();this._show(tooltip,this.options.show);if(this.options.show&&this.options.show.delay){delayedShow=this.delayedShow=setInterval(function(){if(tooltip.is(":visible")){position(positionOption.of);clearInterval(delayedShow);}},$.fx.interval);}this._trigger("open",event,{tooltip:tooltip});events={keyup:function(event){if(event.keyCode===$.ui.keyCode.ESCAPE){var fakeEvent=$.Event(event);fakeEvent.currentTarget=target[0];this.close(fakeEvent,true);}},remove:function(){this._removeTooltip(tooltip);}};if(!event||event.type==="mouseover"){events.mouseleave="close";}if(!event||event.type==="focusin"){events.focusout="close";}this._on(true,target,events);},close:function(event){var that=this,target=$(event?event.currentTarget:this.element),tooltip=this._find(target);if(this.closing){return;}clearInterval(this.delayedShow);if(target.data("ui-tooltip-title")){target.attr("title",target.data("ui-tooltip-title"));}removeDescribedBy(target);tooltip.stop(true);this._hide(tooltip,this.options.hide,function(){that._removeTooltip($(this));});target.removeData("ui-tooltip-open");this._off(target,"mouseleave focusout keyup");if(target[0]!==this.element[0]){this._off(target,"remove");}this._off(this.document,"mousemove");if(event&&event.type==="mouseleave"){$.each(this.parents,function(id,parent){$(parent.element).attr("title",parent.title);delete that.parents[id];});}this.closing=true;this._trigger("close",event,{tooltip:tooltip});this.closing=false;},_tooltip:function(element){var id="ui-tooltip-"+increments++,tooltip=$("<div>").attr({id:id,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));$("<div>").addClass("ui-tooltip-content").appendTo(tooltip);tooltip.appendTo(this.document[0].body);this.tooltips[id]=element;return tooltip;},_find:function(target){var id=target.data("ui-tooltip-id");return id?$("#"+id):$();},_removeTooltip:function(tooltip){tooltip.remove();delete this.tooltips[tooltip.attr("id")];},_destroy:function(){var that=this;$.each(this.tooltips,function(id,element){var event=$.Event("blur");event.target=event.currentTarget=element[0];that.close(event,true);$("#"+id).remove();if(element.data("ui-tooltip-title")){element.attr("title",element.data("ui-tooltip-title"));element.removeData("ui-tooltip-title");}});}});}(jQuery));;},{"all":".ui-tooltip{padding:8px;position:absolute;z-index:9999;max-width:300px;-webkit-box-shadow:0 0 5px #aaa;box-shadow:0 0 5px #aaa}body .ui-tooltip{border-width:2px}\n\n/* cache key: resourceloader:filter:minify-css:7:74dc316b0056155feeb3090bf2253792 */\n"},{});mw.loader.implement("jquery.ui.touchPunch",function($){(function($){$.support.touch='ontouchend'in document;if(!$.support.touch){return;}var mouseProto=$.ui.mouse.prototype,_mouseInit=mouseProto._mouseInit,touchHandled;function simulateMouseEvent(event,simulatedType){if(event.originalEvent.touches.length>1){return;}event.preventDefault();var touch=event.originalEvent.changedTouches[0],simulatedEvent=document.createEvent('MouseEvents');simulatedEvent.initMouseEvent(simulatedType,true,true,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,false,false,false,false,0,null);event.target.dispatchEvent(simulatedEvent);}mouseProto._touchStart=function(event){var self=this;if(touchHandled||!self._mouseCapture(event.originalEvent.changedTouches[0])){return;}touchHandled=true;self._touchMoved=false;simulateMouseEvent(event,'mouseover');simulateMouseEvent(event,'mousemove');simulateMouseEvent(event,'mousedown');};mouseProto._touchMove=function(event){if(!touchHandled){return;}this._touchMoved=true;simulateMouseEvent(event,'mousemove');};mouseProto._touchEnd=function(event){if(!touchHandled){return;}simulateMouseEvent(event,'mouseup');simulateMouseEvent(event,'mouseout');if(!this._touchMoved){simulateMouseEvent(event,'click');}touchHandled=false;};mouseProto._mouseInit=function(){var self=this;self.element.bind('touchstart',$.proxy(self,'_touchStart')).bind('touchmove',$.proxy(self,'_touchMove')).bind('touchend',$.proxy(self,'_touchEnd'));_mouseInit.call(self);};})(jQuery);;},{},{});mw.loader.implement("jquery.ui.widget",function($){(function($,undefined){var uuid=0,slice=Array.prototype.slice,_cleanData=$.cleanData;$.cleanData=function(elems){for(var i=0,elem;(elem=elems[i])!=null;i++){try{$(elem).triggerHandler("remove");}catch(e){}}_cleanData(elems);};$.widget=function(name,base,prototype){var fullName,existingConstructor,constructor,basePrototype,proxiedPrototype={},namespace=name.split(".")[0];name=name.split(".")[1];fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget;}$.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName);};$[namespace]=$[namespace]||{};existingConstructor=$[namespace][name];constructor=$[namespace][name]=function(options,element){if(!this._createWidget){return new constructor(options,element);}if(arguments.length){this._createWidget(options,element);}};$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]});basePrototype=new base();basePrototype.options=$.widget.extend({},basePrototype.options);$.each(prototype,function(prop,value){if(!$.isFunction(value)){proxiedPrototype[prop]=value;return;}proxiedPrototype[prop]=(function(){var _super=function(){return base.prototype[prop].apply(this,arguments);},_superApply=function(args){return base.prototype[prop].apply(this,args);};return function(){var __super=this._super,__superApply=this._superApply,returnValue;this._super=_super;this._superApply=_superApply;returnValue=value.apply(this,arguments);this._super=__super;this._superApply=__superApply;return returnValue;};})();});constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?(basePrototype.widgetEventPrefix||name):name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName});if(existingConstructor){$.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto);});delete existingConstructor._childConstructors;}else{base._childConstructors.push(constructor);}$.widget.bridge(name,constructor);};$.widget.extend=function(target){var input=slice.call(arguments,1),inputIndex=0,inputLength=input.length,key,value;for(;inputIndex<inputLength;inputIndex++){for(key in input[inputIndex]){value=input[inputIndex][key];if(input[inputIndex].hasOwnProperty(key)&&value!==undefined){if($.isPlainObject(value)){target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value);}else{target[key]=value;}}}}return target;};$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall=typeof options==="string",args=slice.call(arguments,1),returnValue=this;options=!isMethodCall&&args.length?$.widget.extend.apply(null,[options].concat(args)):options;if(isMethodCall){this.each(function(){var methodValue,instance=$.data(this,fullName);if(!instance){return $.error("cannot call methods on "+name+" prior to initialization; "+"attempted to call method '"+options+"'");}if(!$.isFunction(instance[options])||options.charAt(0)==="_"){return $.error("no such method '"+options+"' for "+name+" widget instance");}methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue;return false;}});}else{this.each(function(){var instance=$.data(this,fullName);if(instance){instance.option(options||{})._init();}else{$.data(this,fullName,new object(options,this));}});}return returnValue;};};$.Widget=function(){};$.Widget._childConstructors=[];$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0];this.element=$(element);this.uuid=uuid++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=$.widget.extend({},this.options,this._getCreateOptions(),options);this.bindings=$();this.hoverable=$();this.focusable=$();if(element!==this){$.data(element,this.widgetFullName,this);this._on(true,this.element,{remove:function(event){if(event.target===element){this.destroy();}}});this.document=$(element.style?element.ownerDocument:element.document||element);this.window=$(this.document[0].defaultView||this.document[0].parentWindow);}this._create();this._trigger("create",null,this._getCreateEventData());this._init();},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");},_destroy:$.noop,widget:function(){return this.element;},option:function(key,value){var options=key,parts,curOption,i;if(arguments.length===0){return $.widget.extend({},this.options);}if(typeof key==="string"){options={};parts=key.split(".");key=parts.shift();if(parts.length){curOption=options[key]=$.widget.extend({},this.options[key]);for(i=0;i<parts.length-1;i++){curOption[parts[i]]=curOption[parts[i]]||{};curOption=curOption[parts[i]];}key=parts.pop();if(arguments.length===1){return curOption[key]===undefined?null:curOption[key];}curOption[key]=value;}else{if(arguments.length===1){return this.options[key]===undefined?null:this.options[key];}options[key]=value;}}this._setOptions(options);return this;},_setOptions:function(options){var key;for(key in options){this._setOption(key,options[key]);}return this;},_setOption:function(key,value){this.options[key]=value;if(key==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!value).attr("aria-disabled",value);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");}return this;},enable:function(){return this._setOption("disabled",false);},disable:function(){return this._setOption("disabled",true);},_on:function(suppressDisabledCheck,element,handlers){var delegateElement,instance=this;if(typeof suppressDisabledCheck!=="boolean"){handlers=element;element=suppressDisabledCheck;suppressDisabledCheck=false;}if(!handlers){handlers=element;element=this.element;delegateElement=this.widget();}else{element=delegateElement=$(element);this.bindings=this.bindings.add(element);}$.each(handlers,function(event,handler){function handlerProxy(){if(!suppressDisabledCheck&&(instance.options.disabled===true||$(this).hasClass("ui-state-disabled"))){return;}return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}if(typeof handler!=="string"){handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++;}var match=event.match(/^(\w+)\s*(.*)$/),eventName=match[1]+instance.eventNamespace,selector=match[2];if(selector){delegateElement.delegate(selector,eventName,handlerProxy);}else{element.bind(eventName,handlerProxy);}});},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;element.unbind(eventName).undelegate(eventName);},_delay:function(handler,delay){function handlerProxy(){return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}var instance=this;return setTimeout(handlerProxy,delay||0);},_hoverable:function(element){this.hoverable=this.hoverable.add(element);this._on(element,{mouseenter:function(event){$(event.currentTarget).addClass("ui-state-hover");},mouseleave:function(event){$(event.currentTarget).removeClass("ui-state-hover");}});},_focusable:function(element){this.focusable=this.focusable.add(element);this._on(element,{focusin:function(event){$(event.currentTarget).addClass("ui-state-focus");},focusout:function(event){$(event.currentTarget).removeClass("ui-state-focus");}});},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];data=data||{};event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();event.target=this.element[0];orig=event.originalEvent;if(orig){for(prop in orig){if(!(prop in event)){event[prop]=orig[prop];}}}this.element.trigger(event,data);return!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===false||event.isDefaultPrevented());}};$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){if(typeof options==="string"){options={effect:options};}var hasOptions,effectName=!options?method:options===true||typeof options==="number"?defaultEffect:options.effect||defaultEffect;options=options||{};if(typeof options==="number"){options={duration:options};}hasOptions=!$.isEmptyObject(options);options.complete=callback;if(options.delay){element.delay(options.delay);}if(hasOptions&&$.effects&&$.effects.effect[effectName]){element[method](options);}else if(effectName!==method&&element[effectName]){element[effectName](options.duration,options.easing,callback);}else{element.queue(function(next){$(this)[method]();if(callback){callback.call(element[0]);}next();});}};});})(jQuery);;},{},{});mw.loader.implement("mediawiki.Uri",function($){(function($,mw){function cat(pre,val,post,raw){if(val===undefined||val===null||val===''){return'';}else{return pre+(raw?val:mw.Uri.encode(val))+post;}}var parser={strict:/^(?:([^:\/?#]+):)?(?:\/\/(?:(?:([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)?((?:[^?#\/]*\/)*[^?#]*)(?:\?([^#]*))?(?:#(.*))?/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?(?:(?:([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?((?:\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?[^?#\/]*)(?:\?([^#]*))?(?:#(.*))?/},properties=['protocol','user','password','host','port','path','query','fragment'];mw.UriRelative=function(documentLocation){function Uri(uri,options){options=typeof options==='object'?options:{strictMode:!!options};options=$.extend({strictMode:false,overrideKeys:false},options);if(uri!==undefined&&uri!==null||uri!==''){if(typeof uri==='string'){this._parse(uri,options);}else if(typeof uri==='object'){var _this=this;$.each(properties,function(i,property){_this[property]=uri[property];});if(this.query===undefined){this.query={};}}}if(!this.protocol){this.protocol=defaultUri.protocol;}try{if(!this.host){this.host=defaultUri.host;if(!this.port){this.port=defaultUri.port;}}if(this.path&&this.path.charAt(0)!=='/'){throw new Error('Bad constructor arguments');}if(!(this.protocol&&this.host&&this.path)){throw new Error('Bad constructor arguments');}}catch(e){mw.log(e);}}Uri.encode=function(s){return encodeURIComponent(s).replace(/!/g,'%21').replace(/'/g,'%27').replace(/\(/g,'%28').replace(/\)/g,'%29').replace(/\*/g,'%2A').replace(/%20/g,'+');};Uri.decode=function(s){return decodeURIComponent(s.replace(/\+/g,'%20'));};Uri.prototype={_parse:function(str,options){var matches=parser[options.strictMode?'strict':'loose'].exec(str);var uri=this;$.each(properties,function(i,property){uri[property]=matches[i+1];});var q={};if(uri.query){uri.query.replace(/(?:^|&)([^&=]*)(?:(=)([^&]*))?/g,function($0,$1,$2,$3){if($1){var k=Uri.decode($1);var v=($2===''||$2===undefined)?null:Uri.decode($3);if(options.overrideKeys||q[k]===undefined){q[k]=v;}else{if(typeof q[k]==='string'){q[k]=[q[k]];}if($.isArray(q[k])){q[k].push(v);}}}});}this.query=q;},getUserInfo:function(){return cat('',this.user,cat(':',this.password,''));},getHostPort:function(){return this.host+cat(':',this.port,'');},getAuthority:function(){return cat('',this.getUserInfo(),'@')+this.getHostPort();},getQueryString:function(){var args=[];$.each(this.query,function(key,val){var k=Uri.encode(key);var vals=val===null?[null]:$.makeArray(val);$.each(vals,function(i,v){args.push(k+(v===null?'':'='+Uri.encode(v)));});});return args.join('&');},getRelativePath:function(){return this.path+cat('?',this.getQueryString(),'',true)+cat('#',this.fragment,'');},toString:function(){return this.protocol+'://'+this.getAuthority()+this.getRelativePath();},clone:function(){return new Uri(this);},extend:function(parameters){$.extend(this.query,parameters);return this;}};var defaultUri=new Uri(documentLocation);return Uri;};if(document&&document.location&&document.location.href){if(typeof document.location=='undefined'||!document.location.href){mw.Uri=mw.UriRelative('http://webview.com/fixme');}else{mw.Uri=mw.UriRelative(document.location.href);}}})(jQuery,mediaWiki);;},{},{});mw.loader.implement("mediawiki.UtilitiesTime",function($){(function(mw){mw.seconds2npt=function(sec,show_ms,mm_format){if(isNaN(sec)){mw.log("Warning: mediawiki.UtilitiesTime, trying to get npt time on NaN:"+sec);return'0:00:00';}var tm=mw.seconds2Measurements(sec);if(show_ms){tm.seconds=Math.round(tm.seconds*1000)/1000;}else{tm.seconds=Math.round(tm.seconds);}if(tm.seconds<10){tm.seconds='0'+tm.seconds;}if(tm.hours==0){hoursStr='';if(mm_format&&tm.minutes<10)tm.minutes='0'+tm.minutes;}else{if(tm.minutes<10)tm.minutes='0'+tm.minutes;hoursStr=tm.hours+":";}return hoursStr+tm.minutes+":"+tm.seconds;};mw.seconds2Measurements=function(sec){var tm={};tm.days=Math.floor(sec/(3600*24));tm.hours=Math.floor(Math.round(sec)/3600);tm.minutes=Math.floor((Math.round(sec)/60)%60);tm.seconds=Math.round(sec)%60;return tm;};mw.measurements2seconds=function(timeMeasurements){var seconds=0;if(timeMeasurements.days){seconds+=parseInt(timeMeasurements.days,10)*24*3600;}if(timeMeasurements.hours){seconds+=parseInt(timeMeasurements.hours,10)*3600;}if(timeMeasurements.minutes){seconds+=parseInt(timeMeasurements.minutes,10)*60;}if(timeMeasurements.seconds){seconds+=parseInt(timeMeasurements.seconds,10);}if(timeMeasurements.milliseconds){seconds+=parseFloat(timeMeasurements.milliseconds);}return seconds;};mw.npt2seconds=function(npt_str){if(!npt_str){return 0;}npt_str=npt_str.replace(/npt:|s/g,'');var hour=0;var min=0;var sec=0;times=npt_str.split(':');if(times.length==3){sec=times[2];min=times[1];hour=times[0];}else if(times.length==2){sec=times[1];min=times[0];}else{sec=times[0];}sec=sec.replace(/,\s?/,'.');return parseInt(hour*3600)+parseInt(min*60)+parseFloat(sec);};})(window.mediaWiki);;},{},{});mw.loader.implement("mediawiki.UtilitiesUrl",function($){(function(mw){mw.absoluteUrl=function(source,contextUrl){if(source.indexOf('http://')===0||source.indexOf('https://')===0){return source;}if(!contextUrl){contextUrl=document.URL;}var contextUrl=new mw.Uri(contextUrl);if(source.indexOf('//')===0){return contextUrl.protocol+':'+source;}if(contextUrl.directory==''&&contextUrl.protocol=='file'){var fileUrl=contextUrl.split('\\');fileUrl.pop();return fileUrl.join('\\')+'\\'+src;}if(source.indexOf('/')===0){return contextUrl.protocol+'://'+contextUrl.getAuthority()+source;}else{return contextUrl.protocol+'://'+contextUrl.getAuthority()+contextUrl.path+source;}};mw.isLocalDomain=function(url){if(!url){return false;}if((url.indexOf('http://')!=0&&url.indexOf('//')!=0&&url.indexOf('https://')!=0)||new mw.Uri(document.URL).host==new mw.Uri(url).host){return true;}return false;}})(window.mediaWiki);;},{},{});mw.loader.implement("mediawiki.client",function($){(function(mw){var userAgent=navigator.userAgent;mw.isMobileDevice=function(){return(mw.isIphone()||mw.isIpod()||mw.isIpad()||mw.isAndroid()||mw.getConfig("EmbedPlayer.ForceNativeComponent"))};mw.isIphone=function(){return(!mw.getConfig("EmbedPlayer.ForceNativeComponent")&&navigator.userAgent.indexOf('iPhone')!=-1&&!mw.isIpad())||mw.isIpod();};mw.isIE=function(){return(/msie/.test(userAgent.toLowerCase()));};mw.isIE7=function(){return(/msie 7/.test(userAgent.toLowerCase()));};mw.isIE8=function(){return(/msie 8/.test(userAgent.toLowerCase()));};mw.isIE9=function(){return(/msie 9/.test(userAgent.toLowerCase()));};mw.isIE=function(){return(/msie/).test(userAgent.toLowerCase());};mw.isDesktopSafari=function(){return(/safari/).test(userAgent.toLowerCase())&&!mw.isMobileDevice()&&!mw.isChrome();};mw.isIphone4=function(){return(mw.isIphone()&&(window.devicePixelRatio&&window.devicePixelRatio>=2));};mw.isIpod=function(){return(userAgent.indexOf('iPod')!=-1);};mw.isIpad=function(){return(userAgent.indexOf('iPad')!=-1);};mw.isIpad3=function(){return/OS 3_/.test(userAgent)&&mw.isIpad();};mw.isAndroid44=function(){return(userAgent.indexOf('Android 4.4')!=-1);};mw.isAndroid43=function(){return(userAgent.indexOf('Android 4.3')!=-1);};mw.isAndroid42=function(){return(userAgent.indexOf('Android 4.2')!=-1);};mw.isAndroid41=function(){return(userAgent.indexOf('Android 4.1')!=-1);};mw.isAndroid40=function(){return(userAgent.indexOf('Android 4.0')!=-1);};mw.isAndroid2=function(){return(userAgent.indexOf('Android 2.')!=-1);};mw.isAndroid=function(){return(userAgent.indexOf('Android')!=-1);};mw.isAndroid4andUp=function(){return(userAgent.indexOf('Android 4.')!=-1);};mw.isFirefox=function(){return(userAgent.indexOf('Firefox')!=-1);};mw.isChrome=function(){return(userAgent.indexOf('Chrome')!=-1);};mw.isAndroidNativeBrowser=function(){return(mw.isAndroid()&&!mw.isFirefox()&&!mw.isChrome());};mw.isMobileChrome=function(){return(userAgent.indexOf('Android 4.')!=-1&&userAgent.indexOf('Chrome')!=-1)};mw.isIOS=function(){return(mw.isIphone()||mw.isIpod()||mw.isIpad());};mw.isIOS3=function(){return/OS 3_/.test(userAgent)&&mw.isIOS();};mw.isIOS4=function(){return/OS 4_/.test(userAgent)&&mw.isIOS();};mw.isIOS5=function(){return/OS 5_/.test(userAgent)&&mw.isIOS();};mw.isIOS6=function(){return/OS 6_/.test(userAgent)&&mw.isIOS();};mw.isIOS7=function(){return/OS 7_/.test(userAgent)&&mw.isIOS();};mw.isIOS8=function(){return/OS 8_/.test(userAgent)&&mw.isIOS();};mw.isSilk=function(){return/\bSilk\b/.test(userAgent);};mw.hasNativeTouchBindings=function(){return(mw.isAndroid41()||mw.isAndroid42()||(mw.isAndroid()&&mw.isFirefox()));};mw.isDeviceLessThan480P=function(){return matchMedia('only screen and (max-device-width: 480px)').matches;};mw.hasMouseEvents=function(){return!mw.isMobileDevice();};mw.isTouchDevice=function(){return!!('ontouchstart'in window);};mw.isHTML5FallForwardNative=function(){if(mw.isMobileHTML5()){return true;}if(document.URL.indexOf('forceMobileHTML5')!=-1){return true;}if(mw.supportsFlash()){return false;}if(mw.supportsHTML5()){return true;}return false;};mw.isMobileHTML5=function(){if(mw.isIphone()||mw.isIpod()||mw.isIpad()||mw.isAndroid2()){return true;}return false;};mw.supportsHTML5=function(){if(userAgent.indexOf('BlackBerry')!=-1){return false;}var dummyvid=document.createElement("video");if(dummyvid.canPlayType){return true;}return false;};mw.supportsFlash=function(){if(mw.getConfig('EmbedPlayer.DisableHTML5FlashFallback')){return false;}if(mw.isDesktopSafari()){return false;}var majorVersion=this.getFlashVersion().split(',').shift();if(majorVersion<10){return false;}else{return true;}};mw.supportSilverlight=function(){return Silverlight.isInstalled("4.0");};mw.getFlashVersion=function(){if(navigator.plugins&&navigator.plugins.length){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin){return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1];}}catch(e){}}try{try{if(typeof ActiveXObject!='undefined'){var axo=new ActiveXObject('ShockwaveFlash.ShockwaveFlash.6');try{axo.AllowScriptAccess='always';}catch(e){return'6,0,0';}}}catch(e){}return new ActiveXObject('ShockwaveFlash.ShockwaveFlash').GetVariable('$version').replace(/\D+/g,',').match(/^,?(.+),?$/)[1];}catch(e){}return'0,0,0';};})(window.mediaWiki);;},{},{});mw.loader.implement("mediawiki.jqueryMsg",function($){(function(mw,$,undefined){mw.jqueryMsg={};function getFailableParserFn(options){var parser=new mw.jqueryMsg.parser(options);return function(args){var key=args[0];var argsArray=$.isArray(args[1])?args[1]:$.makeArray(args).slice(1);try{return parser.parse(key,argsArray);}catch(e){return $('<span>').append(key+': '+e.message);}};}mw.jqueryMsg.getMessageFunction=function(options){var failableParserFn=getFailableParserFn(options);return function(){return failableParserFn(arguments).html();};};mw.jqueryMsg.getPlugin=function(options){var failableParserFn=getFailableParserFn(options);return function(){var $target=this.empty();$.each(failableParserFn(arguments).contents(),function(i,node){$target.append(node);});return $target;};};var parserDefaults={'magic':{'SITENAME':mw.config.get('wgSiteName')},'messages':mw.messages,'language':mw.language};mw.jqueryMsg.parser=function(options){this.settings=$.extend({},parserDefaults,options);this.emitter=new mw.jqueryMsg.htmlEmitter(this.settings.language,this.settings.magic);};mw.jqueryMsg.parser.prototype={astCache:{},parse:function(key,replacements){return this.emitter.emit(this.getAst(key),replacements);},getAst:function(key){if(this.astCache[key]===undefined){var wikiText=this.settings.messages.get(key);if(typeof wikiText!=='string'){wikiText="\\["+key+"\\]";}this.astCache[key]=this.wikiTextToAst(wikiText);}return this.astCache[key];},wikiTextToAst:function(input){var pos=0;function choice(ps){return function(){for(var i=0;i<ps.length;i++){var result=ps[i]();if(result!==null){return result;}}return null;};}function sequence(ps){var originalPos=pos;var result=[];for(var i=0;i<ps.length;i++){var res=ps[i]();if(res===null){pos=originalPos;return null;}result.push(res);}return result;}function nOrMore(n,p){return function(){var originalPos=pos;var result=[];var parsed=p();while(parsed!==null){result.push(parsed);parsed=p();}if(result.length<n){pos=originalPos;return null;}return result;};}function transform(p,fn){return function(){var result=p();return result===null?null:fn(result);};}function makeStringParser(s){var len=s.length;return function(){var result=null;if(input.substr(pos,len)===s){result=s;pos+=len;}return result;};}function makeRegexParser(regex){return function(){var matches=input.substr(pos).match(regex);if(matches===null){return null;}pos+=matches[0].length;return matches[0];};}var regularLiteral=makeRegexParser(/^[^{}[\]$\\]/);var regularLiteralWithoutBar=makeRegexParser(/^[^{}[\]$\\|]/);var regularLiteralWithoutSpace=makeRegexParser(/^[^{}[\]$\s]/);var backslash=makeStringParser("\\");var anyCharacter=makeRegexParser(/^./);function escapedLiteral(){var result=sequence([backslash,anyCharacter]);return result===null?null:result[1];}var escapedOrLiteralWithoutSpace=choice([escapedLiteral,regularLiteralWithoutSpace]);var escapedOrLiteralWithoutBar=choice([escapedLiteral,regularLiteralWithoutBar]);var escapedOrRegularLiteral=choice([escapedLiteral,regularLiteral]);function literalWithoutSpace(){var result=nOrMore(1,escapedOrLiteralWithoutSpace)();return result===null?null:result.join('');}function literalWithoutBar(){var result=nOrMore(1,escapedOrLiteralWithoutBar)();return result===null?null:result.join('');}function literal(){var result=nOrMore(1,escapedOrRegularLiteral)();return result===null?null:result.join('');}var whitespace=makeRegexParser(/^\s+/);var dollar=makeStringParser('$');var digits=makeRegexParser(/^\d+/);function replacement(){var result=sequence([dollar,digits]);if(result===null){return null;}return['REPLACE',parseInt(result[1],10)-1];}var openExtlink=makeStringParser('[');var closeExtlink=makeStringParser(']');function extlink(){var result=null;var parsedResult=sequence([openExtlink,nonWhitespaceExpression,whitespace,expression,closeExtlink]);if(parsedResult!==null){result=['LINK',parsedResult[1],parsedResult[3]];}return result;}function extLinkParam(){var result=sequence([openExtlink,dollar,digits,whitespace,expression,closeExtlink]);if(result===null){return null;}return['LINKPARAM',parseInt(result[2],10)-1,result[4]];}var openLink=makeStringParser('[[');var closeLink=makeStringParser(']]');function link(){var result=null;var parsedResult=sequence([openLink,expression,closeLink]);if(parsedResult!==null){result=['WLINK',parsedResult[1]];}return result;}var templateName=transform(makeRegexParser(/^[ !"$&'()*,.\/0-9;=?@A-Z\^_`a-z~\x80-\xFF+-]+/),function(result){return result.toString();});function templateParam(){var result=sequence([pipe,nOrMore(0,paramExpression)]);if(result===null){return null;}var expr=result[1];return expr.length>1?["CONCAT"].concat(expr):expr[0];}var pipe=makeStringParser('|');function templateWithReplacement(){var result=sequence([templateName,colon,replacement]);return result===null?null:[result[0],result[2]];}function templateWithOutReplacement(){var result=sequence([templateName,colon,paramExpression]);return result===null?null:[result[0],result[2]];}var colon=makeStringParser(':');var templateContents=choice([function(){var res=sequence([choice([templateWithReplacement,templateWithOutReplacement]),nOrMore(0,templateParam)]);return res===null?null:res[0].concat(res[1]);},function(){var res=sequence([templateName,nOrMore(0,templateParam)]);if(res===null){return null;}return[res[0]].concat(res[1]);}]);var openTemplate=makeStringParser('{{');var closeTemplate=makeStringParser('}}');function template(){var result=sequence([openTemplate,templateContents,closeTemplate]);return result===null?null:result[1];}var nonWhitespaceExpression=choice([template,link,extLinkParam,extlink,replacement,literalWithoutSpace]);var paramExpression=choice([template,link,extLinkParam,extlink,replacement,literalWithoutBar]);var expression=choice([template,link,extLinkParam,extlink,replacement,literal]);function start(){var result=nOrMore(0,expression)();if(result===null){return null;}return["CONCAT"].concat(result);}var result=start();if(result===null||pos!==input.length){throw new Error("Parse error at position "+pos.toString()+" in input: "+input);}return result;}};mw.jqueryMsg.htmlEmitter=function(language,magic){this.language=language;var _this=this;$.each(magic,function(key,val){_this[key.toLowerCase()]=function(){return val;};});this.emit=function(node,replacements){var ret=null;var _this=this;switch(typeof node){case'string':case'number':ret=node;break;case'object':var subnodes=$.map(node.slice(1),function(n){return _this.emit(n,replacements);});var operation=node[0].toLowerCase();if(typeof _this[operation]==='function'){ret=_this[operation](subnodes,replacements);}else{throw new Error('unknown operation "'+operation+'"');}break;case'undefined':ret='';break;default:throw new Error('unexpected type in AST: '+typeof node);}return ret;};};mw.jqueryMsg.htmlEmitter.prototype={concat:function(nodes){var span=$('<span>').addClass('mediaWiki_htmlEmitter');$.each(nodes,function(i,node){if(node instanceof jQuery&&node.hasClass('mediaWiki_htmlEmitter')){$.each(node.contents(),function(j,childNode){span.append(childNode);});}else{span.append(node);}});return span;},replace:function(nodes,replacements){var index=parseInt(nodes[0],10);if(index<replacements.length){if(typeof arg==='string'){return mw.html.escape(replacements[index]);}else{return replacements[index];}}else{return'$'+(index+1);}},wlink:function(nodes){return"unimplemented";},link:function(nodes){var arg=nodes[0];var contents=nodes[1];var $el;if(arg instanceof jQuery){$el=arg;}else{$el=$('<a>');if(typeof arg==='function'){$el.click(arg).attr('href','#');}else{$el.attr('href',arg.toString());}}$el.append(contents);return $el;},linkparam:function(nodes,replacements){var replacement,index=parseInt(nodes[0],10);if(index<replacements.length){replacement=replacements[index];}else{replacement='$'+(index+1);}return this.link([replacement,nodes[1]]);},plural:function(nodes){var count=parseInt(this.language.convertNumber(nodes[0],true),10);var forms=nodes.slice(1);return forms.length?this.language.convertPlural(count,forms):'';},gender:function(nodes){var gender;if(nodes[0]&&nodes[0].options instanceof mw.Map){gender=nodes[0].options.get('gender');}else{gender=nodes[0];}var forms=nodes.slice(1);return this.language.gender(gender,forms);},grammar:function(nodes){var form=nodes[0];var word=nodes[1];return word&&form&&this.language.convertGrammar(word,form);}};window.gM=mw.jqueryMsg.getMessageFunction();$.fn.msg=mw.jqueryMsg.getPlugin();var oldParser=mw.Message.prototype.parser;mw.Message.prototype.parser=function(){if(this.map.get(this.key).indexOf('{{')<0){return oldParser.apply(this);}var messageFunction=mw.jqueryMsg.getMessageFunction({'messages':this.map});return messageFunction(this.key,this.parameters);};})(mediaWiki,jQuery);;},{},{});mw.loader.implement("mediawiki.kmenu",function($){(function(mw,$){"use strict";mw.KMenu=function($element,options){var defaults={cssClass:"dropdown-menu",tabIndex:1,closeOnFocusOut:true,attributes:{'role':'menu','aria-labelledby':'dLabel'},dividerClass:'divider'};this.bindPostfix='.kMenu';this.$el=$element;this.options=$.extend({},defaults,options);this.itemIdx=0;this.selectedIndex=-1;this.init();return this;}
	mw.KMenu.prototype={init:function(){var _this=this;if(this.options.cssClass){this.$el.addClass(this.options.cssClass);}if($.isPlainObject(this.options.attributes)){this.$el.attr(this.options.attributes);}this.$el.attr({'role':'menu'});this.$el.uniqueId();},getTabIndex:function(idx){var tabIndex=parseFloat(this.options.tabIndex+'.00');idx=(idx<10)?'0'+idx:idx;return tabIndex+=parseFloat('.'+idx);},addItem:function(item){var _this=this;item.idx=this.itemIdx;var attrs=item.attributes||{};var $item=$('<li />').addClass(item.cssClass).attr(attrs).append($('<a />').attr({'href':'#','title':item.label,'role':'menuitemcheckbox','aria-checked':'false','tabindex':this.getTabIndex(this.itemIdx+1)}).text(item.label).click(function(e){e.preventDefault();_this.setActive(item.idx);_this.selectedIndex=item.idx;if($.isFunction(item.callback)){item.callback();}_this.close();}));if(this.itemIdx>0){this.addDivider();}this.$el.append($item);if(item.active){$item.addClass('active').attr('aria-checked','true');this.selectedIndex=this.itemIdx;}this.itemIdx++;},addDivider:function(){this.$el.append($('<li />').addClass(this.options.dividerClass));},isOpen:function(){return this.$el.hasClass('open');},open:function(){var _this=this;this.$el.addClass('open');if(this.options.closeOnFocusOut){setTimeout(function(){$(document).on('click'+_this.bindPostfix+_this.$el.attr('id'),function(){_this.close();});},0);}},close:function(){this.$el.removeClass('open');if(this.options.closeOnFocusOut){$(document).off('click'+this.bindPostfix+this.$el.attr('id'));}},toggle:function(){if(this.isOpen()){this.close();}else{this.open();}},previousItem:function(){this.selectedIndex--;if(this.selectedIndex<0){this.selectedIndex=this.itemIdx-1;}this.setActive(this.selectedIndex);},nextItem:function(){this.selectedIndex++;if(this.selectedIndex==this.itemIdx){this.selectedIndex=0;}this.setActive(this.selectedIndex);},disable:function(){this.$el.addClass('disabled');},setActive:function(idx){this.clearActive();var selector=null;if(typeof idx=='number'){selector='li:not(.'+this.options.dividerClass+'):eq('+idx+')';}else{selector='li['+idx.key+'='+idx.val+']';}this.$el.find(selector).addClass('active').attr('aria-checked','true');this.$el.find(selector+" a").focus();if(mw.isIE8()){this.$el.addClass('dummy').removeClass('dummy');}},clearActive:function(){this.$el.find('li').removeClass('active').attr('aria-checked','false');},destroy:function(){this.$el.empty();this.itemIdx=0;},numOfChildren:function(){return this.itemIdx;}};})(window.mw,window.jQuery);;},{},{});mw.loader.implement("mediawiki.language",function($){mediaWiki.language={'pluralProcessor':function(template){if(template.arg&&template.parameters&&mediaWiki.language.convertPlural){if(template.parameters.length==0){return'';}var count=mediaWiki.language.convertNumber(template.arg,true);return mediaWiki.language.convertPlural(parseInt(count),template.parameters);}if(template.parameters[0]){return template.parameters[0];}return'';},'convertPlural':function(count,forms){if(!forms||forms.length==0){return'';}return(parseInt(count)==1)?forms[0]:forms[1];},'preConvertPlural':function(forms,count){while(forms.length<count){forms.push(forms[forms.length-1]);}return forms;},'convertNumber':function(number,integer){if(!mediaWiki.language.digitTransformTable){return number;}var transformTable=mediaWiki.language.digitTransformTable;if(integer){if(parseInt(number)==number){return number;}var tmp=[];for(var i in transformTable){tmp[transformTable[i]]=i;}transformTable=tmp;}var numberString=''+number;var convertedNumber='';for(var i=0;i<numberString.length;i++){if(transformTable[numberString[i]]){convertedNumber+=transformTable[numberString[i]];}else{convertedNumber+=numberString[i];}}return integer?parseInt(convertedNumber):convertedNumber;},'digitTransformTable':null};;},{},{});mw.loader.implement("mediawiki.util",function($){(function($,mw){"use strict";var util={init:function(){var profile,$tocTitle,$tocToggleLink,hideTocCookie;$.messageBoxNew({id:'mw-js-message',parent:'#content'});profile=$.client.profile();if(profile.name==='opera'){util.tooltipAccessKeyPrefix='shift-esc-';}else if(profile.name==='chrome'){util.tooltipAccessKeyPrefix=(profile.platform==='mac'?'ctrl-option-':profile.platform==='win'?'alt-shift-':'alt-');}else if(profile.platform!=='win'&&profile.name==='safari'&&profile.layoutVersion>526){util.tooltipAccessKeyPrefix='ctrl-alt-';}else if(!(profile.platform==='win'&&profile.name==='safari')&&(profile.name==='safari'||profile.platform==='mac'||profile.name==='konqueror')){util.tooltipAccessKeyPrefix='ctrl-';}else if(profile.name==='firefox'&&profile.versionBase>'1'){util.tooltipAccessKeyPrefix='alt-shift-';}if($('#bodyContent').length){util.$content=$('#bodyContent');}else if($('#mw_contentholder').length){util.$content=$('#mw_contentholder');}else if($('#article').length){util.$content=$('#article');}else{util.$content=$('#content');}$tocTitle=$('#toctitle');$tocToggleLink=$('#togglelink');if($('#toc').length&&$tocTitle.length&&!$tocToggleLink.length){hideTocCookie=$.cookie('mw_hidetoc');$tocToggleLink=$('<a href="#" class="internal" id="togglelink"></a>').text(mw.msg('hidetoc')).click(function(e){e.preventDefault();util.toggleToc($(this));});$tocTitle.append($tocToggleLink.wrap('<span class="toctoggle"></span>').parent().prepend('&nbsp;[').append(']&nbsp;'));if(hideTocCookie==='1'){util.toggleToc($tocToggleLink);}}},rawurlencode:function(str){str=String(str);return encodeURIComponent(str).replace(/!/g,'%21').replace(/'/g,'%27').replace(/\(/g,'%28').replace(/\)/g,'%29').replace(/\*/g,'%2A').replace(/~/g,'%7E');},wikiUrlencode:function(str){return util.rawurlencode(str).replace(/%20/g,'_').replace(/%3A/g,':').replace(/%2F/g,'/');},wikiGetlink:function(str){return mw.config.get('wgArticlePath').replace('$1',util.wikiUrlencode(typeof str==='string'?str:mw.config.get('wgPageName')));},wikiScript:function(str){return mw.config.get('wgScriptPath')+'/'+(str||'index')+mw.config.get('wgScriptExtension');},addCSS:function(text){var s=mw.loader.addStyleTag(text);return s.sheet||s;},toggleToc:function($toggleLink,callback){var $tocList=$('#toc ul:first');if($tocList.length){if($tocList.is(':hidden')){$tocList.slideDown('fast',callback);$toggleLink.text(mw.msg('hidetoc'));$('#toc').removeClass('tochidden');$.cookie('mw_hidetoc',null,{expires:30,path:'/'});return true;}else{$tocList.slideUp('fast',callback);$toggleLink.text(mw.msg('showtoc'));$('#toc').addClass('tochidden');$.cookie('mw_hidetoc','1',{expires:30,path:'/'});return false;}}else{return null;}},getParamValue:function(param,url){url=url||document.location.href;var re=new RegExp('^[^#]*[&?]'+$.escapeRE(param)+'=([^&#]*)'),m=re.exec(url);if(m){return decodeURIComponent(m[1].replace(/\+/g,'%20'));}return null;},tooltipAccessKeyPrefix:'alt-',tooltipAccessKeyRegexp:/\[(ctrl-)?(alt-)?(shift-)?(esc-)?(.)\]$/,updateTooltipAccessKeys:function($nodes){if(!$nodes){$nodes=$('#column-one a, #mw-head a, #mw-panel a, #p-logo a, input, label');}else if(!($nodes instanceof $)){$nodes=$($nodes);}$nodes.attr('title',function(i,val){if(val&&util.tooltipAccessKeyRegexp.exec(val)){return val.replace(util.tooltipAccessKeyRegexp,'['+util.tooltipAccessKeyPrefix+'$5]');}return val;});},$content:null,addPortletLink:function(portlet,href,text,id,tooltip,accesskey,nextnode){var $item,$link,$portlet,$ul;if(arguments.length<3){return null;}$link=$('<a>').attr('href',href).text(text);if(tooltip){$link.attr('title',tooltip);}switch(mw.config.get('skin')){case'standard':case'cologneblue':$('#quickbar').append($link.after('<br/>'));return $link[0];case'nostalgia':$('#searchform').before($link).before(' &#124; ');return $link[0];default:$portlet=$('#'+portlet);if($portlet.length===0){return null;}$ul=$portlet.find('ul').eq(0);if($ul.length===0){$ul=$('<ul>');if($portlet.find('div:first').length===0){$portlet.append($ul);}else{$portlet.find('div').eq(-1).append($ul);}}if($ul.length===0){return null;}$portlet.removeClass('emptyPortlet');if($portlet.hasClass('vectorTabs')){$item=$link.wrap('<li><span></span></li>').parent().parent();}else{$item=$link.wrap('<li></li>').parent();}if(id){$item.attr('id',id);}if(accesskey){$link.attr('accesskey',accesskey);tooltip+=' ['+accesskey+']';$link.attr('title',tooltip);}if(accesskey&&tooltip){util.updateTooltipAccessKeys($link);}if(nextnode&&nextnode.parentNode===$ul[0]){$(nextnode).before($item);}else if(typeof nextnode==='string'&&$ul.find(nextnode).length!==0){$ul.find(nextnode).eq(0).before($item);}else{$ul.append($item);}return $item[0];}},jsMessage:function(message,className){if(!arguments.length||message===''||message===null){$('#mw-js-message').empty().hide();return true;}else{var $messageDiv=$('#mw-js-message');if(!$messageDiv.length){$messageDiv=$('<div id="mw-js-message"></div>');if(util.$content.parent().length){util.$content.parent().prepend($messageDiv);}else{return false;}}if(className){$messageDiv.prop('class','mw-js-message-'+className);}if(typeof message==='object'){$messageDiv.empty();$messageDiv.append(message);}else{$messageDiv.html(message);}$messageDiv.slideDown();return true;}},validateEmail:function(mailtxt){var rfc5322_atext,rfc1034_ldh_str,HTML5_email_regexp;if(mailtxt===''){return null;}rfc5322_atext="a-z0-9!#$%&'*+\\-/=?^_`{|}~";rfc1034_ldh_str="a-z0-9\\-";HTML5_email_regexp=new RegExp('^'+'['+rfc5322_atext+'\\.]+'+'@'+'['+rfc1034_ldh_str+']+'+'(?:\\.['+rfc1034_ldh_str+']+)*'+'$','i');return(null!==mailtxt.match(HTML5_email_regexp));},isIPv4Address:function(address,allowBlock){if(typeof address!=='string'){return false;}var block=allowBlock?'(?:\\/(?:3[0-2]|[12]?\\d))?':'',RE_IP_BYTE='(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|0?[0-9]?[0-9])',RE_IP_ADD='(?:'+RE_IP_BYTE+'\\.){3}'+RE_IP_BYTE;return address.search(new RegExp('^'+RE_IP_ADD+block+'$'))!==-1;},isIPv6Address:function(address,allowBlock){if(typeof address!=='string'){return false;}var block=allowBlock?'(?:\\/(?:12[0-8]|1[01][0-9]|[1-9]?\\d))?':'',RE_IPV6_ADD='(?:'+':(?::|(?::'+'[0-9A-Fa-f]{1,4}'+'){1,7})'+'|'+'[0-9A-Fa-f]{1,4}'+'(?::'+'[0-9A-Fa-f]{1,4}'+'){0,6}::'+'|'+'[0-9A-Fa-f]{1,4}'+'(?::'+'[0-9A-Fa-f]{1,4}'+'){7}'+')';if(address.search(new RegExp('^'+RE_IPV6_ADD+block+'$'))!==-1){return true;}RE_IPV6_ADD='[0-9A-Fa-f]{1,4}'+'(?:::?'+'[0-9A-Fa-f]{1,4}'+'){1,6}';return address.search(new RegExp('^'+RE_IPV6_ADD+block+'$'))!==-1&&address.search(/::/)!==-1&&address.search(/::.*::/)===-1;}};mw.util=util;})(jQuery,mediaWiki);;},{},{"showtoc":"[showtoc]","hidetoc":"[hidetoc]"});mw.loader.implement("mediawiki.util.tmpl",function($){(function($,mw){"use strict";var cache={};mw.util.tmpl=function(str,data){data=data||{};var fn=!/\W/.test(str)?cache[str]=cache[str]||this.tmpl(str):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};"+"with(obj){p.push('"+str.replace(/[\r\t\n]/g," ").replace(/'(?=[^%]*%>)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/<%=(.+?)%>/g,"',$1,'").split("<%").join("');").split("%>").join("p.push('")+"');}return p.join('');");return data?fn(data):fn;};})(jQuery,mediaWiki);;},{},{});mw.loader.implement("mw.AkamaiMediaAnalytics",function($){(function(mw,$){"use strict";mw.AkamaiMediaAnalytics=function(embedPlayer,callback){return this.init(embedPlayer,callback);}
	mw.AkamaiMediaAnalytics.prototype={bindPostFix:'.akamaiMediaAnalytics',defaultConfigPath:'http://ma193-r.analytics.edgesuite.net/config/beacon-3431.xml?beaconSentNotify=1',defaultConfigPathHTTPS:'https://ma193-r.analytics.edgekey.net/config/beacon-3898.xml?beaconSentNotify=1',defaultJS:'http://79423.analytics.edgesuite.net/html5/akamaihtml5-min.js',defaultJSHTTPS:'https://79423.analytics.edgekey.net/html5/akamaihtml5-min.js',defaultSWF:'http://79423.analytics.edgesuite.net/csma/plugin/csma.swf',defaultSWFHTTPS:'https://79423.analytics.edgekey.net/csma/plugin/csma.swf',init:function(embedPlayer,callback){var _this=this;this.embedPlayer=embedPlayer;this.embedPlayer.unbindHelper(_this.bindPostFix);this.embedPlayer.bindHelper('PlayerLoaded'+_this.bindPostFix,function(){if(embedPlayer.selectedPlayer.library=='Kplayer'){_this.sendDataToKPlayer(embedPlayer);}else{if(typeof setAkamaiMediaAnalyticsData=='function'){_this.setData(embedPlayer);}else{var jsSrc=_this.defaultJS;if(_this.isHttps()){jsSrc=_this.defaultJSHTTPS;}kWidget.appendScriptUrl(jsSrc,function(){_this.setData(embedPlayer);},window.document);}}});var configPath=_this.getConfigPath();window.AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH=configPath;if(mw.getConfig('EmbedPlayer.IsFriendlyIframe')){try{window.parent.AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH=configPath;}catch(e){}}var swfPath=_this.getConfig('swfPath')||_this.defaultSWF;var securedSwfPath=_this.getConfig('securedSwfPath')||_this.defaultSWFHTTPS;var configPath=_this.getConfig('configPath')||_this.defaultConfigPath;var securedConfigPath=_this.getConfig('securedConfigPath')||_this.defaultConfigPathHTTPS;var kdpVars=embedPlayer.getKalturaConfig('kdpVars',null)||{};kdpVars.akamaiMediaAnalytics={plugin:'true',asyncInit:'true',secured:_this.isHttps(),configPath:configPath,securedConfigPath:securedConfigPath,swfPath:swfPath,securedSwfPath:securedSwfPath}
		embedPlayer.setKalturaConfig('kdpVars',kdpVars);callback();},getAkamaiDataObject:function(embedPlayer){var flavorSrc=embedPlayer.getSource();var flavorURL='';if(flavorSrc){flavorURL=flavorSrc.src;}var startIndex=flavorURL.indexOf('/flavorId/')+10;var flavorId=flavorURL.substr(startIndex,flavorURL.indexOf('/format/')-startIndex);var dataObject={'publisherId':embedPlayer.kpartnerid,'title':this.getConfig('title')||embedPlayer.kentryid,'playerId':this.getConfig('playerId')||embedPlayer.kuiconfid,'flavorId':flavorId,'playerVersion':MWEMBED_VERSION,'category':this.getConfig('category')||this.getMediaTypeName(),'contentLength':embedPlayer.evaluate('{mediaProxy.entry.msDuration}'),'device':navigator.platform,'deliveryType':'O'}
		if(embedPlayer.isLive()){dataObject.deliveryType='L';}this.setDataIfExsits('subCategory',dataObject);this.setDataIfExsits('eventName',dataObject);return dataObject;},setData:function(embedPlayer){var _this=this;var dataObject=this.getAkamaiDataObject(embedPlayer);$.each(dataObject,function(key,element){_this.sendAkamaiData(key,element);});this.doOnPlayerLoadReady(embedPlayer,function(){_this.sendAkamaiData('playerLoadtime',embedPlayer.evaluate('{playerStatusProxy.loadTime}'));});},doOnPlayerLoadReady:function(embedPlayer,callback){if(embedPlayer.evaluate('{playerStatusProxy.loadTime}')){callback();}else{embedPlayer.bindHelper('playerReady',function(){setTimeout(function(){callback();},0);});}},sendDataToKPlayer:function(embedPlayer){var dataObject=this.getAkamaiDataObject(embedPlayer);this.doOnPlayerLoadReady(embedPlayer,function(){dataObject['playerLoadtime']=embedPlayer.evaluate('{playerStatusProxy.loadTime}');embedPlayer.getPlayerElement().sendNotification('setMediaAnalyticsData',dataObject);});},sendAkamaiData:function(eventId,data){setAkamaiMediaAnalyticsData(eventId,data);if(this.getConfig('trackEventMonitor')){try{window.parent[this.getConfig('trackEventMonitor')](eventId,data);}catch(e){}}},getConfigPath:function(){var configPath=null;if(this.getConfig('configPath')){configPath=this.getConfig('configPath');}if(this.isHttps()){if(configPath&&(configPath.indexOf('https')!=-1)){return configPath;}return this.defaultConfigPathHTTPS;}if(configPath){return configPath;}return this.defaultConfigPath;},getConfig:function(attr){return this.embedPlayer.getKalturaConfig('akamaiMediaAnalytics',attr);},setDataIfExsits:function(attr,obj){var attrVal=this.getConfig(attr);if(attrVal!==null)obj[attr]=attrVal;},getMediaTypeName:function(){switch(this.embedPlayer.evaluate('{mediaProxy.entry.mediaType}')){case 2:return'Image';break;case 5:return'Audio';break;case 201:return'Live_Stream_Flash';break;case 202:return'Live_Stream_Windows_Media';break;case 203:return'Live_Stream_Real_Media';break;case 204:return'Live_Stream_Quicktime';break;}return'Video';},isHttps:function(){return(document.location.protocol=='https:');}};})(window.mw,window.jQuery);;},{},{});mw.loader.implement("mw.EmbedPlayer",function($){(function(mw,$){"use strict";mw.processEmbedPlayers=function(playerSelect,callback){mw.log('processEmbedPlayers:: playerSelector: '+playerSelect);$(mw).trigger('ProcessEmbedPlayers',[playerSelect]);var playerIdList=[];var areSelectedPlayersReady=function(){var playersLoaded=true;$.each(playerIdList,function(inx,playerId){if(!$('#'+playerId)[0].playerReadyFlag){playersLoaded=false;return false;}})
	if(playersLoaded){if(callback){callback();}}}
	var addPlayerElement=function(playerElement){var _this=this;mw.log('EmbedPlayer:: addElement:: '+playerElement.id);if(playerElement.pause){playerElement.pause();}$(mw).trigger('EmbedPlayerWaitForMetaCheck',playerElement);var waitForMeta=false;if(playerElement.waitForMeta!==false){waitForMeta=waitForMetaCheck(playerElement);}var ranPlayerSwapFlag=false;var runPlayerSwap=function(){if(ranPlayerSwapFlag){return;}ranPlayerSwapFlag=true;mw.log("processEmbedPlayers::runPlayerSwap::"+$(playerElement).attr('id'));var playerInterface=new mw.EmbedPlayer(playerElement);var inDomPlayer=swapEmbedPlayerElement(playerElement,playerInterface);mw.log("processEmbedPlayers::trigger:: EmbedPlayerNewPlayer "+inDomPlayer.id);$(mw).trigger('EmbedPlayerNewPlayer',inDomPlayer);$(mw).trigger('newEmbedPlayerEvent',inDomPlayer);$(inDomPlayer).bind('playerReady',areSelectedPlayersReady);mw.log("EmbedPlayer::addPlayerElement :trigger startPlayerBuildOut:"+inDomPlayer.id);$('#'+inDomPlayer.id).triggerQueueCallback('startPlayerBuildOut',function(){inDomPlayer.checkPlayerSources();});};if(waitForMeta&&mw.getConfig('EmbedPlayer.WaitForMeta')){mw.log('processEmbedPlayers::WaitForMeta ( video missing height ('+$(playerElement).attr('height')+'), width ('+$(playerElement).attr('width')+') or duration: '+$(playerElement).attr('duration'));$(playerElement).bind("loadedmetadata",runPlayerSwap);setTimeout(runPlayerSwap,5000);return;}else{runPlayerSwap();return;}};var waitForMetaCheck=function(playerElement){var waitForMeta=false;if(!playerElement){return false;}if(!playerElement.tagName||(playerElement.tagName.toLowerCase()!='audio'&&playerElement.tagName.toLowerCase()!='video')){return false;}if(!mw.EmbedTypes.getMediaPlayers().isSupportedPlayer('oggNative')&&!mw.EmbedTypes.getMediaPlayers().isSupportedPlayer('webmNative')&&!mw.EmbedTypes.getMediaPlayers().isSupportedPlayer('h264Native')&&!mw.EmbedTypes.getMediaPlayers().isSupportedPlayer('appleVdnPlayer')){return false;}var width=$(playerElement).css('width');var height=$(playerElement).css('height');if($(playerElement).css('width')=='300px'&&$(playerElement).css('height')=='150px'){waitForMeta=true;}else{if($(playerElement).attr('duration')||$(playerElement).attr('durationHint')||$(playerElement).attr('data-durationhint')){return false;}else{waitForMeta=true;}}if($(playerElement).attr('width')==-1||$(playerElement).attr('height')==-1){waitForMeta=true;}if($(playerElement).attr('width')===0||$(playerElement).attr('height')===0){waitForMeta=true;}if(playerElement.height==150&&playerElement.width==300){waitForMeta=true;}if(waitForMeta&&($(playerElement).attr('src')||$(playerElement).find("source[src]").length!==0)){return true;}else{return false;}};var swapEmbedPlayerElement=function(targetElement,playerInterface){mw.log('processEmbedPlayers::swapEmbedPlayerElement: '+targetElement.id);var swapPlayerElement=document.createElement('div');$(swapPlayerElement).addClass('mwEmbedPlayer');for(var method in playerInterface){if(method!='readyState'){swapPlayerElement[method]=playerInterface[method];}}if($(targetElement).attr('width')){$(swapPlayerElement).css('width',$(targetElement).attr('width'));}if($(targetElement).attr('height')){$(swapPlayerElement).css('height',$(targetElement).attr('height'));}swapPlayerElement.style.cssText+=targetElement.style.cssText;swapPlayerElement.style.position='relative';var dataAttributes=mw.getConfig("EmbedPlayer.DataAttributes");if(dataAttributes){$.each(dataAttributes,function(attrName,na){if($(targetElement).data(attrName)){$(swapPlayerElement).data(attrName,$(targetElement).data(attrName));}});}if((playerInterface.isPersistentNativePlayer()&&!mw.getConfig('EmbedPlayer.DisableVideoTagSupport'))||(playerInterface.useNativePlayerControls()&&(targetElement.nodeName=='video'||targetElement.nodeName=='audio'))){$(targetElement).attr('id',playerInterface.pid).addClass('nativeEmbedPlayerPid').show().after($(swapPlayerElement).css('display','none'));}else{$(targetElement).replaceWith(swapPlayerElement);}if($('#loadingSpinner_'+playerInterface.id).length==0){if(playerInterface.useNativePlayerControls()||playerInterface.isPersistentNativePlayer()){var $spinner=$(targetElement).getAbsoluteOverlaySpinner();}else{var $spinner=$(swapPlayerElement).getAbsoluteOverlaySpinner();}$spinner.attr('id','loadingSpinner_'+playerInterface.id);}return swapPlayerElement;};$(playerSelect).each(function(index,playerElement){playerIdList.push($(playerElement).attr("id"));if(playerElement.nodeName.toLowerCase()=='div'&&$(playerElement).attr('poster')){var posterSrc=$(playerElement).attr('poster');var width=$(playerElement).width();var height=$(playerElement).height();if(!width){var width='100%';}if(!height){var height='100%';}mw.log('EmbedPlayer:: set loading background: '+posterSrc);$(playerElement).append($('<img />').attr('src',posterSrc).css({'position':'absolute','width':width,'height':height}));}});var addedPlayersFlag=false;$(playerSelect).each(function(index,playerElement){if($(playerElement).hasClass('nativeEmbedPlayerPid')){$('#loadingSpinner_'+$(playerElement).attr('id')).remove();mw.log('processEmbedPlayers::$.embedPlayer skip embedPlayer gennerated video: '+playerElement);}else{addedPlayersFlag=true;addPlayerElement(playerElement);}});if(!addedPlayersFlag){if(callback){callback();}}};})(window.mw,jQuery);(function(mw,$){"use strict";mw.mergeConfig('EmbedPlayer.Attributes',{"id":null,"width":null,"height":null,"src":null,"poster":null,"autoplay":false,"loop":false,"controls":true,"paused":true,"readyState":0,"networkState":0,"currentTime":0,"previousTime":0,"previousVolume":1,"volume":1,"preMuteVolume":1,"duration":null,'data-durationhint':null,'durationHint':null,"muted":false,"isFlavorSwitching":false,'videoAspect':'4:3',"start":0,"end":null,"overlaycontrols":true,"usenativecontrols":false,'attributionbutton':true,'playerError':{},'data-blockPlayerDisplay':null,"startOffset":0,"downloadLink":true,"type":null,"adsOnReplay":false,"live":false,"isAudioPlayer":false,"enableTooltips":true,"sourcesReplaced":false,"streamerType":'http',"shouldEndClip":false,"buffering":false});mw.mergeConfig('EmbedPlayer.SourceAttributes',['id','src','title','label','URLTimeEncoding','startOffset','start','end','default','title','titleKey']);mw.EmbedPlayer=function(element){return this.init(element);};mw.EmbedPlayer.prototype={'plugins':{},'mediaElement':null,'supports':{},'playerReadyFlag':false,'loadError':false,'thumbnailUpdatingFlag':false,'stopped':true,'cmmlData':null,'serverSeekTime':0,'seeking':false,'bufferedPercent':0,'monitorTimerId':null,'bufferStartFlag':false,'bufferEndFlag':false,'pauseTime':null,'donePlayingCount':0,'_propagateEvents':true,'onDoneInterfaceFlag':true,'_checkHideSpinner':false,'_playContorls':true,'displayPlayer':true,'widgetLoaded':false,currentState:null,playbackRate:false,init:function(element){var _this=this;var playerAttributes=mw.getConfig('EmbedPlayer.Attributes');this.rewriteElementTagName=element.tagName.toLowerCase();for(var attr in playerAttributes){if(element.getAttribute(attr)!=null){if(element.getAttribute(attr)==''){this[attr]=true;}else{this[attr]=element.getAttribute(attr);}}else{this[attr]=playerAttributes[attr];}if(this[attr]=="false")this[attr]=false;if(this[attr]=="true")this[attr]=true;}if(!this.width){this.width=$(element).width()
	$(element).attr('width',this.width)}if(!this.height){this.height=$(element).height()
	$(element).attr('height',this.height)}if(this.useNativePlayerControls()){_this.controls=true;}if(!this.skinName){this.skinName=mw.getConfig('EmbedPlayer.DefaultSkin');}if(!this.monitorRate){this.monitorRate=mw.getConfig('EmbedPlayer.MonitorRate');}this.startOffset=parseFloat(this.startOffset);if(element.duration){_this.duration=element.duration;}if(_this['data-durationhint']){_this.durationHint=_this['data-durationhint'];}if(_this.durationHint&&!_this.duration){_this.duration=mw.npt2seconds(_this.durationHint);}this.duration=parseFloat(this.duration);mw.log('EmbedPlayer::init:'+this.id+' duration is: '+this.duration+', size: '+$(element).width()+'x'+$(element).height());this.pid='pid_'+this.id;this.mediaElement=new mw.MediaElement(element);},bindHelper:function(name,callback){$(this).bind(name,callback);return this;},unbindHelper:function(bindName){if(bindName){$(this).unbind(bindName);}return this;},triggerQueueCallback:function(name,callback){$(this).triggerQueueCallback(name,callback);},triggerHelper:function(name,obj){try{$(this).trigger(name,obj);}catch(e){mw.log("EmbedPlayer:: possible error in trigger: "+name+" "+e.toString());}},addPlayerStateChangeBindings:function(){var _this=this;var bindPostfix='.stateManager';var getStatesCssClasses=function(){var classes='';var states=['start','load','play','pause','end'];$.each(states,function(idx,state){var space=(states.length-1==idx)?'':' ';classes+=state+'-state'+space;});return classes;};var eventStateMap={'playerReady':'start','onplay':'load','playing':'play','onPauseInterfaceUpdate':'pause','onEndedDone':'end','preSeek':'load','seeked':function(){return _this.isPlaying()?'play':'pause';}};var doChangeState=function(newState){if(newState!==_this.currentState){var oldState=_this.currentState;_this.currentState=newState;_this.getInterface().removeClass(getStatesCssClasses()).addClass(newState+'-state');$(_this).trigger('onPlayerStateChange',[newState,oldState]);}};this.unbindHelper(bindPostfix);$.each(eventStateMap,function(eventName,state){_this.bindHelper(eventName+bindPostfix,function(){var stateString=(typeof state==='function')?state():state;doChangeState(stateString);});});if(!this.currentState){doChangeState('load');}},stopEventPropagation:function(){mw.log("EmbedPlayer:: stopEventPropagation");this.stopMonitor();this._propagateEvents=false;},restoreEventPropagation:function(){mw.log("EmbedPlayer:: restoreEventPropagation");this.startMonitor();this._propagateEvents=true;},getPluginInstance:function(pluginName){if(!this.plugins[pluginName]){mw.log('EmbedPlayer:: getPluginInstance: plugin "'+pluginName+'" not initialsed.');return;}return this.plugins[pluginName];},enableNativeControls:function(){mw.log('Error: function enableNativeControls should be implemented by embed player interface ');return;},enablePlayControls:function(excludedComponents){if(this._playContorls||this.useNativePlayerControls()){return;}mw.log("EmbedPlayer:: enablePlayControls");excludedComponents=excludedComponents||[];this._playContorls=true;$(this).trigger('onEnableInterfaceComponents',[excludedComponents]);},disablePlayControls:function(excludedComponents){if(!this._playContorls||this.useNativePlayerControls()){return;}mw.log("EmbedPlayer:: disablePlayControls");excludedComponents=excludedComponents||[];this._playContorls=false;$(this).trigger('onDisableInterfaceComponents',[excludedComponents]);},updateFeatureSupport:function(){mw.log("EmbedPlayer::updateFeatureSupport trigger: updateFeatureSupportEvent");$(this).trigger('updateFeatureSupportEvent',this.supports);return;},applyIntrinsicAspect:function(){var $img=this.getInterface().find('.playerPoster');if($img.length){var pHeight=this.getVideoDisplay().height();var pWidth=parseInt($img.naturalWidth()/$img.naturalHeight()*pHeight);var pClass='fill-height';if(pWidth>this.getVideoDisplay().width()){pClass='fill-width';}$img.removeClass('fill-width fill-height').addClass(pClass);if(this.getFlashvars("stretchVideo")===true){$img.removeClass(pClass).addClass('fill-width fill-height');}}},loadPlayerSize:function(element){this.height=element.height>0?element.height+'':$(element).css('height');this.width=element.width>0?element.width+'':$(element).css('width');if(this.height=='32px'||this.height=='32px'){this.width='100%';this.height='100%';}mw.log('EmbedPlayer::loadPlayerSize: css size:'+this.width+' h: '+this.height);if(this.height.indexOf('100%')!=-1||this.width.indexOf('100%')!=-1){var $relativeParent=$(element).parents().filter(function(){return $(this).is('body')||$(this).css('position')=='relative';}).slice(0,1);this.width=$relativeParent.width();this.height=$relativeParent.height();}this.height=parseInt(this.height);this.width=parseInt(this.width);this.height=(this.height==0||isNaN(this.height)&&$(element).attr('height'))?parseInt($(element).attr('height')):this.height;this.width=(this.width==0||isNaN(this.width)&&$(element).attr('width'))?parseInt($(element).attr('width')):this.width;if(this.isAudio()&&this.height=='32'){this.height=20;}if(this.isAudio()&&this.videoAspect){var aspect=this.videoAspect.split(':');if(this.height&&!this.width){this.width=parseInt(this.height*(aspect[0]/aspect[1]));}if(this.width&&!this.height){var apectRatio=(aspect[1]/aspect[0]);this.height=parseInt(this.width*(aspect[1]/aspect[0]));}}if((isNaN(this.height)||isNaN(this.width))||(this.height==-1||this.width==-1)||((this.height==150||this.height==64)&&this.width==300)){var defaultSize=mw.getConfig('EmbedPlayer.DefaultSize').split('x');if(isNaN(this.width)){this.width=defaultSize[0];}if(this.isAudio()){this.height=20;}else{this.height=defaultSize[1];}}},getPlayerWidth:function(){if(mw.getConfig('EmbedPlayer.IsIframeServer')){return $(window).width();}return this.getVideoHolder().width();},getPlayerHeight:function(){return this.getVideoHolder().height();},checkPlayerSources:function(){mw.log('EmbedPlayer::checkPlayerSources: '+this.id);var _this=this;$(_this).trigger('preCheckPlayerSources');$(_this).triggerQueueCallback('checkPlayerSourcesEvent',function(){_this.setupSourcePlayer();});},getTextTracks:function(){if(!this.mediaElement){return[];}return this.mediaElement.getTextTracks();},emptySources:function(){if(this.mediaElement){this.mediaElement.sources=[];this.mediaElement.selectedSource=null;}this.prevPlayer=this.selectedPlayer;},getPlayerByStreamerType:function(source){var targetPlayer;if(!mw.getConfig('EmbedPlayer.IgnoreStreamerType')&&!this.isImageSource()&&this.streamerType!='http'&&mw.EmbedTypes.getMediaPlayers().isSupportedPlayer('kplayer')){targetPlayer=mw.EmbedTypes.getKplayer();}else{targetPlayer=mw.EmbedTypes.getMediaPlayers().defaultPlayer(source.mimeType);}return targetPlayer;},isImageSource:function(){return(this.mediaElement.selectedSource.getMIMEType().indexOf("image")==0)},switchPlaySource:function(source,switchCallback,doneCallback){var _this=this;var targetPlayer=this.getPlayerByStreamerType(source);if(targetPlayer.library!=this.selectedPlayer.library){this.selectPlayer(targetPlayer);this.updatePlaybackInterface(function(){_this.playerSwitchSource(source,switchCallback,doneCallback);});}else{_this.playerSwitchSource(source,switchCallback,doneCallback);}},playerSwitchSource:function(source,switchCallback,doneCallback){mw.log("Error player interface must support actual source switch");},replaceSources:function(sources){var _this=this;this.emptySources();$.each(sources,function(inx,source){_this.mediaElement.tryAddSource(source);});$(this).trigger('sourcesReplaced');},disablePlayer:function(){mw.log("Error player interface must support actual disablePlayer");},setupSourcePlayer:function(){var _this=this;mw.log("EmbedPlayer::setupSourcePlayer: "+this.id+' sources: '+this.mediaElement.sources.length);this.addPlayerStateChangeBindings();if(mw.getConfig('EmbedPlayer.ReplaceSources')){this.replaceSources(mw.getConfig('EmbedPlayer.ReplaceSources'));this.sourcesReplaced=true;mw.setConfig('EmbedPlayer.ReplaceSources',null);}else{this.sourcesReplaced=false;}this.mediaElement.autoSelectSource();if(this.mediaElement.selectedSource){if(this.isImageSource()){mw.setConfig('EmbedPlayer.ForceNativeComponent',false);}var targetPlayer=this.getPlayerByStreamerType(this.mediaElement.selectedSource);this.selectPlayer(targetPlayer);if(this.selectedPlayer&&(!this.prevPlayer||this.prevPlayer.library!=this.selectedPlayer.library)){this.disablePlayer();this.updatePlaybackInterface();return;}}if(!this.selectedPlayer||!this.mediaElement.selectedSource){var errorObj;if(!mw.isMobileDevice()&&!mw.EmbedTypes.getMediaPlayers().isSupportedPlayer('splayer')){$.each(this.mediaElement.sources,function(currentIndex,currentSource){if(currentSource.getFlavorId()=="ism"){errorObj=_this.getKalturaMsgObject('mwe-embedplayer-install-silverlight');return;}});}if(!errorObj){this.showPlayerError();}else{this.showErrorMsg(errorObj);}mw.log("EmbedPlayer:: setupSourcePlayer > player ready ( but with errors ) ");}else{$(this).trigger('layoutReady');}this.playerReadyFlag=true;$(this).trigger('playerReady');this.triggerWidgetLoaded();},updatePlaybackInterface:function(callback){var _this=this;mw.log("EmbedPlayer::updatePlaybackInterface: duration is: "+this.getDuration()+' playerId: '+this.id);if(this.instanceOf){$(this).data('previousInstanceOf',this.instanceOf);var tmpObj=mw['EmbedPlayer'+this.instanceOf];var attributes=mw.getConfig('EmbedPlayer.Attributes');for(var i in tmpObj){if(i in attributes){continue;}if(typeof this['parent_'+i]!='undefined'){this[i]=this['parent_'+i];}else{this[i]=null;}}}this.selectedPlayer.load(function(){mw.log('EmbedPlayer::updatePlaybackInterface: loaded '+_this.selectedPlayer.library+' duration: '+_this.getDuration());_this.updateLoadedPlayerInterface(callback);$(_this).trigger('PlayerLoaded');});},updateLoadedPlayerInterface:function(callback){var _this=this;mw.log('EmbedPlayer::updateLoadedPlayerInterface '+_this.selectedPlayer.library+" player loaded for: "+_this.id);var playerInterface=mw['EmbedPlayer'+_this.selectedPlayer.library];if(playerInterface.init){playerInterface.init();}for(var method in playerInterface){if(typeof _this[method]!='undefined'&&!_this['parent_'+method]){_this['parent_'+method]=_this[method];}_this[method]=playerInterface[method];}var runPlayerStartupMethods=function(){_this.updateFeatureSupport();_this.embedPlayerHTML();_this.getDuration();_this.showPlayer();if($.isFunction(callback)){callback();}};if(_this.setup){_this.setup(runPlayerStartupMethods);}else{runPlayerStartupMethods();}},selectPlayer:function(player){mw.log("EmbedPlayer:: selectPlayer "+player.id);var _this=this;if(!this.selectedPlayer||this.selectedPlayer.id!=player.id){if(this.selectedPlayer){this.clean();}this.selectedPlayer=player;}},clean:function(){},getDuration:function(){if(isNaN(this.duration)&&this.mediaElement&&this.mediaElement.selectedSource&&typeof this.mediaElement.selectedSource.durationHint!='undefined'){this.duration=this.mediaElement.selectedSource.durationHint;}return this.duration;},getHeight:function(){return this.getInterface().height();},getWidth:function(){return this.getInterface().width();},isAudio:function(){return(this.rewriteElementTagName=='audio'||(this.mediaElement&&this.mediaElement.selectedSource&&this.mediaElement.selectedSource.mimeType.indexOf('audio/')!==-1)||this.isAudioPlayer);},embedPlayerHTML:function(){return'Error: function embedPlayerHTML should be implemented by embed player interface ';},seek:function(percent,stopAfterSeek){var _this=this;this.seeking=true;$(this).trigger('preSeek',percent);if(percent<0){percent=0;}if(percent>1){percent=1;}this.updatePlayHead(percent);if(this.supportsURLTimeEncoding()){mw.log('EmbedPlayer::seek:: updated serverSeekTime: '+mw.seconds2npt(this.serverSeekTime)+' currentTime: '+_this.currentTime);if(_this.currentTime==_this.serverSeekTime){return;}this.stop();this.didSeekJump=true;this.serverSeekTime=mw.npt2seconds(this.startNpt)+parseFloat(percent*this.getDuration());}this.layoutBuilder.onSeek();},setCurrentTime:function(time,callback){mw.log('Error: EmbedPlayer, setCurrentTime not overriden');if($.isFunction(callback)){callback();}},setDuration:function(newDuration){this.duration=newDuration;$(this).trigger('durationChange',[newDuration]);},triggeredEndDone:false,postSequenceFlag:false,onClipDone:function(){var _this=this;this.shouldEndClip=false;if(!_this._propagateEvents){return;}mw.log('EmbedPlayer::onClipDone: propagate:'+_this._propagateEvents+' id:'+this.id+' doneCount:'+this.donePlayingCount+' stop state:'+this.isStopped());if(!this.isStopped()){this.stopped=true;if(!this.onDoneInterfaceFlag){this.stopEventPropagation();}mw.log("EmbedPlayer:: trigger: ended ( inteface continue pre-check: "+this.onDoneInterfaceFlag+' )');$(this).trigger('ended');mw.log("EmbedPlayer::onClipDone:Trigged ended, continue? "+this.onDoneInterfaceFlag);if(!this.onDoneInterfaceFlag){this.restoreEventPropagation();return;}if(this.onDoneInterfaceFlag){mw.log("EmbedPlayer:: trigger: playbackComplete");$(this).trigger('playbackComplete');mw.log("EmbedPlayer:: trigger: postEnded");$(this).trigger('postEnded');}if(this.onDoneInterfaceFlag){mw.log("EmbedPlayer::onDoneInterfaceFlag=true do interface done");_this.donePlayingCount++;if(_this.loop){this.stopEventPropagation();var startTime=0.01;if(this.startOffset){startTime=this.startOffset;}this.setCurrentTime(startTime,function(){_this.stop();mw.log("EmbedPlayer::onClipDone:Restore events after we rewind the player");_this.restoreEventPropagation();if(_this.streamerType=='hdnetwork'){setTimeout(function(){_this.play();},100);}else{_this.play();}return;});}else{_this.stop();mw.log("EmbedPlayer:: trigger: onEndedDone");if(!_this.triggeredEndDone){_this.triggeredEndDone=true;_this.ignoreNextNativeEvent=true;$(_this).trigger('onEndedDone');}}}}if(this.getFlashvars("EmbedPlayer.ShowPosterOnStop")!==false&&!this.loop){this.updatePosterHTML();}},replay:function(){var _this=this;var startTime=0.01;setTimeout(function(){if(_this.startOffset){startTime=_this.startOffset;}_this.stopEventPropagation();_this.setCurrentTime(startTime,function(){mw.log("EmbedPlayer::onClipDone:Restore events after we rewind the player");_this.restoreEventPropagation();_this.play();return;});},10);},showThumbnail:function(){var _this=this;mw.log('EmbedPlayer::showThumbnail::'+this.stopped);this.layoutBuilder.closeMenuOverlay();this.updatePosterHTML();this.paused=true;this.stopped=true;this.layoutBuilder.addControlBindings();if(!this.useNativePlayerControls()){mw.log("mediaLoaded");$(this).trigger('mediaLoaded');}},addControls:function(){if(this.controls){this.layoutBuilder.addControls();}},showPlayer:function(){mw.log('EmbedPlayer:: showPlayer: '+this.id+' interace: w:'+this.width+' h:'+this.height);var _this=this;this.hideSpinner();if(!this.useNativePlayerControls()&&this.isPersistentNativePlayer()){$(this).show();}this.addControls();this.updatePosterHTML();if(this.displayPlayer===false){_this.getVideoHolder().hide();_this.getInterface().height(_this.layoutBuilder.getComponentsHeight());}this.doUpdateLayout();this.playerReadyFlag=true;mw.log("EmbedPlayer:: Trigger: playerReady");$(this).trigger('playerReady');this.triggerWidgetLoaded();if(this['data-blockPlayerDisplay']){this.blockPlayerDisplay();return;}if(this.getError()){this.showErrorMsg(this.getError());return;}if(this.isStopped()&&this.autoplay&&this.canAutoPlay()){mw.log('EmbedPlayer::showPlayer::Do autoPlay');_this.play();}},canAutoPlay:function(){return false;},doUpdateLayout:function(skipTrigger){var containerHeight=this.getInterface().height();var newHeight=containerHeight-this.layoutBuilder.getComponentsHeight();var currentHeight=this.getVideoHolder().height();var deltaHeight=Math.abs(currentHeight-newHeight);mw.log('EmbedPlayer: doUpdateLayout:: containerHeight: '+containerHeight+', components: '+this.layoutBuilder.getComponentsHeight()+', videoHolder old height: '+currentHeight+', new height: '+newHeight+' hight delta: '+deltaHeight);if(currentHeight!==newHeight&&deltaHeight>1){this.getVideoHolder().height(newHeight);}if(this.isStopped()&&!(this.sequenceProxy&&this.sequenceProxy.isInSequence)){this.updatePosterHTML();}if(!skipTrigger&&deltaHeight!=1){mw.log('EmbedPlayer: updateLayout: trigger "updateLayout" ');this.triggerHelper('updateLayout');}},getInterface:function(){if(!this.$interface){var _this=this;this.layoutBuilder=new mw.PlayerLayoutBuilder(this);this.$interface=this.layoutBuilder.getInterface();if(mw.getConfig('EmbedPlayer.IsIframeServer')){$(window).off("debouncedresize").on("debouncedresize",function(){mw.log('debouncedresize:: call doUpdateLayout');_this.doUpdateLayout();});}}return this.$interface;},updateInterfaceSize:function(size){var oldH=this.getInterface().height();var oldW=this.getInterface().width();if(size.width!=oldW||size.height!=oldH){this.getInterface().css(size);this.doUpdateLayout(true);}},setError:function(errorObj){var _this=this;if(typeof errorObj=='string'){this.playerError={'title':_this.getKalturaMsg('ks-GENERIC_ERROR_TITLE'),'message':errorObj}
	return;}this.playerError=errorObj;},getError:function(){if(!$.isEmptyObject(this.playerError)){return this.playerError;}return null;},showErrorMsg:function(errorObj){this.hideSpinner();this.changeMediaStarted=false;if(this.layoutBuilder){if(mw.getConfig("EmbedPlayer.ShowPlayerAlerts")){var alertObj=$.extend(errorObj,{'isModal':true,'keepOverlay':true,'noButtons':true,'isError':true});this.layoutBuilder.displayAlert(alertObj);}}return;},blockPlayerDisplay:function(){this.getInterface().find('.error').hide();},showPlayerError:function(){var _this=this;var $this=$(this);mw.log("EmbedPlayer::showPlayerError");this.hideSpinner();$this.trigger('mediaLoadError');$this.trigger('mediaError');if(this['data-blockPlayerDisplay']){this.blockPlayerDisplay();return;}if(this.getError()){this.showErrorMsg(this.getError());return;}this.showNoInlinePlabackSupport();},isLinkPlayerFlag:false,isLinkPlayer:function(){return this.isLinkPlayerFlag;},showNoInlinePlabackSupport:function(){var _this=this;var $this=$(this);if(this.mediaElement.sources.length==0||!mw.getConfig('EmbedPlayer.NotPlayableDownloadLink')){if(this.kentryid){this.showNoPlayableSources();}else if(this.getFlashvars().referenceId){this.showWrongReferenceIdMessege();}return;}this.isLinkPlayerFlag=true;this.updatePosterHTML();this.addControls();var downloadUrl=this.mediaElement.sources[0].getSrc();this.triggerHelper('directDownloadLink',function(dlUrl){if(dlUrl){downloadUrl=dlUrl;}});$(this).trigger('showInlineDownloadLink',[downloadUrl]);},showNoPlayableSources:function(){var $this=$(this);var errorObj=this.getKalturaMsgObject('mwe-embedplayer-missing-source');$this.trigger('NoSourcesCustomError',function(customErrorMsg){if(customErrorMsg){errorObj.message=customErrorMsg;}});this.setError(errorObj);this.showErrorMsg(errorObj);return;},showWrongReferenceIdMessege:function(){var $this=$(this);var errorObj=this.getKalturaMsgObject('mwe-embedplayer-wrong-reference-id');$this.trigger('WrongReferenceIdCustomError',function(customErrorMsg){if(customErrorMsg){errorObj.message=customErrorMsg;}});this.setError(errorObj);this.showErrorMsg(errorObj);return;},updateThumbTimeNPT:function(time){this.updateThumbTime(mw.npt2seconds(time)-parseInt(this.startOffset));},updateThumbTime:function(floatSeconds){var _this=this;if(typeof this.orgThumSrc=='undefined'){this.orgThumSrc=this.poster;}if(this.orgThumSrc.indexOf('t=')!==-1){this.lastThumbUrl=mw.replaceUrlParams(this.orgThumSrc,{'t':mw.seconds2npt(floatSeconds+parseInt(this.startOffset))});if(!this.thumbnailUpdatingFlag){this.updatePoster(this.lastThumbUrl,false);this.lastThumbUrl=null;}}},updateThumbPerc:function(percent){return this.updateThumbTime((this.getDuration()*percent));},updatePoster:function(posterSrc,alt){if(!posterSrc){posterSrc=mw.getConfig('EmbedPlayer.BlackPixel');}this.poster=posterSrc;this.posterAlt=alt||gM('mwe-embedplayer-video-thumbnail');this.updatePosterHTML();},changeMedia:function(callback){var _this=this;var $this=$(this);mw.log('EmbedPlayer:: changeMedia ');this.emptySources();this.removePoster();$this.trigger('onChangeMedia');this.firstPlay=true;this.donePlayingCount=0;this.triggeredEndDone=false;this.preSequenceFlag=false;this.postSequenceFlag=false;this.pauseLoading();this.stopMonitor();this.resetPlaybackValues();this.setError(null);this['data-blockPlayerDisplay']=null;$this.attr('data-blockPlayerDisplay','');this.getInterface().find('.error').remove();this.layoutBuilder.closeAlert();this.layoutBuilder.closeMenuOverlay();var bindName='playerReady.changeMedia';$this.unbind(bindName).bind(bindName,function(){mw.log('EmbedPlayer::changeMedia playerReady callback');_this.hideSpinner();if(_this.getError()){_this.changeMediaStarted=false;if(_this.playlist){_this.playlist.enablePrevNext();_this.playlist.addClipBindings();_this.layoutBuilder.closeAlert();}_this.showErrorMsg(_this.getError());return;}var changeMediaDoneCallback=function(){_this.changeMediaStarted=false;if(_this.autoplay){_this.play();}$this.trigger('onChangeMediaDone');if(callback){callback();}};if($.isFunction(_this.changeMediaCallback)){_this.changeMediaCallback(changeMediaDoneCallback);}else{changeMediaDoneCallback();}});$this.triggerQueueCallback('checkPlayerSourcesEvent',function(){mw.log("EmbedPlayer::changeMedia:  Done with checkPlayerSourcesEvent");_this.setupSourcePlayer();});},isImagePlayScreen:function(){return(this.useNativePlayerControls()&&!this.isLinkPlayer()&&mw.isIphone()&&mw.getConfig('EmbedPlayer.iPhoneShowHTMLPlayScreen'));},isPlaylistScreen:function(){return!(typeof this.playlist=="undefined");},triggerWidgetLoaded:function(){if(!this.widgetLoaded){this.widgetLoaded=true;mw.log("EmbedPlayer:: Trigger: widgetLoaded");this.triggerHelper('widgetLoaded');}},addBlackScreen:function(){var posterSrc=mw.getConfig('EmbedPlayer.BlackPixel');var posterCss={'position':'absolute','height':'100%','width':'100%'};$(this).html($('<img />').css(posterCss).attr({'src':posterSrc}).addClass('blackPlayer')).show();},removeBlackScreen:function(){$(this).find('.blackPlayer').remove();},updatePosterHTML:function(){mw.log('EmbedPlayer:updatePosterHTML:'+this.id+' poster:'+this.poster);var _this=this;if(this.isImagePlayScreen()){this.addPlayScreenWithNativeOffScreen();return;}var posterSrc=this.poster;var posterCss={};if(!posterSrc){posterSrc=mw.getConfig('EmbedPlayer.BlackPixel');posterCss={'position':'absolute','height':'100%','width':'100%'};}$(this).empty();if(mw.getConfig('EmbedPlayer.HidePosterOnStart')===true){return;}if(mw.isIE8()||mw.isIE7()){$(this).addClass("mwEmbedPlayerTransparent");}$(this).html($('<img />').css(posterCss).attr({'alt':this.posterAlt,'src':this.poster}).addClass('playerPoster').load(function(){_this.applyIntrinsicAspect();})).show();},removePoster:function(){$(this).find('.playerPoster').remove();},addPlayScreenWithNativeOffScreen:function(){mw.log("Error: EmbedPlayer, Must override 'addPlayScreenWithNativeOffScreen' with player inteface");return;},useNativePlayerControls:function(){if(this.usenativecontrols===true){return true;}if(mw.getConfig('EmbedPlayer.NativeControls')===true){return true;}if(mw.getConfig("EmbedPlayer.ForceNativeComponent")){return false;}if((mw.isAndroidNativeBrowser()||mw.isIphone())){return true;}if(mw.isIpad()){if(this.isPersistentNativePlayer()&&mw.getConfig('EmbedPlayer.EnableIpadHTMLControls')===true){return false;}else{return true;}}return false;},isPersistentNativePlayer:function(){if(this.isLinkPlayer()){return false;}if($('#'+this.pid).length==0){return $('#'+this.id).hasClass('persistentNativePlayer');}return $('#'+this.pid).hasClass('persistentNativePlayer');},isOverlayControls:function(){if(!this.supports['overlays']){return false;}if(this.overlaycontrols===false){return false;}if(this.isAudio()){return false;}if(mw.getConfig('EmbedPlayer.OverlayControls')===false){return false;}if(this.controls===false){return false;}return true;},getVideoHolder:function(){return this.getInterface().find('.videoHolder');},getVideoDisplay:function(){return this.getInterface().find('.videoDisplay');},getNativePlayerHtml:function(){return $('<div />').css('width',this.getWidth()).html('Error: Trying to get native html5 player without native support for codec');},applyMediaElementBindings:function(){mw.log("Warning applyMediaElementBindings should be implemented by player interface");return;},getSharingEmbedCode:function(){switch(mw.getConfig('EmbedPlayer.ShareEmbedMode')){case'iframe':return this.getShareIframeObject();break;case'videojs':return this.getShareEmbedVideoJs();break;}},getShareIframeObject:function(){var iframeUrl=this.getIframeSourceUrl();var embedCode='&lt;iframe src=&quot;'+mw.html.escape(iframeUrl)+'&quot; ';embedCode+='width=&quot;'+this.getPlayerWidth()+'&quot; ';embedCode+='height=&quot;'+this.getPlayerHeight()+'&quot; ';embedCode+='allowfullscreen webkitallowfullscreen mozAllowFullScreen ';embedCode+='frameborder=&quot;0&quot; ';embedCode+='&gt;&lt/iframe&gt;';return embedCode;},getIframeSourceUrl:function(){var iframeUrl=false;this.triggerHelper('getShareIframeSrc',function(localIframeSrc){if(iframeUrl){mw.log("Error multiple modules binding getShareIframeSrc");}iframeUrl=localIframeSrc;});if(iframeUrl){return iframeUrl;}var iframeUrl=mw.getMwEmbedPath()+'mwEmbedFrame.php?';var params={'src[]':[]};for(var i=0;i<this.mediaElement.sources.length;i++){var source=this.mediaElement.sources[i];if(source.src){params['src[]'].push(mw.absoluteUrl(source.src));}}if(this.poster){params.poster=this.poster;}if(this.skinName){params.skin=this.skinName;}if(this.duration){params.durationHint=parseFloat(this.duration);}iframeUrl+=$.param(params);return iframeUrl;},getShareEmbedVideoJs:function(){var embedtag=(this.isAudio())?'audio':'video';var embedCode='&lt;script type=&quot;text/javascript&quot; '+'src=&quot;'+mw.html.escape(mw.absoluteUrl(mw.getMwEmbedSrc()))+'&quot;&gt;&lt;/script&gt'+'&lt;'+embedtag+' ';if(this.poster){embedCode+='poster=&quot;'+mw.html.escape(mw.absoluteUrl(this.poster))+'&quot; ';}if(this.skinName){embedCode+='class=&quot;'+mw.html.escape(this.skinName)+'&quot; ';}if(this.duration){embedCode+='durationHint=&quot;'+parseFloat(this.duration)+'&quot; ';}if(this.width||this.height){embedCode+='style=&quot;';embedCode+=(this.width)?'width:'+this.width+'px;':'';embedCode+=(this.height)?'height:'+this.height+'px;':'';embedCode+='&quot; ';}embedCode+='&gt;';for(var i=0;i<this.mediaElement.sources.length;i++){var source=this.mediaElement.sources[i];if(source.src){embedCode+='&lt;source src=&quot;'+mw.absoluteUrl(source.src)+'&quot; &gt;&lt;/source&gt;';}}embedCode+='&lt;/video&gt;';return embedCode;},isInSequence:function(){return(this.sequenceProxy&&this.sequenceProxy.isInSequence);},triggerPreSequence:function(){mw.log("EmbedPlayer:: trigger preSequence ");this.triggerHelper('preSequence');this.playInterfaceUpdate();},firstPlay:true,preSequenceFlag:false,inPreSequence:false,replayEventCount:0,play:function(){if(this.currentState=="end"&&!mw.isIpad()){this.setCurrentTime(0.01);}var _this=this;var $this=$(this);mw.log("EmbedPlayer:: play: "+this._propagateEvents+' isStopped: '+_this.isStopped());this.absoluteStartPlayTime=new Date().getTime();if(this.getError()){return false;}if(_this.isStopped()&&(_this.preSequenceFlag==false||(_this.sequenceProxy&&_this.sequenceProxy.isInSequence==false))){if(!_this.selectedPlayer){_this.showPlayerError();return false;}else{_this.embedPlayerHTML();}}this.addPlayerSpinner();this.hideSpinnerOncePlaying();_this.stopped=false;if(!this.preSequenceFlag){this.preSequenceFlag=true;this.triggerPreSequence();if(_this.sequenceProxy&&_this.sequenceProxy.isInSequence){mw.log("EmbedPlayer:: isInSequence, do NOT play content");return false;}}if(!this.isAudioPlayer){this.removePoster();}if(this.firstPlay&&this._propagateEvents){this.firstPlay=false;this.triggerHelper('firstPlay');}if(this.paused===true){this.paused=false;mw.log("EmbedPlayer:: trigger play event::"+!this.paused+' events:'+this._propagateEvents);if(this._propagateEvents){this.triggerHelper('onplay');}}if(this.donePlayingCount>0&&!this.paused&&this._propagateEvents){this.replayEventCount++;this.triggeredEndDone=false;if(this.replayEventCount<=this.donePlayingCount){mw.log("EmbedPlayer::play> trigger replayEvent");this.triggerHelper('replayEvent');}}this.addStartTimeCheck();this.playInterfaceUpdate();if(_this._playContorls){return true;}else{mw.log("EmbedPlayer::play: _playContorls is false");return false;}},addStartTimeCheck:function(){var _this=this;if(this.startTime){$(this).bind('playing.startTime',function(){$(_this).unbind('playing.startTime');if(_this.currentTime<_this.startTime){if(!mw.isIOS()){_this.setCurrentTime(_this.startTime);_this.startTime=0;}else{setTimeout(function(){_this.setCurrentTime(_this.startTime,function(){_this.play();});_this.startTime=0;},500)}}});}},playInterfaceUpdate:function(){var _this=this;mw.log('EmbedPlayer:: playInterfaceUpdate');if(this.layoutBuilder){this.layoutBuilder.closeMenuOverlay();}this.getInterface().find('.error').remove();this.hideSpinnerOncePlaying();$(this).trigger('onComponentsHoverEnabled');$(this).trigger('onPlayInterfaceUpdate');},pauseLoading:function(){this.isPauseLoading=true;this.pause();this.addPlayerSpinner();},addPlayerSpinner:function(){var sId='loadingSpinner_'+this.id;$(this).trigger('onAddPlayerSpinner');$('#'+sId).remove();$(this).getAbsoluteOverlaySpinner().attr('id',sId);},hideSpinner:function(){$(this).trigger('onRemovePlayerSpinner');$('#loadingSpinner_'+this.id+',.loadingSpinner').remove();},hideSpinnerAndPlayBtn:function(){this.isPauseLoading=false;this.hideSpinner();},hideSpinnerOncePlaying:function(){this._checkHideSpinner=true;},pause:function(){mw.log("EmbedPlayer::pause()");var _this=this;if(this.paused===false){this.paused=true;if(this._propagateEvents){mw.log('EmbedPlayer:trigger pause:'+this.paused);$(this).trigger('onpause');}}_this.pauseInterfaceUpdate();},pauseInterfaceUpdate:function(){var _this=this;mw.log("EmbedPlayer::pauseInterfaceUpdate");this.hideSpinner();$(this).trigger('onComponentsHoverDisabled');$(this).trigger('onPauseInterfaceUpdate');},load:function(){mw.log('Waring:: the load method should be overided by player interface');},stop:function(){var _this=this;mw.log('EmbedPlayer::stop:'+this.id);this.stopped=true;if(this.adsOnReplay){this.preSequenceFlag=false;}$(this).trigger('doStop');this.didSeekJump=false;this.stopMonitor();if(!this.paused){this.pause();}this.resetPlaybackValues();},resetPlaybackValues:function(){this.currentTime=this.previousTime=this.serverSeekTime=0;this.updateBufferStatus(0);this.updatePlayHead(0);},togglePlayback:function(){if(this.paused){this.play();}else{this.pause();}},isMuted:function(){return this.muted;},toggleMute:function(forceMute){mw.log('EmbedPlayer::toggleMute> (old state:) '+this.muted);if(forceMute||!this.muted){this.muted=true;this.preMuteVolume=this.volume;var percent=0;}else{this.muted=false;var percent=this.preMuteVolume;}this.setVolume(percent,true);$(this).trigger('onToggleMute',[percent]);},setVolume:function(percent,triggerChange){var _this=this;if(isNaN(percent)){return;}this.previousVolume=this.volume;if(this.previousVolume==percent){triggerChange=false;}this.volume=percent;if(percent!=0){this.muted=false;}this.setPlayerElementVolume(percent);if(triggerChange!==false){$(_this).trigger('volumeChanged',percent);}},setPlayerElementVolume:function(percent){mw.log('Error player does not support volume adjustment');},getPlayerElementVolume:function(){return this.volume;},getPlayerElementMuted:function(){return this.muted;},toggleFullscreen:function(){this.layoutBuilder.fullScreenManager.toggleFullscreen();},postEmbedActions:function(){return;},isPlaying:function(){if(this.stopped||this.paused){return false;}return true;},isStopped:function(){return this.stopped;},stopMonitor:function(){clearInterval(this.monitorInterval);this.monitorInterval=0;},startMonitor:function(){this.monitor();},monitor:function(){var _this=this;_this.syncCurrentTime();_this.syncVolume();_this.syncMonitor();if(_this._propagateEvents){if(!_this.seeking){this.updatePlayheadStatus();}$(_this).trigger('monitorEvent');if(_this.progressEventData){$(_this).trigger('progress',_this.progressEventData);}}},syncMonitor:function(){var _this=this;if(!this.isStopped()){if(!this.monitorInterval){this.monitorInterval=setInterval(function(){if(_this.monitor)_this.monitor();},this.monitorRate);}}else{this.stopMonitor();}},syncVolume:function(){var _this=this;_this.previousVolume=_this.volume;_this.volume=this.getPlayerElementVolume();if(_this.muted!=_this.getPlayerElementMuted()&&!_this.isStopped()){mw.log("EmbedPlayer::syncVolume: muted does not mach embed player");_this.toggleMute();_this.muted=_this.getPlayerElementMuted();}},syncCurrentTime:function(){var _this=this;if(_this._checkHideSpinner&&_this.getPlayerElementTime()&&_this.currentTime!=_this.getPlayerElementTime()&&!_this.seeking){_this._checkHideSpinner=false;_this.hideSpinner();}if(parseInt(_this.previousTime)!=parseInt(_this.currentTime)&&!this.userSlide&&!this.seeking&&!this.isStopped()){if(_this.getDuration()&&_this.currentTime<=_this.getDuration()){var seekPercent=_this.currentTime/_this.getDuration();mw.log("EmbedPlayer::syncCurrentTime::"+_this.previousTime+' != '+_this.currentTime+" javascript based currentTime update to "+seekPercent+' == '+_this.currentTime);_this.previousTime=_this.currentTime;this.seek(seekPercent);}}if(!_this.isLive()){if(_this.isPlaying()&&_this.currentTime==_this.getPlayerElementTime()){_this.bufferStart();}else if(_this.buffering){_this.bufferEnd();}}_this.currentTime=_this.getPlayerElementTime();if(_this.serverSeekTime&&_this.supportsURLTimeEncoding()){_this.currentTime=parseInt(_this.serverSeekTime)+parseInt(_this.getPlayerElementTime());}_this.previousTime=_this.currentTime;if(_this.pauseTime&&_this.currentTime>_this.pauseTime){_this.pause();_this.pauseTime=null;}},updatePlayheadStatus:function(){var _this=this;if(this.currentTime>=0&&this.duration){if(!this.userSlide&&!this.seeking){var playHeadPercent=(this.currentTime-this.startOffset)/this.duration;this.updatePlayHead(playHeadPercent);}var endPresentationTime=this.duration;if(!this.isLive()){if((this.currentTime-this.startOffset)>=endPresentationTime&&!this.isStopped()){mw.log("EmbedPlayer::updatePlayheadStatus > should run clip done :: "+this.currentTime+' > '+endPresentationTime);_this.onClipDone();}else if(((this.currentTime-this.startOffset)/endPresentationTime)>=.99){_this.shouldEndClip=true;setTimeout(function(){if(_this.shouldEndClip){mw.log("EmbedPlayer::updatePlayheadStatus > should run clip done :: "+_this.currentTime);_this.onClipDone();}},endPresentationTime*0.02)}}}},getPlayerElementTime:function(){mw.log("Error: getPlayerElementTime should be implemented by embed library");},getPlayerElement:function(){mw.log("Error: getPlayerElement should be implemented by embed library, or you may be calling this event too soon");},updateBufferStatus:function(percent){if(percent>1){this.bufferedPercent=1;}else{this.bufferedPercent=percent;}$(this).trigger('updateBufferPercent',this.bufferedPercent);},updatePlayHead:function(perc){$(this).trigger('updatePlayHeadPercent',perc);},getSrc:function(serverSeekTime){if(serverSeekTime){this.serverSeekTime=serverSeekTime;}if(this.currentTime&&!this.serverSeekTime){this.serverSeekTime=this.currentTime;}if(!this.mediaElement){return false;}if(!this.mediaElement.selectedSource){this.mediaElement.autoSelectSource();};if(this.mediaElement.selectedSource){if(this.supportsURLTimeEncoding()){return this.mediaElement.selectedSource.getSrc(this.serverSeekTime);}else{return this.mediaElement.selectedSource.getSrc();}}return false;},getSource:function(){this.mediaElement.autoSelectSource();if(this.mediaElement.selectedSource&&this.mediaElement.selectedSource.mimeType==="application/vnd.apple.mpegurl"){this.streamerType="hls";}return this.mediaElement.selectedSource;},getCompatibleSource:function(videoFiles){var $media=$('<video />');$.each(videoFiles,function(inx,source){$media.append($('<source />').attr(source));mw.log("EmbedPlayer::getCompatibleSource: add "+source.src+' of type:'+source.type);});var myMediaElement=new mw.MediaElement($media[0]);var source=myMediaElement.autoSelectSource();if(source){mw.log("EmbedPlayer::getCompatibleSource: "+source.getSrc());return source;}mw.log("Error:: could not find compatible source");return false;},supportsURLTimeEncoding:function(){var timeUrls=mw.getConfig('EmbedPlayer.EnableURLTimeEncoding');if(timeUrls=='none'){return false;}else if(timeUrls=='always'){return this.mediaElement.selectedSource.URLTimeEncoding;}else if(timeUrls=='flash'){if(this.mediaElement.selectedSource&&this.mediaElement.selectedSource.URLTimeEncoding){return(this.instanceOf=='Kplayer');}}else{mw.log("Error:: invalid config value for EmbedPlayer.EnableURLTimeEncoding:: "+mw.getConfig('EmbedPlayer.EnableURLTimeEncoding'));}return false;},setCookie:function(name,value,options){var _this=this;if(!mw.getConfig('alertForCookies')){$.cookie(name,value,options);return;}if($.cookie('allowCookies')){$.cookie(name,value,options);return;}var alertObj={'title':"Cookies",'message':"Video player will save cookies on your computer",'isModal':true,'isExternal':false,'buttons':["Allow","Disallow"],'callbackFunction':function(eventObj){if(eventObj.target.textContent.toLowerCase()==="allow"){$.cookie('allowCookies',true);$.cookie(name,value,options);}else{$.cookie('allowCookies',null);_this.disabledCookies=true;}}};if(!this.disabledCookies){this.layoutBuilder.displayAlert(alertObj);}},setLive:function(isLive){this.live=isLive;},isLive:function(){return this.live;},isDVR:function(){return this.kalturaPlayerMetaData['dvrStatus'];},disableComponentsHover:function(){this.triggerHelper('onComponentsHoverDisabled');},restoreComponentsHover:function(){this.triggerHelper('onComponentsHoverEnabled');},checkForTags:function(value,givenTags){if(typeof value==='undefined'){return false;}var valueTags=value.split(",");if(typeof valueTags==='undefined'||typeof givenTags==='undefined'){return false;}for(var i=0;i<valueTags.length;i++){for(var j=0;j<givenTags.length;j++){if(valueTags[i]==givenTags[j]){return true;}}}return false;},getSourcesByTags:function(flavorTags){var _this=this;var sources=this.mediaElement.getPlayableSources();var sourcesByTags=[];if(flavorTags===undefined){return sources;}else{var flavorTagsArr=flavorTags.split(',');for(var i=0;i<flavorTagsArr.length;i++){$.each(sources,function(sourceIndex,source){if(_this.checkForTags(source.getTags(),[flavorTagsArr[i]])){sourcesByTags.push(source);}});if(sourcesByTags.length>0){break;}}return sourcesByTags;}},switchSrc:function(source){var _this=this;this.mediaElement.setSource(source);if(!this.isStopped()){this.isFlavorSwitching=true;var oldMediaTime=this.getPlayerElement().currentTime;var oldPaused=this.paused;this.playerSwitchSource(source,function(vid){_this.setCurrentTime(oldMediaTime,function(){if(oldPaused){_this.pause();}});});}},backToLive:function(){mw.log('Error player does not support back to live');},setStorageId:function(storageId){this.setFlashvars("storageId",storageId);if(this.mediaElement){$.each(this.mediaElement.sources,function(sourceIndex,source){if(source.src.indexOf("playManifest")!==-1){if(source.src.indexOf("storageId")!==-1){source.src=source.src.replace(/(.*storageId=)([0-9]+)/,"$1"+storageId);}else{source.src+=((source.src.indexOf('?')===-1)?'?':'&')+"storageId="+storageId;}}});}},switchAudioTrack:function(trackIndex){mw.log('Error player does not multiple audio tracks');},bufferStart:function(){if(!this.isInSequence()&&!this.buffering){this.buffering=true;mw.log("EmbedPlayer::bufferStart");$(this).trigger('bufferStartEvent');if(!mw.getConfig('EmbedPlayer.DisableBufferingSpinner')){this.addPlayerSpinner();}}},bufferEnd:function(){if(!this.isInSequence()&&this.buffering){this.buffering=false;mw.log("EmbedPlayer::bufferEnd");$(this).trigger('bufferEndEvent');if(!mw.getConfig('EmbedPlayer.DisableBufferingSpinner')){this.hideSpinner();}}}};})(window.mw,window.jQuery);(function(mw,$){"use strict";mw.FullScreenManager=function(embedPlayer){return this.init(embedPlayer);};mw.FullScreenManager.prototype={inFullScreen:false,parentsAbsoluteList:[],parentsRelativeList:[],parentsFixedList:[],bindPostfix:'.fullscreenManager',init:function(embedPlayer){this.embedPlayer=embedPlayer;return this;},isInFullScreen:function(){return this.inFullScreen;},toggleFullscreen:function(){if(this.isInFullScreen()){this.restoreWindowPlayer();}else{this.doFullScreenPlayer();}},openNewWindow:function(){var embedPlayer=this.embedPlayer;var iframeMwConfig={'EmbedPlayer.IsFullscreenIframe':true,'EmbedPlayer.IframeCurrentTime':embedPlayer.currentTime,'EmbedPlayer.IframeIsPlaying':embedPlayer.isPlaying(),'EmbedPlayer.IframeParentUrl':document.URL};var url=embedPlayer.getIframeSourceUrl()+'#'+encodeURIComponent(JSON.stringify({'mwConfig':iframeMwConfig,'playerId':embedPlayer.id}));embedPlayer.pause();var newwin=window.open(url,'_blank','width='+screen.width+', height='+(screen.height-90)+', top=0, left=0'+', fullscreen=yes');if(window.focus){newwin.focus();}},doFullScreenPlayer:function(callback){mw.log("FullScreenManager:: doFullScreenPlayer");if(mw.getConfig('EmbedPlayer.NewWindowFullscreen')&&!screenfull&&!(mw.getConfig('EmbedPlayer.EnableIpadNativeFullscreen')&&mw.isIpad())){this.openNewWindow();return;}var _this=this;var embedPlayer=this.embedPlayer;var $interface=embedPlayer.getInterface();if(this.isInFullScreen()==true){return;}this.inFullScreen=true;var isIframe=(mw.getConfig('EmbedPlayer.IsIframeServer')&&mw.getConfig('EmbedPlayer.IsFriendlyIframe')),doc=isIframe?window['parent'].document:window.document,context=isIframe?window['parent']:window;this.verticalScrollPosition=(doc.all?doc.scrollTop:context.pageYOffset);$interface.addClass('fullscreen');if(embedPlayer.isOverlayControls()&&mw.hasMouseEvents()){_this.addMouseMoveBinding();}if(!this.fullScreenApiExcludes()&&screenfull&&screenfull.enabled(doc)){var fullscreenHeight=null;var fsTarget=this.getFsTarget();var escapeFullscreen=function(event){var doc=(mw.getConfig('EmbedPlayer.IsIframeServer')&&mw.getConfig('EmbedPlayer.IsFriendlyIframe'))?window['parent'].document:window.document;if(!screenfull.isFullscreen(doc)){_this.restoreWindowPlayer();}}
	doc.removeEventListener(screenfull.raw.fullscreenchange,escapeFullscreen);doc.addEventListener(screenfull.raw.fullscreenchange,escapeFullscreen);screenfull.request(fsTarget,doc);}else{var vid=this.embedPlayer.getPlayerElement();if(mw.getConfig('EmbedPlayer.EnableIpadNativeFullscreen')&&vid&&vid.webkitSupportsFullscreen){this.doHybridNativeFullscreen();return;}else{this.doContextTargetFullscreen();}}$(window).keyup(function(event){if(event.keyCode==27){_this.restoreWindowPlayer();}});$(document).bind('touchmove'+this.bindPostfix,function(e){e.preventDefault();});$(embedPlayer).trigger('onOpenFullScreen');},doContextTargetFullscreen:function(){var isIframe=mw.getConfig('EmbedPlayer.IsIframeServer');var _this=this,doc=isIframe?window['parent'].document:window.document,$doc=$(doc),$target=$(this.getFsTarget()),context=isIframe?window['parent']:window;this.parentsAbsoluteList=[];this.parentsRelativeList=[];this.parentsFixedList=[];this.orginalParnetViewPortContent=$doc.find('meta[name="viewport"]').attr('content');if(!this.orginalParnetViewPortContent){this.orginalParnetViewPortContent=$doc.find('meta[name="viewport"]').attr('content','width=device-width, user-scalable=yes');}this.orginalTargetElementLayout={'style':$target[0].style.cssText,'width':$target.width(),'height':$target.height()};mw.log("PlayerControls:: doParentIframeFullscreen> verticalScrollPosition:"+this.verticalScrollPosition);this.doNativeScroll(context,0,0);if(!$doc.find('meta[name="viewport"]').length){$doc.find('head').append($('<meta />').attr('name','viewport'));}$doc.find('meta[name="viewport"]').attr('content','width=1024, user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1');var playerCssPosition=(mw.isIOS())?'absolute':'fixed';$target.parents().each(function(){var $parent=$(this);if($parent.css('position')=='absolute'){_this.parentsAbsoluteList.push($parent);$parent.css('position','static');}if($parent.css('position')=='relative'){_this.parentsRelativeList.push($parent);$parent.css('position','static');}if($parent.css('position')=='fixed'){_this.parentsFixedList.push($parent);$parent.css('position','static');}});$target.css({'z-index':mw.getConfig('EmbedPlayer.FullScreenZIndex'),'position':playerCssPosition,'top':'0px','left':'0px','margin':0}).data('isFullscreen',true).after($('<div>').addClass('player-placeholder').css({'width':this.orginalTargetElementLayout.width,'height':this.orginalTargetElementLayout.height}));var updateTargetSize=function(){_this.doNativeScroll(context,0,0);var innerWidth=context.innerWidth||context.document.documentElement.clientWidth||context.document.body.clientWidth;var innerHeight=context.innerHeight||context.document.documentElement.clientHeight||context.document.body.clientHeight;if(mw.isMobileChrome()){innerHeight+=1;}if((mw.isAndroid41()||mw.isAndroid42()||(mw.isAndroid()&&mw.isFirefox()))&&!mw.isMobileChrome()&&context.devicePixelRatio){innerHeight=context.outerHeight/context.devicePixelRatio;}$target.css({'width':innerWidth,'height':innerHeight});if(mw.isAndroid()&&!mw.isMobileChrome()){$target.trigger('resize');}_this.embedPlayer.applyIntrinsicAspect();};var updateSizeByDevice=function(){if(mw.isAndroid()){setTimeout(updateTargetSize,10);}else{updateTargetSize();}};updateSizeByDevice();var eventName=mw.isAndroid()?'resize':'orientationchange';eventName+=this.bindPostfix;$(context).bind(eventName,function(){if(_this.isInFullScreen()){updateSizeByDevice();}});document.ontouchmove=function(e){if(_this.isInFullScreen()){e.preventDefault();}};},restoreContextPlayer:function(){var isIframe=mw.getConfig('EmbedPlayer.IsIframeServer');var _this=this,doc=isIframe?window['parent'].document:window.document,$doc=$(doc),$target=$(this.getFsTarget()),context=isIframe?window['parent']:window;mw.log("FullScreenManager:: restoreContextPlayer> verticalScrollPosition:"+this.verticalScrollPosition);if(this.orginalParnetViewPortContent){$doc.find('meta[name="viewport"]').attr('content',this.orginalParnetViewPortContent);}else{$doc.find('meta[name="viewport"]').attr('content','initial-scale=1, maximum-scale=8, minimum-scale=1, user-scalable=yes');if(mw.isMobileChrome()){$doc.find('meta[name="viewport"]').attr('content','user-scalable=yes');}}if(this.orginalTargetElementLayout){$target[0].style.cssText=this.orginalTargetElementLayout.style;$target.attr({'width':this.orginalTargetElementLayout.width,'height':this.orginalTargetElementLayout.height}).trigger('resize');_this.embedPlayer.applyIntrinsicAspect();$target.siblings('.player-placeholder').remove();}$.each(_this.parentsAbsoluteList,function(inx,$elm){$elm.css('position','absolute');});$.each(_this.parentsRelativeList,function(inx,$elm){$elm.css('position','relative');});$.each(_this.parentsFixedList,function(inx,$elm){$elm.css('position','fixed');});setTimeout(function(){_this.doNativeScroll(context,0,_this.verticalScrollPosition);},100)},doNativeScroll:function(context,top,left){if(context){$.each(['scroll','scrollTo'],function(i,funcName){if($.isFunction(context[funcName])){context[funcName](top,left);return false;}});}},doHybridNativeFullscreen:function(){var vid=this.embedPlayer.getPlayerElement();var _this=this;vid.webkitEnterFullscreen();this.fsIntervalID=setInterval(function(){var currentFS=vid.webkitDisplayingFullscreen;if(_this.isInFullScreen()&&!currentFS){_this.inFullScreen=false;$(_this.embedPlayer).trigger('onCloseFullScreen');_this.embedPlayer.getInterface().removeClass('fullscreen');clearInterval(_this.fsIntervalID);}},250);},doDomFullscreen:function(){var _this=this;var embedPlayer=this.embedPlayer;var $interface=embedPlayer.getInterface();$('.mw-fullscreen-overlay').remove();$interface.after($('<div />').addClass('mw-fullscreen-overlay').css('z-index',mw.getConfig('EmbedPlayer.FullScreenZIndex')).hide().fadeIn("slow"));if(!this.windowPositionStyle){this.windowPositionStyle=$interface.css('position');}if(!this.windowZindex){this.windowZindex=$interface.css('z-index');}this.windowOffset=this.getWindowOffset();$interface.css({'position':'fixed','z-index':mw.getConfig('EmbedPlayer.FullScreenZIndex')+1,'top':this.windowOffset.top,'left':this.windowOffset.left});if(embedPlayer.isPersistentNativePlayer()){$(embedPlayer.getPlayerElement()).css({'z-index':mw.getConfig('EmbedPlayer.FullScreenZIndex')+1,'position':'absolute'});}_this.parentsAbsolute=[];$('body').css('overflow','hidden');var topOffset='0px';var leftOffset='0px';if($interface.offsetParent()[0].tagName&&$interface.offsetParent()[0].tagName.toLowerCase()!='body'){topOffset=-this.windowOffset.top+'px';leftOffset=-this.windowOffset.left+'px';}$interface.css('overlow','hidden');$interface.parents().each(function(){if($(this).css('position')=='absolute'){_this.parentsAbsolute.push($(this));$(this).css('position',null);mw.log('PlayerLayoutBuilder::  should update position: '+$(this).css('position'));}});$(window).keyup(function(event){if(event.keyCode==27){_this.restoreWindowPlayer();}});},getWindowOffset:function(){var windowOffset=this.embedPlayer.getInterface().offset();windowOffset.top=windowOffset.top-$(document).scrollTop();windowOffset.left=windowOffset.left-$(document).scrollLeft();this.windowOffset=windowOffset;return this.windowOffset;},getFsTarget:function(){if(mw.getConfig('EmbedPlayer.IsIframeServer')&&mw.getConfig('EmbedPlayer.IsFriendlyIframe')){var targetId;if(screenfull&&screenfull.enabled()){targetId=this.embedPlayer.id+'_ifp';}else{targetId=this.embedPlayer.id;}return window['parent'].document.getElementById(targetId);}else{var $interface=this.embedPlayer.getInterface();return $interface[0];}},getDocTarget:function(){if(mw.getConfig('EmbedPlayer.IsIframeServer')&&mw.getConfig('EmbedPlayer.IsFriendlyIframe')){return window['parent'].document;}else{return document;}},restoreWindowPlayer:function(){var _this=this;mw.log("FullScreenManager :: restoreWindowPlayer");var embedPlayer=this.embedPlayer;if(this.isInFullScreen()===false){return;}this.inFullScreen=false;embedPlayer.getInterface().removeClass('fullscreen');var docTarget=this.getDocTarget();if(!this.fullScreenApiExcludes()&&screenfull&&screenfull.enabled(docTarget)){screenfull.exit(docTarget);}this.restoreContextPlayer();$(document).unbind(this.bindPostfix);$(embedPlayer).trigger('onCloseFullScreen');},addMouseMoveBinding:function(){var _this=this;_this.mouseMovedFlag=false;var oldX=0,oldY=0;_this.embedPlayer.getInterface().mousemove(function(event){if(Math.abs(oldX-event.pageX)>4||Math.abs(oldY-event.pageY)>4){_this.mouseMovedFlag=true;}oldX=event.pageX;oldY=event.pageY;});var checkMovedMouse=function(){if(_this.isInFullScreen()){if(_this.mouseMovedFlag){_this.mouseMovedFlag=false;_this.embedPlayer.triggerHelper('showPlayerControls');setTimeout(checkMovedMouse,4000);}else{_this.embedPlayer.triggerHelper('hidePlayerControls');setTimeout(checkMovedMouse,250);}return;}};checkMovedMouse();},fullScreenApiExcludes:function(){if(mw.isSilk()){return true;}return false;}};})(window.mw,window.jQuery);(function(mw,$){"use strict";mw.PlayerLayoutBuilder=function(embedPlayer,options){return this.init(embedPlayer,options);};mw.PlayerLayoutBuilder.prototype={height:mw.getConfig('EmbedPlayer.ControlsHeight'),supportedComponents:{},addWarningFlag:false,displayOptionsMenuFlag:false,controlsDisabled:false,bindPostfix:'.layoutBuilder',layoutReady:false,importanceSet:['low','medium','high'],init:function(embedPlayer){var _this=this;this.embedPlayer=embedPlayer;this.fullScreenManager=new mw.FullScreenManager(embedPlayer);$(document.body).append($('<div style="display: block" class="cssChecker"></div>'));return this;},getInterface:function(){if(!this.$interface){var embedPlayer=this.embedPlayer,$embedPlayer=$(embedPlayer);if($embedPlayer.parent('.videoDisplay').length==0){$embedPlayer.wrap($('<div />').addClass('videoDisplay'));}var $videoDisplay=$embedPlayer.parent('.videoDisplay');if($videoDisplay.parent('.videoHolder').length==0){$videoDisplay.parent('.videoDisplay').wrap($('<div />').addClass('videoHolder'));}var $videoHolder=$videoDisplay.parent('.videoHolder');if($videoHolder.parent('.mwPlayerContainer').length==0){this.$interface=$videoHolder.wrap($('<div />').addClass('mwPlayerContainer')).parent()
	if(embedPlayer.style.cssText){this.$interface[0].style.cssText+=embedPlayer.style.cssText;}}else{this.$interface=$videoHolder.parent('.mwPlayerContainer')}if(mw.isTouchDevice()){this.$interface.addClass('touch');}if(mw.isIE8()){this.$interface.addClass('ie8');}this.$interface.addClass(embedPlayer.playerConfig.layout.skin);embedPlayer.style.cssText='';}return this.$interface;},isInFullScreen:function(){return this.fullScreenManager.isInFullScreen();},getHeight:function(){return this.height;},clearInterface:function(){this.getInterface().find('.overlay-win').remove();},addControls:function(){if(this.layoutReady)return;var embedPlayer=this.embedPlayer;var _this=this;this.clearInterface();_this.displayOptionsMenuFlag=false;if(mw.hasMouseEvents()){this.initToolTips();}if(mw.isIE8()||mw.isIE9()){this.embedPlayer.bindHelper('layoutBuildDone',function(){$('.PIE').each(function(){PIE.attach(this);});});}this.addContainers();this.mapComponents();if(this.layoutCssLoaded()){this.drawLayoutAndBind();}else{var _this=this;var counter=0;var cssCheckInterval=setInterval(function(){if(_this.layoutCssLoaded()){clearInterval(cssCheckInterval);_this.drawLayoutAndBind();}else{counter++;if(counter==40){clearInterval(cssCheckInterval);_this.drawLayoutAndBind();mw.log("failed to load layout.css");}}},25);}},layoutCssLoaded:function(){return($(".cssChecker").css("display")=="none");},drawLayoutAndBind:function(){this.drawLayout();this.addControlBindings();$(".cssChecker").remove();},layoutContainers:{'topBarContainer':[],'sideBarContainer':[],'videoHolder':[],'controlBarContainer':[],'controlsContainer':[]},addContainers:function(){this.embedPlayer.triggerHelper('addLayoutContainer');},mapComponents:function(){var _this=this;this.embedPlayer.triggerHelper('addLayoutComponent',this);$.each(this.components,function(compId,compConfig){if(!compConfig.parent)return true;if(_this.layoutContainers[compConfig.parent]){_this.layoutContainers[compConfig.parent].push({'id':compId,'order':compConfig.order,'insertMode':(compConfig.insertMode)?compConfig.insertMode:'lastChild'});}});$.each(this.layoutContainers,function(idx,components){_this.layoutContainers[idx].sort(function(comp1,comp2){return((comp1.order<comp2.order)?-1:((comp1.order>comp2.order)?1:0));});});},drawLayout:function(){mw.log('PlayerLayoutBuilder:: drawLayout',this.layoutContainers);var _this=this;var $interface=this.getInterface();$.each(_this.layoutContainers,function(containerId,components){var $parent=$interface.find('.'+containerId);if($parent.length){_this.drawComponents($parent,components);}else{mw.log('PlayerLayoutBuilder:: drawLayout:: container "'+containerId+'" not found in DOM');}});var $buttons=$interface.find('.controlsContainer').find('.btn');var tabIndex=0;var rightBtnIndex=0;$buttons.each(function(i){if($(this).hasClass('pull-right')||$(this).parent().hasClass('pull-right')){rightBtnIndex++;$(this).attr('tabindex',($buttons.length-rightBtnIndex));}else{tabIndex++;$(this).attr('tabindex',tabIndex);}});this.layoutReady=true;this.embedPlayer.triggerHelper('layoutBuildDone');},drawComponents:function($parent,components){var _this=this;$.each(components,function(idx,component){var $component=_this.getDomComponent(component.id);if($component===false){mw.log('PlayerLayoutBuilder:: drawComponents: component "'+component.id+'" was not defined');}else{if(component.insertMode=='firstChild'){$parent.prepend($component);}else{$parent.append($component);}}});},updateComponentsVisibility:function(){var _this=this;$(this.embedPlayer).trigger('updateComponentsVisibilityStart')
	$.each(this.layoutContainers,function(containerId,components){if(containerId=='videoHolder'||containerId=='controlBarContainer'){return true;}_this.updateContainerCompsByAvailableSpace(_this.getInterface().find('.'+containerId));});$(this.embedPlayer).trigger('updateComponentsVisibilityDone')},updateContainerCompsByAvailableSpace:function($container){if(!$container.length)return;var _this=this;var containerWidth=$container.width();var hideOneByImportance=function(){$.each(_this.importanceSet,function(i,importance){var $s=$container.find('.display-'+importance+':visible');if($s.length){$s.first().hide();return false;}});};var showOneByImportance=function(){$.each(_this.importanceSet.slice(0).reverse(),function(i,importance){var $s=$container.find('.display-'+importance+':hidden');if($s.length){var $first=$s.first();if(!$first.data('forceHide')){$s.first().show();return false;}}});};var getNextShowWidth=function(){var nextWidth=0;$.each(_this.importanceSet.slice(0).reverse(),function(i,importance){var $s=$container.find('.display-'+importance+':hidden');if($s.length){var $first=$s.first();if(!$first.data('forceHide')){var $comp=$first.show();nextWidth=_this.getComponentWidth($comp);$comp.hide();return false;}}});return nextWidth;};var i=0;if(containerWidth<this.getComponentsWidthForContainer($container)&&this.canHideShowContainerComponents($container,true)){while(i++<30&&containerWidth<this.getComponentsWidthForContainer($container)&&this.canHideShowContainerComponents($container,true)){mw.log("hideOneByImportance: "+containerWidth+' < '+this.getComponentsWidthForContainer($container));hideOneByImportance();}return;};while(i++<30&&$container.find('.comp:hidden').length&&this.canHideShowContainerComponents($container,false)&&containerWidth>(this.getComponentsWidthForContainer($container)+getNextShowWidth())){showOneByImportance();}},canHideShowContainerComponents:function($container,visible){var state=(visible)?'visible':'hidden';var found=false;$.each(this.importanceSet,function(i,importance){var $s=$container.find('.display-'+importance+':'+state);if($s.length){found=true;return false;}});return found;},getComponentWidth:function($comp){return $comp.data('width')||$comp.outerWidth(true);;},getComponentsWidthForContainer:function($container){var _this=this;var totalWidth=10;$container.find('.comp:visible').each(function(){totalWidth+=_this.getComponentWidth($(this));});return totalWidth;},getComponentsHeight:function(){var height=0;this.getInterface().find('.block').each(function(){height+=$(this).outerHeight(true);});return height;},initToolTips:function(){if(!this.embedPlayer.enableTooltips||kWidget.isIE8()){return;}var _this=this;this.embedPlayer.bindHelper('layoutBuildDone',function(){_this.getInterface().tooltip({items:'[data-show-tooltip]',position:{my:"center bottom-10",at:"center top",using:function(position,feedback){$(this).css(position);$("<div>").addClass("arrow").addClass(feedback.vertical).addClass(feedback.horizontal).appendTo(this);}}});_this.getInterface().find(".tooltipBelow").tooltip({items:'[data-show-tooltip]',position:{my:"center bottom-10",at:"center top",using:function(position,feedback){$(this).css(position);$("<div>").addClass("arrowTop").addClass(feedback.vertical).addClass(feedback.horizontal).appendTo(this);}}});});},getOverlayWidth:function(){return(this.embedPlayer.getPlayerWidth()<300)?300:this.embedPlayer.getPlayerWidth();},getOverlayHeight:function(){return(this.embedPlayer.getPlayerHeight()<200)?200:this.embedPlayer.getPlayerHeight();},addControlBindings:function(){var _this=this;var embedPlayer=this.embedPlayer;var $interface=this.getInterface();var adPlaybackState='adplay-state';var b=function(eventName,callback){embedPlayer.bindHelper(eventName+_this.bindPostfix,callback);};var addPlaybackBindings=function(){if(embedPlayer.getFlashvars('disableOnScreenClick')){return;}if(mw.isTouchDevice()){if(!(mw.isAndroid()&&mw.isMobileChrome())){_this.addPlayerTouchBindings();return;}}_this.addPlayerClickBindings();};var removePlaybackBindings=function(){if(embedPlayer.getFlashvars('disableOnScreenClick')){return;}if(mw.isTouchDevice()){_this.removePlayerTouchBindings();}else{_this.removePlayerClickBindings();}};_this.onControlBar=false;embedPlayer.unbindHelper(this.bindPostfix);var bindFirstPlay=false;_this.addRightClickBinding();this.updateLayoutTimeout=null;b('updateLayout',function(){clearTimeout(_this.updateLayoutTimeout);_this.updateLayoutTimeout=setTimeout(function(){_this.updateComponentsVisibility();_this.updatePlayerSizeClass();},100);});b('onplay',function(){_this.addRightClickBinding();});b('AdSupport_StartAdPlayback',function(){$interface.addClass(adPlaybackState);});b('AdSupport_EndAdPlayback',function(){$interface.removeClass(adPlaybackState);});b('onEnableInterfaceComponents',function(){_this.controlsDisabled=false;addPlaybackBindings();});b('onDisableInterfaceComponents',function(){_this.controlsDisabled=true;removePlaybackBindings();});b('onOpenFullScreen',function(){setTimeout(function(){embedPlayer.doUpdateLayout();},100)});b('onCloseFullScreen',function(){setTimeout(function(){embedPlayer.doUpdateLayout();},100)});if((embedPlayer.adSiblingFlashPlayer||embedPlayer.instanceOf=='Kplayer')&&(mw.isIE8()||mw.isIE9())){embedPlayer.getVideoHolder().bind('mouseup',function(){$(embedPlayer).trigger('click');});}addPlaybackBindings();this.addControlsVisibilityBindings();mw.log('trigger::addControlBindingsEvent');embedPlayer.triggerHelper('addControlBindingsEvent');},addPlayerTouchBindings:function(){var embedPlayer=this.embedPlayer;var _this=this;this.removePlayerTouchBindings();var touchStartPos,touchEndPos=null;$(_this.embedPlayer).bind('touchstart'+this.bindPostfix,function(e){touchStartPos=e.originalEvent.touches[0].pageY;}).bind('touchend'+this.bindPostfix,function(e){if(_this.embedPlayer.isControlsVisible||_this.embedPlayer.useNativePlayerControls()){touchEndPos=e.originalEvent.changedTouches[0].pageY;var distance=Math.abs(touchStartPos-touchEndPos);if(distance<10){mw.log('PlayerLayoutBuilder::addPlayerTouchBindings:: togglePlayback from touch event');_this.togglePlayback();}}});},removePlayerTouchBindings:function(){$(this.embedPlayer).unbind("touchstart"+this.bindPostfix);$(this.embedPlayer).unbind("touchend"+this.bindPostfix);},addControlsVisibilityBindings:function(){var embedPlayer=this.embedPlayer;var _this=this;var $interface=embedPlayer.getInterface();if(_this.checkNativeWarning()){_this.addWarningBinding('EmbedPlayer.ShowNativeWarning',gM('mwe-embedplayer-for_best_experience',$('<a />').attr({'href':'http://www.mediawiki.org/wiki/Extension:TimedMediaHandler/Client_download','target':'_new'})));}var outPlayerClass='player-out';var showPlayerControls=function(){clearTimeout(hideControlsTimeout);$interface.removeClass(outPlayerClass);embedPlayer.triggerHelper('showPlayerControls');};var hidePlayerControls=function(){$interface.addClass(outPlayerClass);embedPlayer.triggerHelper('hidePlayerControls');};if(mw.hasMouseEvents()){var hoverIntentConfig={'sensitivity':100,'timeout':mw.getConfig('EmbedPlayer.HoverOutTimeout'),'over':function(){showPlayerControls();},'out':function(){hidePlayerControls();}};$interface.hoverIntent(hoverIntentConfig);}var hideControlsTimeout=null;$(embedPlayer).bind('touchstart',function(){showPlayerControls();hideControlsTimeout=setTimeout(function(){hidePlayerControls();},5000);return true;});},playerSizeClass:null,updatePlayerSizeClass:function(){var width=$(window).width();var playerSizeClass='';if(width<300){playerSizeClass='tiny';}else if(width<450){playerSizeClass='small';}else if(width<700){playerSizeClass='medium';}else{playerSizeClass='large';}if(this.playerSizeClass!==playerSizeClass){this.playerSizeClass=playerSizeClass;this.getInterface().removeClass('size-tiny size-small size-medium size-large').addClass('size-'+this.playerSizeClass);this.embedPlayer.triggerHelper('playerSizeClassUpdate',[this.playerSizeClass]);}},removePlayerClickBindings:function(){$(this.embedPlayer).unbind("click"+this.bindPostfix).unbind("dblclick"+this.bindPostfix);},addPlayerClickBindings:function(){var _this=this;var embedPlayer=this.embedPlayer;this.removePlayerClickBindings();var didDblClick=false;var dblClickTimeout=null;$(embedPlayer).bind("dblclick"+_this.bindPostfix,function(){didDblClick=true;});$(embedPlayer).bind("click"+_this.bindPostfix,function(){if(mw.isMobileDevice()){_this.togglePlayback();}else{var playerStatus=embedPlayer.isPlaying();if(dblClickTimeout)return true;dblClickTimeout=setTimeout(function(){if(didDblClick){didDblClick=false;}else{mw.log('PlayerLayoutBuilder::addPlayerClickBindings:: togglePlayback from click event');if(embedPlayer.isPlaying()==playerStatus){_this.togglePlayback();}}clearTimeout(dblClickTimeout);dblClickTimeout=null;},300);}return true;});},addRightClickBinding:function(){var embedPlayer=this.embedPlayer;if(mw.getConfig('EmbedPlayer.EnableRightClick')===false){document.oncontextmenu=function(e){return false;};$(embedPlayer).mousedown(function(e){if(e.button==2){return false;}});}},isControlsDisabled:function(){return this.controlsDisabled;},togglePlayback:function(){if(this.isControlsDisabled()){return;}this.embedPlayer.togglePlayback();},checkNativeWarning:function(){if(mw.getConfig('EmbedPlayer.ShowNativeWarning')===false){return false;}if(this.embedPlayer.instanceOf=='ImageOverlay'){return false;}if(this.embedPlayer.getPlayerHeight()<199){return false;}var supportingPlayers=mw.EmbedTypes.getMediaPlayers().getMIMETypePlayers('video/ogg');for(var i=0;i<supportingPlayers.length;i++){if(supportingPlayers[i].id=='oggNative'){return false;}}if(/chrome/.test(navigator.userAgent.toLowerCase())&&mw.EmbedTypes.getMediaPlayers().getMIMETypePlayers('video/webm').length){return false;}if((mw.EmbedTypes.getMediaPlayers().getMIMETypePlayers('video/mp4').length&&this.embedPlayer.mediaElement.getSources('video/mp4').length)||(mw.EmbedTypes.getMediaPlayers().getMIMETypePlayers('video/x-flv').length&&this.embedPlayer.mediaElement.getSources('video/x-flv').length)||(mw.EmbedTypes.getMediaPlayers().getMIMETypePlayers('application/vnd.apple.mpegurl').length&&this.embedPlayer.mediaElement.getSources('application/vnd.apple.mpegurl').length)||(mw.EmbedTypes.getMediaPlayers().getMIMETypePlayers('audio/mpeg').length&&this.embedPlayer.mediaElement.getSources('audio/mpeg').length)){return false;}return true;},addWarningBinding:function(preferenceId,warningMsg,hideDisableUi){mw.log('mw.PlayerLayoutBuilder: addWarningBinding: '+preferenceId+' wm: '+warningMsg);var embedPlayer=this.embedPlayer;var _this=this;if(embedPlayer.getWidth()<200){return false;}if(mw.getConfig(preferenceId)===true&&$.cookie(preferenceId)=='hidewarning'){return;}var warnId="warningOverlay_"+embedPlayer.id;$('#'+warnId).remove();var $targetWarning=$('<div />').attr({'id':warnId}).addClass('ui-state-highlight ui-corner-all').css({'position':'absolute','background':'#333','color':'#AAA','top':'10px','left':'10px','right':'10px','padding':'4px','z-index':2}).html(warningMsg);embedPlayer.getInterface().append($targetWarning);$targetWarning.append($('<br />'));if(!hideDisableUi){$targetWarning.append($('<input type="checkbox" />').attr({'id':'ffwarn_'+embedPlayer.id,'name':'ffwarn_'+embedPlayer.id}).click(function(){mw.log("WarningBindinng:: set "+preferenceId+' to hidewarning ');embedPlayer.setCookie(preferenceId,'hidewarning',{expires:30})
	mw.setConfig(preferenceId,false);$('#warningOverlay_'+embedPlayer.id).fadeOut('slow');_this.addWarningFlag=false;}));$targetWarning.append($('<label />').text(gM('mwe-embedplayer-do_not_warn_again')).attr('for','ffwarn_'+embedPlayer.id));}return $targetWarning;},onSeek:function(){this.embedPlayer.addPlayerSpinner();this.embedPlayer.hideSpinnerOncePlaying();},setStatus:function(value){if(this.embedPlayer.getInterface()){}},closeMenuOverlay:function(){var _this=this;var embedPlayer=this.embedPlayer;var $overlay=embedPlayer.getInterface().find('.overlay-win,.overlay,.ui-widget-shadow');if($overlay.length&&!embedPlayer._playContorls&&!$overlay.find('.overlayCloseButton').length){embedPlayer.enablePlayControls();}this.displayOptionsMenuFlag=false;$overlay.fadeOut("slow",function(){$overlay.remove();});$overlay.remove();$(embedPlayer).trigger('closeMenuOverlay');return false;},displayMenuOverlay:function(overlayContent,closeCallback,hideCloseButton){var _this=this;var embedPlayer=this.embedPlayer;mw.log('PlayerLayoutBuilder:: displayMenuOverlay');this.displayOptionsMenuFlag=true;if(!this.supportedComponents['overlays']){embedPlayer.stop();}if(embedPlayer.getInterface().find('.overlay-win').length!=0){embedPlayer.getInterface().find('.overlay-content').html(overlayContent);return;}var $overlayContainer=embedPlayer.getInterface();if(hideCloseButton){$overlayContainer=embedPlayer.getVideoHolder();embedPlayer.disablePlayControls(['playlistPrevNext']);embedPlayer.getInterface().find('.play-btn').unbind('click').click(function(){if(embedPlayer._playContorls){embedPlayer.play();}})}$overlayContainer.append($('<div />').addClass('overlay').css({'height':'100%','width':'100%','z-index':2}));var $closeButton=[];if(!hideCloseButton){$closeButton=$('<div />').addClass('ui-state-default ui-corner-all ui-icon_link rButton overlayCloseButton').css({'position':'absolute','cursor':'pointer','top':'2px','right':'2px'}).click(function(){_this.closeMenuOverlay();if(closeCallback){closeCallback();}}).append($('<span />').addClass('ui-icon ui-icon-closethick'));}var overlayMenuCss={'height':'100%','width':'100%','position':'absolute','margin':'0 10px 10px 0','overflow':'auto','padding':'4px','z-index':3};var $overlayMenu=$('<div />').addClass('overlay-win ui-state-default ui-widget-header ui-corner-all').css(overlayMenuCss).append($closeButton,$('<div />').addClass('overlay-content').append(overlayContent));$overlayContainer.prepend($overlayMenu).find('.overlay-win').fadeIn("slow");$(embedPlayer).trigger('displayMenuOverlay');return false;},closeAlert:function(keepOverlay){var embedPlayer=this.embedPlayer;var $alert=embedPlayer.getInterface().find('.alert-container');mw.log('mw.PlayerLayoutBuilder::closeAlert');if(!keepOverlay||(mw.isIpad()&&this.inFullScreen)){this.closeMenuOverlay();}$alert.remove();return false;},displayAlert:function(alertObj){var _this=this;var embedPlayer=this.embedPlayer;var callback;mw.log('PlayerLayoutBuilder::displayAlert:: '+alertObj.title);if(embedPlayer.getInterface().find('.overlay-win').length!=0){return;}if(typeof alertObj.callbackFunction=='string'){if(alertObj.isExternal){try{callback=window.parent[alertObj.callbackFunction];}catch(e){}}else{callback=window[alertObj.callbackFunction];}}else if(typeof alertObj.callbackFunction=='function'){callback=alertObj.callbackFunction;}else{callback=function(){};}var $container=$('<div />').addClass('alert-container');var $title=$('<div />').text(alertObj.title).addClass('alert-title alert-text');if(alertObj.props&&alertObj.props.titleTextColor){$title.removeClass('alert-text');$title.css('color',mw.getHexColor(alertObj.props.titleTextColor));}var $message=$('<div />').html(alertObj.message).addClass('alert-message alert-text');if(alertObj.isError){$message.addClass('error');}if(alertObj.props&&alertObj.props.textColor){$message.removeClass('alert-text');$message.css('color',mw.getHexColor(alertObj.props.textColor));}var $buttonsContainer=$('<div />').addClass('alert-buttons-container');if(alertObj.props&&alertObj.props.buttonRowSpacing){$buttonsContainer.css('margin-top',alertObj.props.buttonRowSpacing);}var $buttonSet=alertObj.buttons||[];var buttonsNum=$buttonSet.length;if(buttonsNum==0&&!alertObj.noButtons){$buttonSet=["OK"];buttonsNum++;}if(buttonsNum>0){$container.addClass('alert-container-with-buttons');}$.each($buttonSet,function(i){var label=this.toString();var $currentButton=$('<button />').addClass('alert-button').text(label).click(function(eventObject){callback(eventObject);_this.closeAlert(alertObj.keepOverlay);});if(alertObj.props&&alertObj.props.buttonHeight){$currentButton.css('height',alertObj.props.buttonHeight);}if(buttonsNum>1){if(i<buttonsNum-1){if(alertObj.props&&alertObj.props.buttonSpacing){$currentButton.css('margin-right',alertObj.props.buttonSpacing);}}}$buttonsContainer.append($currentButton);});$container.append($title,$message,$buttonsContainer);return this.displayMenuOverlay($container,false,true);},getDomComponent:function(componentId){if(this.components[componentId]){return this.components[componentId].o(this);}else{return false;}},components:{}};})(window.mediaWiki,window.jQuery);;},{"all":".mwPlayerContainer video{width:100%;height:100%}.mwPlayerContainer.fullscreen{position:absolute !important;width:100% !important;height:100%! important;z-index:9999;min-height:100%;top:0;left:0;margin:0}.mwPlayerContainer{position:relative;width:100%;height:100%;overflow:hidden}.videoHolder{position:relative;overflow:hidden;width:100%;height:100%;background:#000}.videoDisplay{position:absolute;top:0;left:0;width:100%;height:100%}.maximize{width:100%;height:100%}.mwEmbedPlayer{cursor:pointer;width:100%;height:100%;overflow:hidden;position:absolute;top:0;left:0;background-color:rgba(0,0,0,0)}.mwEmbedPlayerTransparent{background-color:black;opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\"}.mwEmbedPlayer object{position:absolute;top:0;left:0;width:100%;height:100% }.playerPoster{position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;width:auto;height:auto;max-width:100%;max-height:100%}.blackPlayer{position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;width:auto;height:auto;max-width:100%;max-height:100%}.playerPoster.fill-width{min-width:100%;height:auto}.playerPoster.fill-height{min-height:100%;width:auto}\n\n/* cache key: resourceloader:filter:minify-css:7:6df6c27fedc2ac22d161b314fee2e3d7 */\n"},{"mwe-embedplayer-credit-title":"Title: $1","mwe-embedplayer-credit-date":"Date: $1","mwe-embedplayer-credit-author":"Author: $1","mwe-embedplayer-nocredits":"No credits available","mwe-embedplayer-loading_plugin":"Loading plugin ...","mwe-embedplayer-select_playback":"Set playback preference","mwe-embedplayer-link_back":"Link back","mwe-embedplayer-error_swap_vid":"Error: mwEmbed was unable to swap the video tag for the mwEmbed interface","mwe-embedplayer-add_to_end_of_sequence":"Add to end of sequence","mwe-embedplayer-missing_video_stream":"The video file for this stream is missing","mwe-embedplayer-play_clip":"Play clip","mwe-embedplayer-pause_clip":"Pause clip","mwe-embedplayer-replay":"Replay","mwe-embedplayer-volume_control":"Volume control","mwe-embedplayer-volume-mute":"Mute","mwe-embedplayer-volume-unmute":"Unmute","mwe-embedplayer-volume-value":"Volume $1%","mwe-embedplayer-volume-increase":"Increase Volume","mwe-embedplayer-volume-decrease":"Decrease Volume","mwe-embedplayer-select_source":"Quality Settings","mwe-embedplayer-switch_source":"switch in progress","mwe-embedplayer-player_options":"Player options","mwe-embedplayer-timed_text":"Closed Captions","mwe-embedplayer-seek_forward":"Seek forward","mwe-embedplayer-current_time":"Current time $1","mwe-embedplayer-seek_backward":"Seek backward","mwe-embedplayer-player_fullscreen":"Full screen","mwe-embedplayer-player_closefullscreen":"Exit full screen","mwe-embedplayer-next_clip_msg":"Play next clip","mwe-embedplayer-prev_clip_msg":"Play previous clip","mwe-embedplayer-current_clip_msg":"Continue playing this clip","mwe-embedplayer-seek_to":"Seek $1","mwe-embedplayer-paused":"paused","mwe-embedplayer-download_segment":"Download selection:","mwe-embedplayer-download_full":"Download full video file:","mwe-embedplayer-download_right_click":"To download, right click and select <i>Save link as...<\/i>","mwe-embedplayer-download_clip":"Download video","mwe-embedplayer-download_text":"Download text","mwe-embedplayer-download":"Download","mwe-embedplayer-share":"Share","mwe-embedplayer-player_expend":"Expand player","mwe-embedplayer-player_retract":"Shrink player","mwe-embedplayer-credits":"Credits","mwe-embedplayer-about-library":"About Kaltura player","mwe-timedtext-no-subtitles":"No Subtitles","mwe-embedplayer-about-library-desc":"Kaltura's HTML5 media library enables you to take advantage of the HTML5 &lt;video&gt; and &lt;audio&gt; tags today with a consistent player interface across all major browsers.\r\n\r\n[$1 More about the Kaltura player library].","mwe-embedplayer-clip_linkback":"Clip source page","mwe-embedplayer-choose_player":"Choose video player","mwe-embedplayer-no-player":"No player available for $1","mwe-embedplayer-share_this_video":"Share this video","mwe-embedplayer-video_credits":"Video credits","mwe-embedplayer-no-video_credits":"No credits available","mwe-embedplayer-kaltura-platform-title":"Kaltura open source video platform","mwe-embedplayer-menu_btn":"Menu","mwe-embedplayer-close_btn":"Close","mwe-embedplayer-ogg-player-vlc-player":"VLC player","mwe-embedplayer-ogg-player-oggNative":"HTML5 Ogg player","mwe-embedplayer-ogg-player-mp3Native":"HTML5 MP3 player","mwe-embedplayer-ogg-player-aacNative":"HTML5 AAC player","mwe-embedplayer-ogg-player-h264Native":"HTML5 H.264 player","mwe-embedplayer-ogg-player-webmNative":"HTML5 WebM player","mwe-embedplayer-ogg-player-oggPlugin":"Generic Ogg plugin","mwe-embedplayer-ogg-player-quicktime-mozilla":"QuickTime plugin","mwe-embedplayer-ogg-player-quicktime-activex":"QuickTime ActiveX","mwe-embedplayer-ogg-player-cortado":"Java Cortado","mwe-embedplayer-ogg-player-flowplayer":"Flowplayer","mwe-embedplayer-ogg-player-kplayer":"Kaltura player","mwe-embedplayer-ogg-player-selected":"(selected)","mwe-embedplayer-ogg-player-omtkplayer":"OMTK Flash Vorbis","mwe-embedplayer-for_best_experience":"For a better video playback experience we recommend a [$1 HTML5 video browser].","mwe-embedplayer-download-warn":"No compatible in-browser player was detected: for in-browser playback, please download the [$1 latest Firefox]","mwe-embedplayer-fullscreen-tip":"Press <b>F11<\/b> toggle <i>web browser<\/i> fullscreen","mwe-embedplayer-fullscreen-tip-osx":"Press <b>shift \u2318 F<\/b> to toggle fullscreen","mwe-embedplayer-do_not_warn_again":"In the future, do not show this message","mwe-embedplayer-playerSelect":"Players","mwe-embedplayer-read_before_embed":"<a href=\"http:\/\/mediawiki.org\/wiki\/Security_Notes_on_Remote_Embedding\" target=\"new\">Read this<\/a> before embedding.","mwe-embedplayer-embed_site_or_blog":"Embed on a page","mwe-embedplayer-embed_wiki":"Embed on a wiki","mwe-embedplayer-related_videos":"Related videos","mwe-embedplayer-seeking":"seeking","mwe-embedplayer-buffering":"buffering","mwe-embedplayer-video-h264":"H.264 video","mwe-embedplayer-video-webm":"WebM video","mwe-embedplayer-video-flv":"Flash video","mwe-embedplayer-video-ogg":"Ogg video","mwe-embedplayer-video-audio":"Ogg audio","mwe-embedplayer-audio-mpeg":"MPEG audio","mwe-embedplayer-video-3gp":"3GP video","mwe-embedplayer-video-mpeg":"MPEG video","mwe-embedplayer-video-msvideo":"AVI video","mwe-embedplayer-missing-source":"No source video was found","mwe-embedplayer-wrong-reference-id":"Wrong reference id","mwe-embedplayer-video-thumbnail":"Video thumbnail","mwe-embedplayer-video-thumbnail-for":"Video thumbnail for $1","mwe-embedplayer-enable-audio-description":"Enable audio description","mwe-embedplayer-disable-audio-description":"Disable audio description","mwe-embedplayer-no-audio-description":"No audio description available","mwe-embedplayer-install-silverlight":"This video requires Microsoft Silverlight, which is currently not available on your browser. Please <a href=\"http:\/\/www.microsoft.com\/silverlight\/\" target=\"_blank\"> install Microsoft Silverlight <\/a> to view this video."});mw.loader.implement("mw.EmbedPlayerImageOverlay",function($){(function(mw,$){"use strict";mw.EmbedPlayerImageOverlay={instanceOf:'ImageOverlay',playerReady:true,lastPauseTime:0,currentTime:0,startOffset:0,clockStartTime:0,imageLoaded:false,init:function(){if(this['native_instaceOf']=='Native'){return;}for(var i in mw.EmbedPlayerNative){if(typeof mw.EmbedPlayerImageOverlay[i]!='undefined'){this['native_'+i]=mw.EmbedPlayerNative[i];}else{this[i]=mw.EmbedPlayerNative[i];}}},updatePlaybackInterface:function(callback){mw.log('EmbedPlayerImageOverlay:: updatePlaybackInterface: '+$(this).siblings('.playerPoster').length);$(this.getPlayerElement()).css('left',0);this.parent_updatePlaybackInterface(callback);},updatePosterHTML:function(){var vid=this.getPlayerElement();$(vid).empty();this.embedPlayerHTML();},removePoster:function(){},play:function(){mw.log('EmbedPlayerImageOverlay::play> lastPauseTime:'+this.lastPauseTime+' ct: '+this.currentTime);this.captureUserGesture();this.applyIntrinsicAspect();if(this.currentTime>this.getDuration()){this.currentTime=this.pauseTime=0;}this.stopped=false;this.parent_play();this.playInterfaceUpdate();this.clockStartTime=new Date().getTime();this.bufferedPercent=0;this.monitor();this.hideSpinner();$(this).trigger('playing');},getDuration:function(){if(this.duration){return this.duration;}this.updateDuration();return this.duration;},updateDuration:function(){if($(this).data('imageDuration')){this.duration=parseFloat($(this).data('imageDuration'));}else{this.duration=parseFloat(mw.getConfig("EmbedPlayer.DefaultImageDuration"));}},stop:function(){this.currentTime=0;this.parent_stop();},_onpause:function(){},pause:function(){mw.log('EmbedPlayerImageOverlay::pause, lastPauseTime: '+this.lastPauseTime);this.lastPauseTime=this.currentTime;this.parent_pause();},monitor:function(){if(this.duration===0){return;}var oldCurrentTime=this.currentTime;if(this.currentTime>=this.duration){this.updatePlayHead(0);this.stopMonitor();$(this).trigger('ended');}else{this.parent_monitor();}if(oldCurrentTime!=this.currentTime){$(this).trigger('timeupdate');}},seek:function(seekPercent){this.lastPauseTime=seekPercent*this.getDuration();this.seeking=false;$(this).trigger('seeking');$(this).trigger('seeked');this.play();},setCurrentTime:function(time,callback){this.lastPauseTime=time;$(this).trigger('seeking');$(this).trigger('seeked');if(callback){callback();}},playerSwitchSource:function(source,switchCallback,doneCallback){mw.log("EmbedPlayerImageOverlay:: playerSwitchSource");var _this=this;this.mediaElement.selectedSource=source;this.addPlayerSpinner();this.captureUserGesture();this.embedPlayerHTML(function(){mw.log("EmbedPlayerImageOverlay:: playerSwitchSource, embedPlayerHTML callback");_this.applyIntrinsicAspect();_this.play();if(switchCallback){switchCallback(_this);}$(_this).bind('ended.playerSwitchSource',function(){_this.stopMonitor();$(_this).unbind('ended.playerSwitchSource');if(doneCallback){doneCallback(_this);}});});},captureUserGesture:function(){if(!$(this).data('previousInstanceOf')){$(this).data('previousInstanceOf',this.instanceOf);var vid=this.getPlayerElement();$(vid).attr('src',null);this.triggerHelper('AddEmptyBlackSources',[vid]);if(mw.isIOS()){vid.load();}}},updatePoster:function(posterSrc){var _this=this;if(!posterSrc){posterSrc=mw.getConfig('EmbedPlayer.BlackPixel');}this.poster=posterSrc;$(this).find('img.playerPoster').attr('src',this.poster).load(function(){_this.applyIntrinsicAspect();});},embedPlayerHTML:function(callback){var _this=this;mw.log('EmbedPlayerImageOverlay::embedPlayerHTML: '+this.id);this.updateDuration();var currentSoruceObj=this.mediaElement.selectedSource;_this.imageLoaded=false;if(!currentSoruceObj){mw.log("Error:: EmbedPlayerImageOverlay:embedPlayerHTML> missing source");return;}var loadedCallback=function(){_this.applyIntrinsicAspect();_this.clockStartTime=new Date().getTime();_this.imageLoaded=true;_this.monitor();if($.isFunction(callback)){callback();}};var $image=$('<img />').attr({'src':currentSoruceObj.getSrc()}).addClass('playerPoster').one('load',function(){if($.isFunction(loadedCallback)){loadedCallback();loadedCallback=null;}}).each(function(){if(this.complete){$(this).load();}});$(this.getPlayerElement()).css({'left':this.getWidth()+50,'position':'absolute'});$(this).html($image);},getPlayerElementTime:function(){if(!this.imageLoaded){mw.log('image not loaded: 0');this.currentTime=0;}else if(this.paused){this.currentTime=this.lastPauseTime;mw.log('paused time: '+this.currentTime);}else{this.currentTime=((new Date().getTime()-this.clockStartTime)/1000)+this.lastPauseTime;mw.log('clock time: '+this.currentTime);}return this.currentTime;}};})(window.mw,window.jQuery);;},{},{});mw.loader.implement("mw.EmbedPlayerNative",function($){(function(mw,$){"use strict";mw.EmbedPlayerNative={instanceOf:'Native',onlyLoadFlag:false,onLoadedCallback:null,prevCurrentTime:-1,progressEventData:null,mediaLoadedFlag:null,triggerNetworkErrorsFlag:true,keepPlayerOffScreenFlag:null,ignoreNextNativeEvent:null,currentSeekTargetTime:null,ignoreNextError:false,keepNativeFullScreen:false,playing:false,nativeEvents:['loadstart','progress','suspend','abort','error','emptied','stalled','play','pause','loadedmetadata','loadeddata','waiting','playing','canplay','canplaythrough','seeking','seeked','timeupdate','ended','ratechange','durationchange','volumechange'],supports:{'playHead':true,'pause':true,'fullscreen':true,'SourceSelector':true,'timeDisplay':true,'volumeControl':true,'overlays':true},setup:function(readyCallback){var _this=this;this._propagateEvents=true;$(this.getPlayerElement()).css('position','absolute');readyCallback();$(window).unload(function(){_this.triggerNetworkErrorsFlag=false;if(_this.layoutBuilder){_this.layoutBuilder.closeAlert();}});},updateFeatureSupport:function(){if(this.useNativePlayerControls()){this.supports.overlays=false;}if(!this.supportsVolumeControl()){this.supports.volumeControl=false;}if(this.getPlayerElement()&&this.getSrc()){$(this.getPlayerElement()).attr('src',this.getSrc());}if(this.getPlayerElement()){this.applyMediaElementBindings();this.playbackRate=this.getPlayerElement().playbackRate;}this.parent_updateFeatureSupport();},supportsVolumeControl:function(){return!(mw.isIpad()||mw.isAndroid()||mw.isMobileChrome()||this.useNativePlayerControls())},addPlayScreenWithNativeOffScreen:function(){if(!mw.isIphone()){return;}var _this=this;this.hidePlayerOffScreen();this.keepPlayerOffScreenFlag=true;var posterSrc=(this.poster)?this.poster:mw.getConfig('EmbedPlayer.BlackPixel');if($(this).find('.playerPoster').length){$(this).find('.playerPoster').attr('src',posterSrc);}else{$(this).append($('<img />').css({'margin':'0','width':'100%','height':'100%'}).attr('src',posterSrc).addClass('playerPoster').load(function(){_this.applyIntrinsicAspect();}));}$(this).show();},changeMediaCallback:function(callback){if(!this.getSource()){callback();return;}var _this=this;_this.switchPlaySource(this.getSource(),function(){if(!_this.autoplay||!_this.canAutoPlay()){_this.ignoreNextNativeEvent=true;_this.pause();_this.updatePosterHTML();}callback();});},disablePlayer:function(){$(this.getPlayerElement()).css('position','static');},embedPlayerHTML:function(){var _this=this;var vid=_this.getPlayerElement();this.ignoreNextNativeEvent=true;if(vid&&!mw.isIphone()){$(vid).empty();}if(vid&&$(vid).attr('src')==this.getSrc(this.currentTime)){_this.postEmbedActions();return;}mw.log("EmbedPlayerNative::embedPlayerHTML > play url:"+this.getSrc(this.currentTime)+' startOffset: '+this.start_ntp+' end: '+this.end_ntp);if(this.isPersistentNativePlayer()&&vid){_this.postEmbedActions();return;}_this.bufferStartFlag=false;_this.bufferEndFlag=false;$(this).html(_this.getNativePlayerHtml());_this.postEmbedActions();},getNativePlayerHtml:function(playerAttribtues,cssSet){if(!playerAttribtues){playerAttribtues={};}if(!playerAttribtues['id']){playerAttribtues['id']=this.pid;}if(!playerAttribtues['src']){playerAttribtues['src']=this.getSrc(this.currentTime);}if(this.autoplay){playerAttribtues['autoplay']='true';}if(!cssSet){cssSet={};}if(!cssSet['width'])cssSet['width']='100%';if(!cssSet['height'])cssSet['height']='100%';if(this.loop){playerAttribtues['loop']='true';}var tagName=this.isAudio()?'audio':'video';return $('<'+tagName+' />').addClass('nativeEmbedPlayerPid').attr(playerAttribtues).css(cssSet)},canAutoPlay:function(){return!mw.isAndroid()&&!mw.isMobileChrome()&&!mw.isIOS();},postEmbedActions:function(){var _this=this;var vid=this.getPlayerElement();if(!vid){return;}if($(vid).attr('src')!=this.getSrc(this.currentTime)){$(vid).attr('src',this.getSrc(this.currentTime));}if(this.muted){vid.muted=true;}if(mw.getConfig('EmbedPlayer.WebKitAllowAirplay')){$(vid).attr('x-webkit-airplay',"allow");}if(this.useNativePlayerControls()){$(vid).attr('controls',"true");}$(vid).show();_this.applyMediaElementBindings();if(this.currentTime!=vid.currentTime){var waitReadyStateCount=0;var checkReadyState=function(){if(vid.readyState>0){vid.currentTime=this.currentTime;return;}if(waitReadyStateCount>1000){mw.log("Error: EmbedPlayerNative: could not run native seek");return;}waitReadyStateCount++;setTimeout(function(){checkReadyState();},10);};}if(!_this.loop&&(mw.isIphone()||(mw.isIpad()&&mw.isIOS5()))){mw.log("EmbedPlayerNative::postEmbedActions: issue .load() call");vid.load();}},applyMediaElementBindings:function(){var _this=this;mw.log("EmbedPlayerNative::MediaElementBindings");var vid=this.getPlayerElement();if(!vid){mw.log(" Error: applyMediaElementBindings without player elemnet");return;}$.each(_this.nativeEvents,function(inx,eventName){$(vid).unbind(eventName+'.embedPlayerNative').bind(eventName+'.embedPlayerNative',function(){if(_this._propagateEvents&&_this.instanceOf=='Native'){var argArray=$.makeArray(arguments);if(_this['_on'+eventName]){_this['_on'+eventName].apply(_this,argArray);}else{$(_this).trigger(eventName,argArray);}}});});},monitor:function(){var _this=this;var vid=_this.getPlayerElement();if(vid&&vid.buffered&&vid.buffered.end&&vid.duration){try{this.updateBufferStatus(vid.buffered.end(vid.buffered.length-1)/vid.duration);}catch(e){}}_this.parent_monitor();},seek:function(percent,stopAfterSeek){var _this=this;if(percent<0){percent=0;}if(percent>1){percent=1;}mw.log('EmbedPlayerNative::seek p: '+percent+' : '+this.supportsURLTimeEncoding()+' dur: '+this.getDuration()+' sts:'+this.seekTimeSec);this.kPreSeekTime=_this.currentTime;this.triggerHelper('preSeek',percent);this.seeking=true;this.currentTime=(percent*this.duration).toFixed(2);mw.log('EmbedPlayerNative::seek:trigger');this.triggerHelper('seeking');this.layoutBuilder.onSeek();if(this.supportsURLTimeEncoding()){if(percent<this.bufferedPercent&&this.playerElement.duration&&!this.didSeekJump){mw.log("EmbedPlayerNative::seek local seek "+percent+' is already buffered < '+this.bufferedPercent);this.doNativeSeek(percent);}else{this.parent_seek(percent);}}else{this.doNativeSeek(percent,function(){if(stopAfterSeek){_this.hideSpinner();_this.pause();_this.updatePlayheadStatus();}else{setTimeout(function(){if(!_this.stopPlayAfterSeek){mw.log("EmbedPlayerNative::sPlay after seek");_this.play();_this.stopPlayAfterSeek=false;}},0);}});}},doNativeSeek:function(percent,callback){var _this=this;if((navigator.userAgent.indexOf('Chrome')===-1)&&_this.playerElement.seeking){return;}mw.log('EmbedPlayerNative::doNativeSeek::'+percent);this.seeking=true;this.seekTimeSec=0;if(mw.isIOS()){this.hidePlayerOffScreen();}var targetTime=percent*this.getDuration();if(this.startOffset){targetTime+=parseFloat(this.startOffset);}this.setCurrentTime(targetTime,function(){_this.currentTime=_this.getPlayerElement().currentTime;if(_this.seeking){_this.seeking=false;$(_this).trigger('seeked');}_this.restorePlayerOnScreen();_this.monitor();if(callback){callback();}});},doPlayThenSeek:function(percent){mw.log('EmbedPlayerNative::doPlayThenSeek::'+percent+' isPaused '+this.paused);var _this=this;var oldPauseState=this.paused;this.play();var retryCount=0;var readyForSeek=function(){_this.getPlayerElement();if(_this.playerElement&&_this.playerElement.duration){_this.doNativeSeek(percent,function(){if(oldPauseState){_this.pause();}});}else{if(retryCount<800){setTimeout(readyForSeek,10);retryCount++;}else{mw.log('EmbedPlayerNative:: Error: doPlayThenSeek failed :'+_this.playerElement.duration);}}};readyForSeek();},setCurrentTime:function(seekTime,callback,callbackCount){var _this=this;if(!callbackCount){callbackCount=0;}seekTime=parseFloat(seekTime);mw.log("EmbedPlayerNative:: setCurrentTime seekTime:"+seekTime+' count:'+callbackCount);var vid=this.getPlayerElement();if(this.currentState=="end"&&mw.isIphone()){vid.play();this.playing=true;}if(callbackCount==0&&vid.currentTime==0){$(vid).attr('preload','auto')[0].load();}$(this).data('currentSeekTarget',seekTime);var callbackHandler=function(){_this.seeking=false;if($.isFunction(callback)){callback();callback=null;}}
	if(vid.readyState<1){if(callbackCount==0&&vid.paused){this.stopEventPropagation();$(vid).on('play.seekPrePlay',function(){_this.restoreEventPropagation();$(vid).off('play.seekPrePlay');});vid.load();vid.play();}if(callbackCount>=15){mw.log("Error:: EmbedPlayerNative: with seek request, media never in ready state");callbackHandler();return;}setTimeout(function(){if($(_this).data('currentSeekTarget')!=seekTime){mw.log("EmbedPlayerNative:: expired seek target");return;}_this.setCurrentTime(seekTime,callback,callbackCount+1);},1000);return;}if(vid.currentTime.toFixed(2)==seekTime.toFixed(2)){mw.log("EmbedPlayerNative:: setCurrentTime: current time matches seek target: "+vid.currentTime.toFixed(2)+' == '+seekTime.toFixed(2));callbackHandler();return;}var seekBind='seeked.nativeSeekBind';$(vid).unbind(seekBind).bind(seekBind,function(event){$(vid).unbind(seekBind);if(seekTime==0&&vid.currentTime==0){callbackHandler();return;}if(seekTime>0.01&&_this.isFakeHlsSeek()){var canPlayBind='canplay.nativePlayBind';$(vid).unbind(canPlayBind).bind(canPlayBind,function(event){$(vid).unbind(canPlayBind);callbackHandler();});}else{if(vid.currentTime>0){callbackHandler();}else{mw.log("Error:: EmbedPlayerNative: seek callback without time updated "+vid.currentTime);}}});setTimeout(function(){if($(_this).data('currentSeekTarget')!=seekTime){mw.log("EmbedPlayerNative:: Expired seek target");return;}if($.isFunction(callback)){if(Math.abs(vid.currentTime-seekTime)<5){mw.log("EmbedPlayerNative:: Video time: "+vid.currentTime+" is within 5 seconds of target"+seekTime+", sucessfull seek");callbackHandler();}else{mw.log("Error:: EmbedPlayerNative: Seek still has not made a callback after 5 seconds, retry");_this.setCurrentTime(seekTime,callback,callbackCount++);}}},5000);try{_this.seeking=true;_this.currentSeekTargetTime=seekTime.toFixed(2);vid.currentTime=_this.currentSeekTargetTime;}catch(e){mw.log("Error:: EmbedPlayerNative: Could not set video tag seekTime");callbackHandler();return;}if(!vid.seeking){mw.log("Error:: not entering seek state, play and wait for positive time");vid.play();setTimeout(function(){_this.waitForPositiveCurrentTime(function(){mw.log("EmbedPlayerNative:: Got possitive time:"+vid.currentTime.toFixed(2)+", trying to seek again");_this.setCurrentTime(seekTime,callback,callbackCount+1);});},mw.getConfig('EmbedPlayer.MonitorRate'));}},waitForPositiveCurrentTime:function(callback){var _this=this;var vid=this.getPlayerElement();this.waitForPositiveCurrentTimeCount++;if(vid.currentTime>0){mw.log('EmbedPlayerNative:: waitForPositiveCurrentTime success');callback();}else if(this.waitForPositiveCurrentTimeCount>200){mw.log("Error:: waitForPositiveCurrentTime failed to reach possitve time");callback();}else{setTimeout(function(){_this.waitForPositiveCurrentTime(callback)},50)}},getPlayerElementTime:function(){var _this=this;this.getPlayerElement();if(!this.playerElement){mw.log('EmbedPlayerNative::getPlayerElementTime: '+this.id+' not in dom ( stop monitor)');this.stop();return false;}var ct=this.playerElement.currentTime;if(!ct||isNaN(ct)||ct<0||!isFinite(ct)){return 0;}return this.playerElement.currentTime;},updatePoster:function(src){if(this.getPlayerElement()){$(this.getPlayerElement()).attr('poster',src);}this.parent_updatePoster(src);},emptySources:function(){var _this=this;this.ignoreNextError=true;setTimeout(function(){_this.ignoreNextError=false;},5000);$(this.getPlayerElement()).attr('src',null).attr('poster',null);this.parent_emptySources();},playerSwitchSource:function(source,switchCallback,doneCallback){var _this=this;var src=source.getSrc();var vid=this.getPlayerElement();var switchBindPostfix='.playerSwitchSource';this.isPauseLoading=false;if(!src||src==vid.src){if($.isFunction(switchCallback)){switchCallback(vid);}if($.isFunction(doneCallback)){_this.ignoreNextError=false;doneCallback();}return;}$(vid).attr('preload','auto');mw.log('EmbedPlayerNative:: playerSwitchSource: '+src+' native time: '+vid.currentTime);this.ignoreNextNativeEvent=true;this.currentTime=0;this.previousTime=0;if(vid){try{$(vid).unbind(switchBindPostfix);vid.pause();var originalControlsState=vid.controls;vid.removeAttribute('controls');if(_this.isFlavorSwitching){_this.seeking=true;}else{_this.seeking=false;}if(!_this.firstPlay){_this.addPlayerSpinner();_this.addBlackScreen();}$(vid).empty();if(mw.isIpad()){vid.load();}if(mw.isIOS7()){vid.src=null;var sourceTag=document.createElement('source');sourceTag.setAttribute('src',src);vid.appendChild(sourceTag);}else{vid.src=src;}if(mw.isDesktopSafari()){vid.load();}_this.hidePlayerOffScreen();$(vid).bind('loadedmetadata'+switchBindPostfix,function(){$(vid).unbind('loadedmetadata'+switchBindPostfix);mw.log("EmbedPlayerNative:: playerSwitchSource> loadedmetadata callback for:"+src);if($.isFunction(switchCallback)){vid.play();}else{_this.removeBlackScreen();}});var handleSwitchCallback=function(){_this.restorePlayerOnScreen();_this.hideSpinner();vid.controls=originalControlsState;_this.ignoreNextError=false;if($.isFunction(switchCallback)){mw.log("EmbedPlayerNative:: playerSwitchSource> call switchCallback");switchCallback(vid);switchCallback=null;}}
	$(vid).bind('playing'+switchBindPostfix,function(){$(vid).unbind('playing'+switchBindPostfix);mw.log("EmbedPlayerNative:: playerSwitchSource> playing callback: "+vid.currentTime);handleSwitchCallback();setTimeout(function(){_this.removeBlackScreen();},100);});if($.isFunction(doneCallback)){$(vid).bind('ended'+switchBindPostfix,function(event){if(_this.mobileChromeTimeoutID){clearTimeout(_this.mobileChromeTimeoutID);_this.mobileChromeTimeoutID=null;}$(vid).unbind(switchBindPostfix);doneCallback();return false;});if(mw.isMobileChrome()){$(vid).bind('timeupdate'+switchBindPostfix,function(e){var _this=this;var timeDiff=this.duration-this.currentTime;if(timeDiff<0.5){_this.mobileChromeTimeoutID=setTimeout(function(){_this.mobileChromeTimeoutID=null;if(timeDiff<=(_this.duration-_this.currentTime)){mw.log('EmbedPlayerNative:: playerSwitchSource> error in getting ended event, issue doneCallback directly.');$(vid).unbind(switchBindPostfix);doneCallback();}},2000);}});}}vid.play();setTimeout(function(){if(vid.readyState===0&&$.isFunction(switchCallback)&&!_this.canAutoPlay()){mw.log("EmbedPlayerNative:: Error: possible play without user click gesture, issue callback");handleSwitchCallback();_this.pause();}},10000);}catch(e){mw.log("Error: EmbedPlayerNative Error in switching source playback");}}},hidePlayerOffScreen:function(vid){var vid=this.getPlayerElement();$(vid).css({'position':'absolute','left':'-4048px'});},restorePlayerOnScreen:function(vid){var vid=this.getPlayerElement();if(this.keepPlayerOffScreenFlag||this.instanceOf!='Native'){return;}if(!this.isAudioPlayer)$(this).find('.playerPoster').remove();$(vid).css({'left':'0px','top':'0px'});},pause:function(){this.getPlayerElement();this.parent_pause();if(this.playerElement){this.playerElement.pause();}},play:function(){var vid=this.getPlayerElement();var _this=this;if(this.isStopped()&&this._playContorls){this.restorePlayerOnScreen();}var doPlay=function(){if(_this.parent_play()){if(_this.getPlayerElement()&&_this.getPlayerElement().play){mw.log("EmbedPlayerNative:: issue native play call:");if($(vid).attr('src')!=_this.getSrc()){$(vid).attr('src',_this.getSrc());}_this.hideSpinnerOncePlaying();$(_this.getPlayerElement()).show();if(!_this.isAudio()){$(_this).find('.playerPoster').remove();}if(_this.useNativePlayerControls()&&$(_this).find('video ').length==0){$(_this).hide();}$(_this.getPlayerElement()).attr('preload',"auto");if(!_this.playing){_this.getPlayerElement().play();}_this.monitor();}}else{mw.log("EmbedPlayerNative:: parent play returned false, don't issue play on native element");}}
	if(this.firstPlay&&mw.isAndroid4andUp()&&mw.getConfig('EmbedPlayer.twoPhaseManifestHlsAndroid')&&this.mediaElement.selectedSource.getMIMEType()=='application/vnd.apple.mpegurl'&&!this.isLive()){this.getHlsUrl().then(function(){var firstTimePostfix=".firstTime";$(vid).bind('timeupdate'+firstTimePostfix,function(){if(_this.currentTime>=1){$(vid).unbind('timeupdate'+firstTimePostfix);vid.pause();vid.play();}});doPlay();});}else{doPlay();}},getHlsUrl:function(){var deferred=$.Deferred();var _this=this;var requestUrl=this.getSrc();if(requestUrl.indexOf("?")!=-1){requestUrl+="&responseFormat=jsonp";}else{requestUrl+="?responseFormat=jsonp";}$.ajax({url:requestUrl,dataType:'jsonp',success:function(jsonpResponse){var flavors=jsonpResponse.flavors;if(flavors.length==1){_this.mediaElement.selectedSource.setSrc(flavors[0].url);}deferred.resolve();},error:function(){deferred.resolve();}});return deferred.promise();},stop:function(){var _this=this;if(this.playerElement&&this.playerElement.currentTime){this.playerElement.pause();}this.parent_stop();},toggleMute:function(){this.parent_toggleMute();this.getPlayerElement();if(this.playerElement)this.playerElement.muted=this.muted;},setPlayerElementVolume:function(percent){if(this.getPlayerElement()){if(percent!=0){this.playerElement.muted=false;}this.playerElement.volume=percent;}},getPlayerElementVolume:function(){if(this.getPlayerElement()){return this.playerElement.volume;}},getPlayerElementMuted:function(){if(this.getPlayerElement()){return this.playerElement.muted;}},getNativeDuration:function(){if(this.playerElement){return this.playerElement.duration;}},load:function(callback){this.getPlayerElement();if(!this.playerElement){mw.log('EmbedPlayerNative::load() ... doEmbed');this.onlyLoadFlag=true;this.embedPlayerHTML();this.onLoadedCallback=callback;}else{this.playerElement.load();if(callback){callback();}}},getPlayerElement:function(){this.playerElement=$('#'+this.pid).get(0);return this.playerElement;},_onseeking:function(){var nua=navigator.userAgent;var is_native_android_browser=((nua.indexOf('Mozilla/5.0')>-1&&nua.indexOf('Android ')>-1&&nua.indexOf('AppleWebKit')>-1)&&!(nua.indexOf('Chrome')>-1));if(is_native_android_browser){return;}mw.log("EmbedPlayerNative::onSeeking "+this.seeking+' new time: '+this.getPlayerElement().currentTime);if(this.seeking&&Math.round(this.getPlayerElement().currentTime-this.currentSeekTargetTime)>2){mw.log("Error:: EmbedPlayerNative Seek time missmatch: target:"+this.getPlayerElement().currentTime+' actual '+this.currentSeekTargetTime+', note apple HLS can only seek to 10 second targets');}if(!this.seeking){this.currentSeekTargetTime=this.getPlayerElement().currentTime;this.seeking=true;this.layoutBuilder.onSeek();mw.log("EmbedPlayerNative::seeking:trigger:: "+this.seeking);if(this._propagateEvents){this.triggerHelper('seeking');}}},_onseeked:function(){mw.log("EmbedPlayerNative::onSeeked "+this.seeking+' ct:'+this.playerElement.currentTime);this.previousTime=this.currentTime=this.playerElement.currentTime;this.kPreSeekTime=null;if(this.seeking){if(this.isFakeHlsSeek()){mw.log("Error:: EmbedPlayerNative:seeked triggred with time mismatch: target:"+this.currentSeekTargetTime+' actual:'+this.getPlayerElement().currentTime);return;}this.seeking=false;this.isFlavorSwitching=false;if(this._propagateEvents){mw.log("EmbedPlayerNative:: trigger: seeked");this.triggerHelper('seeked');}}this.hideSpinner();this.updatePlayheadStatus();this.monitor();},_onpause:function(){var _this=this;this.playing=false;if(this.ignoreNextNativeEvent){this.ignoreNextNativeEvent=false;return;}var timeSincePlay=Math.abs(this.absoluteStartPlayTime-new Date().getTime());mw.log("EmbedPlayerNative:: OnPaused:: propagate:"+this._propagateEvents+' time since play: '+timeSincePlay+' duringSeek:'+this.seeking);if(!this.seeking&&!this.userSlide&&timeSincePlay>mw.getConfig('EmbedPlayer.MonitorRate')){_this.parent_pause();if(mw.isIphone()){_this.updatePosterHTML();}}else{this.getPlayerElement().play();}},_onplay:function(){mw.log("EmbedPlayerNative:: OnPlay:: propogate:"+this._propagateEvents+' paused: '+this.paused);if(this.useNativePlayerControls()&&$(this).find('video ').length==0){$(this).hide();}if(!this.ignoreNextNativeEvent&&this._propagateEvents&&this.paused&&(mw.getConfig('EmbedPlayer.EnableIpadHTMLControls')===true)){this.parent_play();}else{this.playInterfaceUpdate();this.absoluteStartPlayTime=new Date().getTime();if(this.firstPlay&&this._propagateEvents){this.firstPlay=false;this.triggerHelper('firstPlay');}}this.ignoreNextNativeEvent=false;},_onloadedmetadata:function(){this.getPlayerElement();if(!this.duration&&this.playerElement&&!isNaN(this.playerElement.duration)&&isFinite(this.playerElement.duration)){mw.log('EmbedPlayerNative :onloadedmetadata metadata ready Update duration:'+this.playerElement.duration+' old dur: '+this.getDuration());this.setDuration(this.playerElement.duration);}if(!this.paused&&this._propagateEvents){this.getPlayerElement().play();}if(typeof this.onLoadedCallback=='function'){this.onLoadedCallback();}if(!this.mediaLoadedFlag){$(this).trigger('mediaLoaded');this.mediaLoadedFlag=true;}},_onprogress:function(event){var e=event.originalEvent;if(e&&e.loaded&&e.total){this.updateBufferStatus(e.loaded/e.total);this.progressEventData=e.loaded;}},_onended:function(event){var _this=this;if(this.getPlayerElement()){mw.log('EmbedPlayer:native: onended:'+this.playerElement.currentTime+' real dur:'+this.getDuration()+' ended '+this._propagateEvents);if(this._propagateEvents){this.onClipDone();}}},_onerror:function(event){if(this.ignoreNextError){return;}var _this=this;setTimeout(function(){if(_this.triggerNetworkErrorsFlag){_this.triggerHelper('embedPlayerError');}},3000);},_onwaiting:function(){if(this.isLive()){this.bufferStart();}},_oncanplay:function(event){if(this.isLive()&&this.buffering){this.bufferEnd();}},onClipDone:function(){this.parent_onClipDone();if(mw.isIphone()&&!this.loop){$(this).trigger('onEndedDone');}if(!this._propagateEvents){return;}var _this=this;if(_this.isImagePlayScreen()&&!_this.isPlaylistScreen()){if(!this.keepNativeFullScreen){_this.getPlayerElement().webkitExitFullScreen();}}$(this).unbind('onEndedDone.onClipDone').bind('onEndedDone.onClipDone',function(){if(!_this.isImagePlayScreen()){_this.keepPlayerOffScreenFlag=false;}else{mw.log('EmbedPlayer::onClipDone: Exit full screen');if(!_this.keepNativeFullScreen){_this.getPlayerElement().webkitExitFullScreen();}}});},enableNativeControls:function(){$(this.getPlayerElement()).attr('controls',"true");},backToLive:function(){this.triggerHelper('movingBackToLive');var vid=this.getPlayerElement();vid.load();vid.play();},triggerPreSequence:function(){var _this=this;if(mw.isAndroid()){var bindPostFix=".preSequenceCheck";this.bindHelper('playing'+bindPostFix,function(){_this.unbindHelper('playing'+bindPostFix);_this.parent_triggerPreSequence();});}else{_this.parent_triggerPreSequence();}},isFakeHlsSeek:function(){return((Math.abs(this.currentSeekTargetTime-this.getPlayerElement().currentTime)>2)||mw.isIpad());}};})(mediaWiki,jQuery);;},{},{});mw.loader.implement("mw.EmbedPlayerNativeComponent",function($){(function(mw,$){"use strict";if(mw.getConfig("EmbedPlayer.ForceNativeComponent")){$('body,.videoHolder').css('background-color','transparent');}mw.EmbedPlayerNativeComponent={instanceOf:'NativeComponent',onlyLoadFlag:false,onLoadedCallback:null,prevCurrentTime:-1,progressEventData:null,mediaLoadedFlag:null,keepPlayerOffScreenFlag:null,ignoreNextNativeEvent:null,currentSeekTargetTime:null,nativeEvents:['stop','play','pause','canplay','seeking','seeked','ended','error','stalled','loadedmetadata','timeupdate','progress','enterfullscreen','exitfullscreen','durationchange'],supports:{'playHead':true,'pause':true,'fullscreen':true,'SourceSelector':false,'timeDisplay':true,'volumeControl':false,'overlays':true},embedPlayerHTML:function(){var _this=this;if(!this.playerIsLoaded){mw.log("NativeComponent:: embedPlayerHTML");$('#'+this.pid).remove();var divElement=document.createElement("div");divElement.setAttribute('id','proxy');document.body.appendChild(divElement);this.proxyElement=divElement;try{if(NativeBridge.videoPlayer){NativeBridge.videoPlayer.registePlayer(this.getPlayerElement());NativeBridge.videoPlayer.registerEmbedPlayer(this);}}catch(e){alert(e);}this.applyMediaElementBindings();this.getPlayerElement().attr('src',this.getSrc());this.playerIsLoaded=true;}},playerSwitchSource:function(source,switchCallback,doneCallback){mw.log("NativeComponent:: playerSwitchSource");var _this=this;var vid=this.getPlayerElement();var switchBindPostfix='.playerSwitchSource';_this.addPlayerSpinner();$(vid).empty();if(mw.isDesktopSafari()){vid.load();}if(this.getSrc()!=source.getSrc()){vid.attr('src',source.getSrc());}else{vid.attr('src',this.getSrc());}this.isPauseLoading=false;if(switchCallback){_this.hideSpinner();switchCallback(vid);}$(vid).bind('loadedmetadata'+switchBindPostfix,function(){$(vid).unbind('loadedmetadata'+switchBindPostfix);mw.log("EmbedPlayerNative:: playerSwitchSource> loadedmetadata callback");if($.isFunction(switchCallback)){setTimeout(function(){vid.play();},100);}});if($.isFunction(doneCallback)){$(vid).bind('ended'+switchBindPostfix,function(event){$(_this.getPlayerElement()).unbind(switchBindPostfix);doneCallback();return false;});}},applyMediaElementBindings:function(){var _this=this;mw.log("EmbedPlayerNative::MediaElementBindings");$.each(_this.nativeEvents,function(inx,eventName){$(_this.getPlayerElement()).unbind(eventName).bind(eventName,function(){if(_this._propagateEvents&&_this.instanceOf=='NativeComponent'){var argArray=$.makeArray(arguments);if(_this['_on'+eventName]){_this['_on'+eventName].apply(_this,argArray);}else{$(_this).trigger(eventName,argArray);}}});});},getPlayerElementTime:function(){var _this=this;if(!this.getPlayerElement()){mw.log('EmbedPlayerNative::getPlayerElementTime: '+this.id+' not in dom ( stop monitor)');this.stop();return false;}var ct=this.getPlayerElement().attr('currentTime');if(!ct||isNaN(ct)||ct<0||!isFinite(ct)){return 0;}return ct;},getPlayerElement:function(){return this.proxyElement;},stop:function(){mw.log("EmbedPlayerNativeComponent:: stop::");this.parent_stop();if(this.getPlayerElement()&&this.getPlayerElement().attr('currentTime')){this.getPlayerElement().attr('currentTime','0');this.getPlayerElement().stop();}},play:function(){mw.log("EmbedPlayerNativeComponent:: play::");$(this).find('.playerPoster').remove();if(this.getPlayerElement()){this.getPlayerElement().play();}$(this).trigger("playing");if(this.parent_play()){this.monitor();}},pause:function(){mw.log("EmbedPlayerNativeComponent:: pause::");this.parent_pause();if(this.getPlayerElement()){this.getPlayerElement().pause();}},seek:function(percentage){mw.log("EmbedPlayerNativeComponent:: seek::");var seekTime=percentage*this.getDuration();this.getPlayerElement().attr('currentTime',seekTime);this.parent_seek(percentage);},canAutoPlay:function(){return true;},_onplay:function(){mw.log("EmbedPlayerNativeComponent:: OnPlay::");$(this).trigger("playing");if(this.paused&&this.parent_play()){this.monitor();}},_onpause:function(){mw.log("EmbedPlayerNativeComponent:: OnPause::");this.parent_pause();},_onseeking:function(){mw.log("EmbedPlayerNative::onSeeking ");mw.log("EmbedPlayerNative::seeking:trigger:: ");if(this._propagateEvents){this.triggerHelper('seeking');}},_onseeked:function(){mw.log("EmbedPlayerNative::onSeeked ");this.seeking=false;if(this._propagateEvents){mw.log("EmbedPlayerNative:: trigger: seeked");this.triggerHelper('seeked');}this.monitor();},_onloadedmetadata:function(){if(typeof this.onLoadedCallback=='function'){this.onLoadedCallback();}if(!this.mediaLoadedFlag){$(this).trigger('mediaLoaded');this.mediaLoadedFlag=true;}},_onended:function(event){if(this.getPlayerElement()){mw.log('EmbedPlayer:native: onended:');if(this._propagateEvents){this.onClipDone();}}},onClipDone:function(){this.parent_onClipDone();},_onerror:function(event){this.triggerHelper('embedPlayerError');},_onprogress:function(event,progress){if(typeof progress!=='undefined'){this.updateBufferStatus(progress);}},getVideoElementPosition:function(){var videoElementDiv=parent.document.getElementById(this.id);var videoElementRect=videoElementDiv.getBoundingClientRect();return videoElementRect;},showNativePlayer:function(){this.getPlayerElement().showNativePlayer();},hideNativePlayer:function(){this.getPlayerElement().hideNativePlayer();},useNativePlayerControls:function(){return false;},toggleFullscreen:function(){this.getPlayerElement().toggleFullscreen();},doneFSBtnPressed:function(){this.getPlayerElement().doneFSBtnPressed();},addNativeAirPlayButton:function(){this.getPlayerElement().addNativeAirPlayButton();},showNativeAirPlayButton:function(airPlayBtnPosition){var x=airPlayBtnPosition.left;var y=airPlayBtnPosition.top;var w=airPlayBtnPosition.right-airPlayBtnPosition.left;var h=airPlayBtnPosition.bottom-airPlayBtnPosition.top;this.getPlayerElement().showNativeAirPlayButton([x,y,w,h]);},hideNativeAirPlayButton:function(){this.getPlayerElement().hideNativeAirPlayButton();}};})(mediaWiki,jQuery);;},{},{});mw.loader.implement("mw.EmbedTypes",function($){(function(mw,$){"use strict";var nativeComponentPlayerVideo=new mw.MediaPlayer('nativeComponentPlayer',['video/h264','video/mp4','application/vnd.apple.mpegurl'],'NativeComponent');var kplayer=new mw.MediaPlayer('kplayer',['video/live','video/kontiki','video/wvm','video/x-flv','video/h264','video/mp4','audio/mpeg','application/x-shockwave-flash','application/vnd.apple.mpegurl'],'Kplayer');var splayer=new mw.MediaPlayer('splayer',['video/playreadySmooth','video/ism','video/multicast','video/h264','video/mp4'],'Silverlight');var cortadoPlayer=new mw.MediaPlayer('cortado',['video/ogg','audio/ogg','application/ogg'],'Java');var oggNativePlayer=new mw.MediaPlayer('oggNative',['video/ogg','audio/ogg','application/ogg'],'Native');var h264NativePlayer=new mw.MediaPlayer('h264Native',['video/h264','video/mp4'],'Native');var appleVdnPlayer=new mw.MediaPlayer('appleVdn',['application/vnd.apple.mpegurl'],'Native');var mp3NativePlayer=new mw.MediaPlayer('mp3Native',['audio/mpeg','audio/mp3'],'Native');var webmNativePlayer=new mw.MediaPlayer('webmNative',['video/webm'],'Native');var imageOverlayPlayer=new mw.MediaPlayer('imageOverlay',['image/jpeg','image/png'],'ImageOverlay');mw.EmbedTypes={mediaPlayers:null,detect_done:false,init:function(){this.detect();this.detect_done=true;},getMediaPlayers:function(){if(this.mediaPlayers){return this.mediaPlayers;}this.mediaPlayers=new mw.MediaPlayers();this.detectPlayers();return this.mediaPlayers;},getNativeComponentPlayerVideo:function(){return nativeComponentPlayerVideo;},supportedMimeType:function(mimeType){for(var i=0;i<navigator.plugins.length;i++){var plugin=navigator.plugins[i];if(typeof plugin[mimeType]!="undefined"){return true;}}return false;},addFlashPlayer:function(){if(!mw.getConfig('EmbedPlayer.DisableHTML5FlashFallback')){this.mediaPlayers.addPlayer(kplayer);}},addSilverlightPlayer:function(){this.mediaPlayers.addPlayer(splayer);},addJavaPlayer:function(){if(!mw.getConfig('EmbedPlayer.DisableJava')){this.mediaPlayers.addPlayer(cortadoPlayer);}},addNativeComponentPlayer:function(){this.mediaPlayers.addPlayer(nativeComponentPlayerVideo);},detectPlayers:function(){mw.log("EmbedTypes::detectPlayers running detect");this.mediaPlayers.addPlayer(imageOverlayPlayer);try{var javaEnabled=navigator.javaEnabled();}catch(e){}if(mw.getConfig("EmbedPlayer.ForceNativeComponent")){this.addNativeComponentPlayer();}if(javaEnabled&&(navigator.appName=='Opera')){this.addJavaPlayer();}if(mw.supportsFlash()){this.addFlashPlayer();}if(mw.supportSilverlight()){this.addSilverlightPlayer();}if(mw.isIE()&&this.testActiveX('JavaWebStart.isInstalled')){this.addJavaPlayer();}if(!mw.getConfig('EmbedPlayer.DisableVideoTagSupport')&&(typeof HTMLVideoElement=='object'||typeof HTMLVideoElement=='function')){try{var dummyvid=document.createElement("video");if(dummyvid.canPlayType){if(dummyvid.canPlayType('video/webm; codecs="vp8, vorbis"')&&!mw.isAndroid40()){this.mediaPlayers.addPlayer(webmNativePlayer);}if(this.supportedMimeType('audio/mpeg')||dummyvid.canPlayType('audio/mpeg; codecs="mp3"')){this.mediaPlayers.addPlayer(mp3NativePlayer);}if(dummyvid.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')){this.mediaPlayers.addPlayer(h264NativePlayer);if(dummyvid.canPlayType('application/vnd.apple.mpegurl; codecs="avc1.42E01E"')||mw.isAndroid4andUp()){if(navigator.userAgent.indexOf('Android 3.')==-1){this.mediaPlayers.addPlayer(appleVdnPlayer);}}}if(mw.isAndroid2()){this.mediaPlayers.addPlayer(h264NativePlayer);}if(dummyvid.canPlayType('video/ogg; codecs="theora,vorbis"')){this.mediaPlayers.addPlayer(oggNativePlayer);}else if(this.supportedMimeType('video/ogg')){this.mediaPlayers.addPlayer(oggNativePlayer);}}}catch(e){mw.log('could not run canPlayType '+e);}}if(navigator.mimeTypes&&navigator.mimeTypes.length>0){for(var i=0;i<navigator.mimeTypes.length;i++){var type=navigator.mimeTypes[i].type;var semicolonPos=type.indexOf(';');if(semicolonPos>-1){type=type.substr(0,semicolonPos);}var pluginName=navigator.mimeTypes[i].enabledPlugin?navigator.mimeTypes[i].enabledPlugin.name:'';if(!pluginName){pluginName='';}if(type=='application/x-java-applet'){this.addJavaPlayer();continue;}if((type=='video/mpeg'||type=='video/x-msvideo')){}if(type=='application/ogg'){continue;}}}mw.log("EmbedPlayer::trigger:EmbedPlayerUpdateMediaPlayers");$(mw).trigger('EmbedPlayerUpdateMediaPlayers',this.mediaPlayers);},testActiveX:function(name){mw.log("EmbedPlayer::detect: test testActiveX: "+name);var hasObj=true;try{var obj=new ActiveXObject(''+name);}catch(e){hasObj=false;}return hasObj;},getKplayer:function(){return kplayer;},getSilverlightPlayer:function(){return splayer;}};})(mediaWiki,jQuery);;},{},{});mw.loader.implement("mw.KAnalytics",function($){(function(mw,$){"use strict";window['Kaltura']=true;mw.KAnalytics=function(embedPlayer){this.init(embedPlayer);};mw.addKAnalytics=function(embedPlayer){embedPlayer.kAnalytics=new mw.KAnalytics(embedPlayer);}
	mw.KAnalytics.prototype={embedPlayer:null,reportSet:null,lastSeekEventTime:0,bindPostFix:'.kAnalytics',startReportTime:0,kEventTypes:{'WIDGET_LOADED':1,'MEDIA_LOADED':2,'PLAY':3,'PLAY_REACHED_25':4,'PLAY_REACHED_50':5,'PLAY_REACHED_75':6,'PLAY_REACHED_100':7,'OPEN_EDIT':8,'OPEN_VIRAL':9,'OPEN_DOWNLOAD':10,'OPEN_REPORT':11,'BUFFER_START':12,'BUFFER_END':13,'OPEN_FULL_SCREEN':14,'CLOSE_FULL_SCREEN':15,'REPLAY':16,'SEEK':17,'OPEN_UPLOAD':18,'SAVE_PUBLISH':19,'CLOSE_EDITOR':20,'PRE_BUMPER_PLAYED':21,'POST_BUMPER_PLAYED':22,'BUMPER_CLICKED':23,'FUTURE_USE_1':24,'FUTURE_USE_2':25,'FUTURE_USE_3':26},init:function(embedPlayer){this.version=mw.getConfig('version');this.embedPlayer=embedPlayer;if(!this.kClient){this.kClient=mw.kApiGetPartnerClient(embedPlayer.kwidgetid);}$(embedPlayer).unbind(this.bindPostFix);this.resetPlayerflags();this.bindPlayerEvents();},resetPlayerflags:function(){this._p25Once=false;this._p50Once=false;this._p75Once=false;this._p100Once=false;this.hasSeeked=false;this.lastSeek=0;},sendAnalyticsEvent:function(KalturaStatsEventKey){var _this=this;this.kClient.getKS(function(ks){_this.doSendAnalyticsEvent(ks,KalturaStatsEventKey);});},doSendAnalyticsEvent:function(ks,KalturaStatsEventKey){var _this=this;mw.log("KAnalytics :: doSendAnalyticsEvent > "+KalturaStatsEventKey);if(this.embedPlayer.evaluate('{sequenceProxy.isInSequence}')){return;}var eventKeyId=this.kEventTypes[KalturaStatsEventKey];var eventSet={'eventType':eventKeyId,'clientVer':this.version,'currentPoint':parseInt(this.embedPlayer.currentTime*1000),'duration':this.embedPlayer.getDuration(),'eventTimestamp':new Date().getTime(),'isFirstInSession':'false','objectType':'KalturaStatsEvent','partnerId':this.embedPlayer.kpartnerid,'sessionId':this.embedPlayer.evaluate('{configProxy.sessionId}'),'uiconfId':0};if(isNaN(eventSet.duration)){eventSet.duration=0;}eventSet['seek']=(this.hasSeeked)?'true':'false';if(this.embedPlayer.kentryid){eventSet['entryId']=this.embedPlayer.kentryid;}else{eventSet['entryId']=this.embedPlayer.getSrc();}if(this.embedPlayer.kuiconfid){eventSet['uiconfId']=this.embedPlayer.kuiconfid;}if(this.embedPlayer.kwidgetid){eventSet['widgetId']=this.embedPlayer.kwidgetid;}var flashVarEvents={'playbackContext':'contextId','originFeature':'featureType','applicationName':'applicationId','userId':'userId'}
		for(var fvKey in flashVarEvents){if(this.embedPlayer.getKalturaConfig('',fvKey)){eventSet[flashVarEvents[fvKey]]=encodeURIComponent(this.embedPlayer.getKalturaConfig('',fvKey));}}for(var fvKey in flashVarEvents){if(this.embedPlayer.getKalturaConfig('statistics',fvKey)){eventSet[flashVarEvents[fvKey]]=encodeURIComponent(this.embedPlayer.getKalturaConfig('',fvKey));}}eventSet['referrer']=encodeURIComponent(mw.getConfig('EmbedPlayer.IframeParentUrl'));var eventRequest={'service':'stats','action':'collect'};for(var i in eventSet){eventRequest['event:'+i]=eventSet[i];}$(this.embedPlayer).trigger('KalturaSendAnalyticEvent',[KalturaStatsEventKey,eventSet]);var parentTrackName=this.embedPlayer.getKalturaConfig('statistics','trackEventMonitor');if(mw.getConfig('EmbedPlayer.IsFriendlyIframe')){try{if(window.parent[parentTrackName]){window.parent[parentTrackName](KalturaStatsEventKey,eventSet);}}catch(e){}}this.kClient.doRequest(eventRequest);},bindPlayerEvents:function(){var embedPlayer=this.embedPlayer;var _this=this;var b=function(hookName,eventType){$(_this.embedPlayer).bind(hookName+_this.bindPostFix,function(){_this.sendAnalyticsEvent(eventType);});};b('widgetLoaded','WIDGET_LOADED');b('KalturaSupport_EntryDataReady','MEDIA_LOADED');b('firstPlay','PLAY');b('showShareEvent','OPEN_VIRAL');b('downloadMedia','OPEN_DOWNLOAD');b('bufferStartEvent','BUFFER_START');b('bufferEndEvent','BUFFER_END');b('onOpenFullScreen','OPEN_FULL_SCREEN');b('onCloseFullScreen','CLOSE_FULL_SCREEN');b('replayEvent','REPLAY');$(embedPlayer).bind('seeked'+this.bindPostFix,function(seekTarget){if(_this.lastSeekEventTime==0||_this.lastSeekEventTime+2000<new Date().getTime()){_this.sendAnalyticsEvent('SEEK');}_this.lastSeekEventTime=new Date().getTime();this.hasSeeked=true;this.lastSeek=seekTarget;});$(embedPlayer).bind('monitorEvent'+this.bindPostFix,function(){_this.updateTimeStats();});},updateTimeStats:function(){var embedPlayer=this.embedPlayer;var _this=this;var percent=embedPlayer.currentTime/embedPlayer.duration;var seekPercent=this.lastSeek/embedPlayer.duration;if(!_this._p25Once&&percent>=.25&&seekPercent<=.25){_this._p25Once=true;_this.sendAnalyticsEvent('PLAY_REACHED_25');$(embedPlayer).trigger("firstQuartile");}else if(!_this._p50Once&&percent>=.50&&seekPercent<.50){_this._p50Once=true;_this.sendAnalyticsEvent('PLAY_REACHED_50');$(embedPlayer).trigger("secondQuartile");}else if(!_this._p75Once&&percent>=.75&&seekPercent<.75){_this._p75Once=true;_this.sendAnalyticsEvent('PLAY_REACHED_75');$(embedPlayer).trigger("thirdQuartile");}else if(!_this._p100Once&&percent>=.98&&seekPercent<1){_this._p100Once=true;_this.sendAnalyticsEvent('PLAY_REACHED_100');}}};})(window.mw,window.jQuery);;},{},{});mw.loader.implement("mw.KApi",function($){(function(mw,$){"use strict";mw.KApi=function(widgetId){return this.init(widgetId);};mw.KApi.prototype={baseParam:{'apiVersion':'3.1','clientTag':'html5:v'+window['MWEMBED_VERSION'],'expiry':'86400','format':9,'ignoreNull':1},playerLoaderCache:[],ks:null,init:function(widgetId){this.widgetId=widgetId;},clearCache:function(){this.playerLoaderCache=[];this.ks=null;},callbackIndex:0,getWidgetId:function(){return this.widgetId;},doRequest:function(requestObject,callback,skipKS){var _this=this;var param={};if(!requestObject.length&&!this.ks){requestObject=[requestObject];}if(mw.getConfig('Kaltura.NoApiCache')===true){param['nocache']='true';}if(requestObject.length){param['service']='multirequest';param['action']='null';var mulitRequestIndex=1;for(var i=0;i<requestObject.length;i++){var requestInx=mulitRequestIndex+i;for(var paramKey in requestObject[i]){if(typeof requestObject[i][paramKey]=='object'){for(var subParamKey in requestObject[i][paramKey]){param[requestInx+':'+paramKey+':'+subParamKey]=requestObject[i][paramKey][subParamKey];}}else{param[requestInx+':'+paramKey]=requestObject[i][paramKey];}}}}else{param=requestObject;}for(var i in this.baseParam){if(typeof param[i]=='undefined'){param[i]=this.baseParam[i];}};if(skipKS){_this.doApiRequest(param,callback);}else{this.getKS(function(ks){param['ks']=ks;_this.doApiRequest(param,callback);});}},setKS:function(ks){this.ks=ks;},getKS:function(callback){if(this.ks){callback(this.ks);return true;}var _this=this;var ksParam={'action':'startwidgetsession','widgetId':'_'+this.widget_id};var param=$.extend({'service':'session'},this.baseParam,ksParam);this.doApiRequest(param,function(data){_this.ks=data.ks;callback(_this.ks);});},doApiRequest:function(param,callback){var _this=this;var serviceType=param['service'];delete param['service'];if(serviceType!='session'){param['kalsig']=_this.getSignature(param);}var requestURL=_this.getApiUrl(serviceType)+'&'+$.param(param);var globalCBName='kapi_'+_this.getSignature(param);while(window[globalCBName]){mw.log("Error global callback name already exists: "+globalCBName);this.callbackIndex++;globalCBName=globalCBName+this.callbackIndex;}window[globalCBName]=function(data){if(callback){callback(data);callback=null;}window[globalCBName]=null;};requestURL+='&callback='+globalCBName;mw.log("kAPI:: doApiRequest: "+requestURL);$.getScript(requestURL);},getApiUrl:function(serviceType){var serviceUrl=mw.getConfig('Kaltura.ServiceUrl');if(serviceType&&serviceType=='stats'&&mw.getConfig('Kaltura.StatsServiceUrl')){serviceUrl=mw.getConfig('Kaltura.StatsServiceUrl');}if(serviceType&&serviceType=='LiveStats'&&mw.getConfig('Kaltura.LiveStatsServiceUrl')){serviceUrl=mw.getConfig('Kaltura.LiveStatsServiceUrl');}return serviceUrl+mw.getConfig('Kaltura.ServiceBase')+serviceType;},getSignature:function(params){params=this.ksort(params);var str="";for(var v in params){var k=params[v];str+=k+v;}return MD5(str);},ksort:function(arr){var sArr=[];var tArr=[];var n=0,i,x;for(i in arr){tArr[n++]=i+"|"+arr[i];}tArr=tArr.sort();for(i=0;i<tArr.length;i++){x=tArr[i].split("|");sArr[x[0]]=x[1];}return sArr;},playerLoader:function(kProperties,callback){var _this=this,requestObject=[];kProperties.flashvars=kProperties.flashvars||{};if(this.getCacheKey(kProperties)&&this.playerLoaderCache[this.getCacheKey(kProperties)]){mw.log("KApi:: playerLoader load from cache: "+!!(this.playerLoaderCache[this.getCacheKey(kProperties)]));callback(this.playerLoaderCache[this.getCacheKey(kProperties)]);return;}var fillCacheAndRunCallback=function(namedData){_this.playerLoaderCache[_this.getCacheKey(kProperties)]=namedData;callback(namedData);}
	if(!kProperties.flashvars.referenceId&&!kProperties.entry_id){mw.log("KApi:: entryId and referenceId not found, exit.");callback({error:"Empty player"});return;}if(kProperties.flashvars&&kProperties.flashvars.ks){this.setKS(kProperties.flashvars.ks);}var entryIdValue='{1:result:objects:0:id}';var baseEntryRequestObj={'service':'baseentry','action':'list','filter:objectType':'KalturaBaseEntryFilter'};if(!kProperties.entry_id&&kProperties.flashvars.referenceId){baseEntryRequestObj['filter:referenceIdEqual']=kProperties.flashvars.referenceId;}else if(kProperties.entry_id){if(kProperties.features['entryRedirect']&&kProperties.flashvars.disableEntryRedirect!==true){baseEntryRequestObj['filter:redirectFromEntryId']=kProperties.entry_id;}else{baseEntryRequestObj['filter:idEqual']=kProperties.entry_id;}}requestObject.push(baseEntryRequestObj);var streamerType=kProperties.flashvars.streamerType||'http';var flavorTags=kProperties.flashvars.flavorTags||'all';requestObject.push({'contextDataParams':{'referrer':window.kWidgetSupport.getHostPageUrl(),'objectType':'KalturaEntryContextDataParams','flavorTags':flavorTags,'streamerType':streamerType},'service':'baseentry','entryId':entryIdValue,'action':'getContextData'});requestObject.push({'service':'metadata_metadata','action':'list','version':'-1','filter:metadataObjectTypeEqual':1,'filter:orderBy':'+createdAt','filter:objectIdEqual':entryIdValue,'pager:pageSize':1});if(kProperties.flashvars.getCuePointsData!==false){requestObject.push({'service':'cuepoint_cuepoint','action':'list','filter:objectType':'KalturaCuePointFilter','filter:orderBy':'+startTime','filter:statusEqual':1,'filter:entryIdEqual':entryIdValue});}_this.getNamedDataFromRequest(requestObject,fillCacheAndRunCallback);},getNamedDataFromRequest:function(requestObject,callback){var _this=this;this.doRequest(requestObject,function(data){var namedData={};if(data[0].code){mw.log('Error in kaltura api response: '+data[0].message);callback({'error':data[0].message});return;}var dataIndex=0;if(!data[dataIndex].objects||(data[dataIndex].objects&&data[dataIndex].objects.length==0)){namedData['meta']={code:'ENTRY_ID_NOT_FOUND',message:'Entry not found'};}else{namedData['meta']=data[dataIndex].objects[0];}dataIndex++;namedData['contextData']=data[dataIndex];dataIndex++;namedData['entryMeta']=_this.convertCustomDataXML(data[dataIndex]);dataIndex++;if(data[dataIndex]&&data[dataIndex].totalCount>0){namedData['entryCuePoints']=data[dataIndex].objects;}callback(namedData);});},convertCustomDataXML:function(data){var result={};if(data&&data.objects&&data.objects[0]){var xml=$.parseXML(data.objects[0].xml);var $xml=$(xml).find('metadata').children();$.each($xml,function(inx,node){result[node.nodeName]=node.textContent;});}return result;},getCacheKey:function(kProperties){var rKey='';if(kProperties){$.each(kProperties,function(inx,value){if(inx=='flashvars'){if(typeof kProperties.flashvars=='object'){rKey+=kProperties.flashvars.getCuePointsData;rKey+=kProperties.flashvars.ks}}else{rKey+=inx+'_'+value;}});}return rKey;}};mw.KApiPartnerCache=[];mw.kApiGetPartnerClient=function(widgetId){if(!mw.KApiPartnerCache[widgetId]){mw.KApiPartnerCache[widgetId]=new mw.KApi(widgetId);}return mw.KApiPartnerCache[widgetId];};mw.KApiPlayerLoader=function(kProperties,callback){if(!kProperties.widget_id){mw.log("Error:: mw.KApiPlayerLoader:: cant run player loader with widget_id "+kProperties.widget_id);}if(!kProperties.features){kProperties.features={};}var kClient=mw.kApiGetPartnerClient(kProperties.widget_id);kClient.playerLoader(kProperties,function(data){setTimeout(function(){callback(data);},0);});return kClient;};mw.KApiRequest=function(widgetId,requestObject,callback){var kClient=mw.kApiGetPartnerClient(widgetId);kClient.doRequest(requestObject,callback);};})(window.mw,jQuery);;},{},{});mw.loader.implement("mw.KBaseComponent",function($){(function(mw,$){"use strict";mw.KBaseComponent=mw.KBasePlugin.extend({getBaseConfig:function(){return{'visible':true,'disableable':true,'showTooltip':false,'accessibilityLabels':true};},setDefaults:function(){if($.isPlainObject(this.defaultConfig)){var obj=$.extend({},this.getBaseConfig(),this.defaultConfig);this._super(obj);}else{this._super(this.getBaseConfig());}},init:function(embedPlayer,callback,pluginName){if(this._super(embedPlayer,callback,pluginName)===false){return;}if(!this.componentType){this.componentType=pluginName;}this._addBindings();},_addBindings:function(){var _this=this;if($.isFunction(this.getComponent)){this.addComponent();}if($.isFunction(this.onEnable)){this.bindEnableComponent();}if($.isFunction(this.onDisable)){this.bindDisableComponent();}if($.isFunction(this.getMenu)){this.bindFocusOutPlayer();}this.bind('layoutBuildDone',function(){if(!_this.getConfig('visible')){_this.hide();}});this.bindShowComponent();this.bindHideComponent();},addComponent:function(){var _this=this;this.bind('addLayoutComponent',function(e,layoutBuilder){layoutBuilder.components[_this.pluginName]={'parent':_this.getConfig('parent'),'order':_this.getConfig('order'),'insertMode':_this.getConfig('insertMode'),'o':function(){_this.enableTooltip();return _this.getComponent().attr({'data-order':_this.getConfig('order'),'data-plugin-name':_this.pluginName});}};});},onEnable:function(){this.isDisabled=false;this.getComponent().removeClass('disabled');},onDisable:function(){this.isDisabled=true;this.getComponent().addClass('disabled');},bindShowComponent:function(){var _this=this;this.bind('onShowInterfaceComponents',function(event,includedComponents){if($.inArray(_this.componentType,includedComponents)!=-1){_this.show();}});},bindHideComponent:function(){var _this=this;this.bind('onHideInterfaceComponents',function(event,includedComponents){if($.inArray(_this.componentType,includedComponents)!=-1){_this.hide();}});},bindEnableComponent:function(){var _this=this;this.bind('onEnableInterfaceComponents',function(event,excludedComponents){if($.inArray(_this.componentType,excludedComponents)==-1&&_this.getConfig('disableable')){_this.onEnable();}});},bindDisableComponent:function(){var _this=this;this.bind('onDisableInterfaceComponents',function(event,excludedComponents){if($.inArray(_this.componentType,excludedComponents)==-1&&_this.getConfig('disableable')){_this.onDisable();}});},bindFocusOutPlayer:function(){var _this=this;this.bind('onFocusOutOfIframe',function(){_this.getMenu().close();});},onConfigChange:function(property,value){switch(property){case'visible':if(value){this.show();}else{this.hide();}break;}},show:function(){this.getComponent().removeData('forceHide').show();},hide:function(){this.getComponent().data('forceHide',true).hide();},getCssClass:function(){var cssClass=' comp '+this.pluginName+' ';switch(this.getConfig('align')){case'right':cssClass+=" pull-right";break;case'left':cssClass+=" pull-left";break;}if(this.getConfig('cssClass')){cssClass+=' '+this.getConfig('cssClass');}if(this.getConfig('displayImportance')){var importance=this.getConfig('displayImportance').toLowerCase();if($.inArray(importance,['low','medium','high'])!==-1){cssClass+=' display-'+importance;}}return cssClass;},getBtn:function(){return this.getComponent();},enableTooltip:function(){if(this.getConfig('showTooltip')&&this.getBtn().length){var parentContainer=this.getConfig('parent');this.getBtn().each(function(){$(this).attr('data-show-tooltip',true);if(parentContainer=="topBarContainer"){$(this).addClass('tooltipBelow');}});}else{this.getBtn().each(function(){$(this).removeAttr("title");});}},updateTooltip:function(text){if(this.getConfig('showTooltip')&&this.getBtn().length){var tooltipId=this.getBtn().attr("aria-describedby");if(tooltipId){$('#'+tooltipId+' .ui-tooltip-content').html(text);}this.getBtn().data('ui-tooltip-title',text);this.getBtn().attr('title',text);}},setAccessibility:function(btn,label){if(this.getConfig('accessibilityLabels')){btn.html('<span class="accessibilityLabel">'+label+'</span>');}},destroy:function(){this._super();this.getComponent().remove();},getComponent:function(){mw.log("Error - you must implement getComponent in your plugin:"+this.componentType)
	return $('<div></div>');}});})(window.mw,window.jQuery);;},{},{});mw.loader.implement("mw.KBasePlugin",function($){(function(mw,$){"use strict";mw.KBasePlugin=Class.extend({asyncInit:false,init:function(embedPlayer,callback,pluginName){this.embedPlayer=embedPlayer;this.initCompleteCallback=callback;this.pluginName=pluginName;this.bindPostFix='.'+pluginName;this.setDefaults();var safeEnviornment=this.isSafeEnviornment();var _this=this;if(typeof safeEnviornment=='object'&&safeEnviornment.promise){safeEnviornment.done(function(isSafe){if(!isSafe){_this.destroy();}});}else if(typeof safeEnviornment=='boolean'&&!safeEnviornment){this.initCompleteCallback();return false;}this.bindConfigChangeEvent();this.setup();if(this.asyncInit===false){this.initCompleteCallback();}return this;},setDefaults:function(obj){obj=obj||this.defaultConfig;var _this=this;if($.isPlainObject(obj)){$.each(obj,function(key,value){if(_this.getConfig(key)===undefined){_this.setConfig(key,value,true);}});}},isSafeEnviornment:function(){return true;},setup:function(){},getPlayer:function(){return this.embedPlayer;},getConfig:function(attr,raw){if(raw){return this.embedPlayer.getRawKalturaConfig(this.pluginName,attr);}return this.embedPlayer.getKalturaConfig(this.pluginName,attr);},setConfig:function(attr,value,quiet){this.embedPlayer.setKalturaConfig(this.pluginName,attr,value,quiet);},getTemplateHTML:function(data){var _this=this;data=data||{};data.self=this;data.player=this.embedPlayer;data.entry=this.embedPlayer.kalturaPlayerMetaData;data.entryMetadata=this.embedPlayer.kalturaEntryMetaData;var rawHTML=this.getConfig('template',true);if(!rawHTML){var templatePath=this.getConfig('templatePath');if(!templatePath||!window.kalturaIframePackageData.templates[templatePath]){this.log('getTemplateHTML:: Template not found');return'';}rawHTML=window.kalturaIframePackageData.templates[templatePath];}var transformedHTML=mw.util.tmpl(rawHTML,data);var evaluatedHTML=$.trim(this.embedPlayer.evaluate(transformedHTML));var $templateHtml=$('<span>'+evaluatedHTML+'</span>');$templateHtml.find('[data-click],[data-notification]').click(function(e){var data=$(this).data();return _this.handleClick(e,data);});$templateHtml.find('[data-submit]').submit(function(e){var cb=$(this).data('submit');if($.isFunction(_this[cb])){_this[cb](e);}return false;});return $templateHtml;},handleClick:function(e,data){e.preventDefault();if(data.click&&$.isFunction(this[data.click])){this[data.click](e,data);}if(data.notification){this.getPlayer().sendNotification(data.notification,data);}return false;},bind:function(eventName,callback){var bindEventsString='',events=eventName.split(" "),totalEvents=events.length,i=0,space=' ';for(i;i<totalEvents;i++){if(i==(totalEvents-1)){space='';}bindEventsString+=events[i]+this.bindPostFix+space;}return this.embedPlayer.bindHelper(bindEventsString,callback);},unbind:function(eventName){eventName+=this.bindPostFix;return this.embedPlayer.unbindHelper(eventName);},log:function(msg){mw.log(this.pluginName+'::'+msg);},bindConfigChangeEvent:function(){var _this=this;if(typeof this.onConfigChange!=='function'){return;}this.bind('Kaltura_ConfigChanged',function(event,pluginName,property,value){if(pluginName===_this.pluginName){_this.onConfigChange(property,value);}});},getKalturaClient:function(){if(!this.kClient){this.kClient=mw.kApiGetPartnerClient(this.embedPlayer.kwidgetid);}return this.kClient;},destroy:function(){this.unbind();}});})(window.mw,window.jQuery);;},{},{});mw.loader.implement("mw.KCuePoints",function($){(function(mw,$){"use strict";mw.KCuePoints=function(embedPlayer){return this.init(embedPlayer);};mw.KCuePoints.prototype={bindPostfix:'.kCuePoints',midCuePointsArray:[],init:function(embedPlayer){var _this=this;this.destroy();this.embedPlayer=embedPlayer;embedPlayer.bindHelper('KalturaSupport_CuePointsReady'+this.bindPostfix,function(){_this.processCuePoints();_this.addPlayerBindings();});},destroy:function(){$(this.embedPlayer).unbind(this.bindPostfix);},processCuePoints:function(){var _this=this;var cuePoints=this.getCuePoints();this.requestThumbAsset();var newCuePointsArray=[];$.each(cuePoints,function(idx,cuePoint){if(_this.getVideoAdType(cuePoint)=='pre'||_this.getVideoAdType(cuePoint)=='post'){_this.triggerCuePoint(cuePoint);}else{newCuePointsArray.push(cuePoint);}});this.midCuePointsArray=newCuePointsArray;},requestThumbAsset:function(){var _this=this;var requestArray=[];var response=[];var thumbCuePoint=$.grep(this.getCuePoints(),function(cuePoint){return(cuePoint.cuePointType=='thumbCuePoint.Thumb');});$.each(thumbCuePoint,function(index,item){requestArray.push({'service':'thumbAsset','action':'getUrl','id':item.assetId});response[index]={id:item.id,url:null};});if(requestArray.length){this.getKalturaClient().doRequest(requestArray,function(data){$.each(data,function(index,res){if(!_this.isValidResult(res)){data[index]=null;}});$.each(thumbCuePoint,function(index,item){item.thumbnailUrl=data[index];});_this.embedPlayer.triggerHelper('KalturaSupport_ThumbCuePointsReady');});}else{_this.embedPlayer.triggerHelper('KalturaSupport_ThumbCuePointsReady');}},getKalturaClient:function(){if(!this.kClient){this.kClient=mw.kApiGetPartnerClient(this.embedPlayer.kwidgetid);}return this.kClient;},isValidResult:function(data){if(!data||(data.code&&data.message)){return false;}return true;},addPlayerBindings:function(){var _this=this;var currentCuePoint=this.getNextCuePoint(0);var embedPlayer=this.embedPlayer;if(!currentCuePoint){return;}$(embedPlayer).bind('onChangeMedia'+this.bindPostfix,function(){_this.destroy();});$(embedPlayer).bind("seeked"+this.bindPostfix+" onplay"+this.bindPostfix,function(){var currentTime=embedPlayer.currentTime*1000;currentCuePoint=_this.getNextCuePoint(currentTime);});$(embedPlayer).bind("monitorEvent"+this.bindPostfix,function(){if(!currentCuePoint){return;}var currentTime=embedPlayer.currentTime*1000;if(currentTime>currentCuePoint.startTime&&embedPlayer._propagateEvents){var cuePointToBeTriggered=$.extend({},currentCuePoint);currentCuePoint=_this.getNextCuePoint(currentTime);_this.triggerCuePoint(cuePointToBeTriggered);}});},getEndTime:function(){return this.embedPlayer.evaluate('{mediaProxy.entry.msDuration}');},getCuePoints:function(){if(!this.embedPlayer.rawCuePoints||!this.embedPlayer.rawCuePoints.length){return[];}return this.embedPlayer.rawCuePoints;},getNextCuePoint:function(time){var cuePoints=this.midCuePointsArray;for(var i=0;i<cuePoints.length;i++){if(cuePoints[i].startTime>=time){return cuePoints[i];}}return false;},triggerCuePoint:function(rawCuePoint){var eventName;rawCuePoint.sourceUrl=this.embedPlayer.evaluate(rawCuePoint.sourceUrl);var cuePointWrapper={'cuePoint':rawCuePoint};if(rawCuePoint.cuePointType=='codeCuePoint.Code'||rawCuePoint.cuePointType=='thumbCuePoint.Thumb'){eventName='KalturaSupport_CuePointReached';}else if(rawCuePoint.cuePointType=='adCuePoint.Ad'){eventName='KalturaSupport_AdOpportunity';cuePointWrapper.context=this.getVideoAdType(rawCuePoint);}else{return;}mw.log('mw.KCuePoints :: Trigger event: '+eventName+' - '+rawCuePoint.cuePointType+' at: '+rawCuePoint.startTime);$(this.embedPlayer).trigger(eventName,cuePointWrapper);},getVideoAdType:function(rawCuePoint){if(rawCuePoint.startTime===0){return'pre';}else if(rawCuePoint.startTime==this.getEndTime()){return'post';}else{return'mid';}mw.log("Error:: KCuePoints could not determine adType");},getAdSlotType:function(cuePointWrapper){if(cuePointWrapper.cuePoint.adType==1){return this.getVideoAdType(cuePointWrapper.cuePoint)+'roll';}else{return'overlay';}},getRawAdSlotType:function(rawCuePoint){if(rawCuePoint.adType==1){return this.getVideoAdType(rawCuePoint)+'roll';}else{return'overlay';}},getCuePointsCount:function(filter){var _this=this;var cuePoints=this.getCuePoints();if(!cuePoints)return 0;if(!filter)return cuePoints.length;var totalResults={'preroll':0,'midroll':0,'postroll':0,'overlay':0};$.each(cuePoints,function(idx,rawCuePoint){totalResults[_this.getRawAdSlotType(rawCuePoint)]++;});if(filter&&totalResults[filter]){return totalResults[filter];}return 0;}};})(window.mw,window.jQuery);;},{},{});mw.loader.implement("mw.KDPMapping",function($){(function(mw,$){"use strict";mw.KDPMapping=function(embedPlayer){return this.init(embedPlayer);};mw.KDPMapping.prototype={formatFunctions:{timeFormat:function(value){return mw.seconds2npt(parseFloat(value));},dateFormat:function(value){var date=new Date(value*1000);return date.toDateString();},numberWithCommas:function(value){return value.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");}},listenerList:{},init:function(embedPlayer){var _this=this;var kdpApiMethods=['addJsListener','removeJsListener','sendNotification','setKDPAttribute','evaluate'];var parentProxyDiv=null;if(mw.getConfig('EmbedPlayer.IsFriendlyIframe')){try{parentProxyDiv=window['parent'].document.getElementById(embedPlayer.id);}catch(e){}}$.each(kdpApiMethods,function(inx,methodName){embedPlayer[methodName]=function(){var args=$.makeArray(arguments);args.splice(0,0,embedPlayer);return _this[methodName].apply(_this,args);}
	if(parentProxyDiv){parentProxyDiv[methodName]=function(){var args=arguments;var ret=[];if(args!=null){var i=args.length;if(i==null||typeof args==="string"||jQuery.isFunction(args)||args.setInterval)ret[0]=args;else while(i)ret[--i]=args[i];}ret.splice(0,0,embedPlayer);return _this[methodName].apply(_this,ret);}}});var runCallbackOnParent=false;if(mw.getConfig('EmbedPlayer.IsFriendlyIframe')){try{if(window['parent']&&window['parent']['kWidget']&&parentProxyDiv){runCallbackOnParent=true;window['parent']['kWidget'].jsCallbackReady(embedPlayer.id);}}catch(e){runCallbackOnParent=false;}}if(!runCallbackOnParent){window.kWidget.jsCallbackReady(embedPlayer.id);}},setKDPAttribute:function(embedPlayer,componentName,property,value){mw.log("KDPMapping::setKDPAttribute "+componentName+" p:"+property+" v:"+value+' for: '+embedPlayer.id);var pluginNameToSet=componentName;var propertyNameToSet=property;var valueToSet=value;switch(property){case'autoPlay':embedPlayer.autoplay=value;break;case'disableAlerts':mw.setConfig('EmbedPlayer.ShowPlayerAlerts',!value);break;default:if(componentName.indexOf('.')!=-1){var cparts=componentName.split('.');pluginNameToSet=cparts[0];propertyNameToSet=cparts[1];valueToSet={};valueToSet[property]=value;}embedPlayer.setKalturaConfig(pluginNameToSet,propertyNameToSet,valueToSet);break;}if(pluginNameToSet=='servicesProxy'&&propertyNameToSet&&propertyNameToSet=='kalturaClient'&&property=='ks'){this.updateKS(embedPlayer,value);}$(embedPlayer).trigger('Kaltura_SetKDPAttribute',[componentName,property,value]);},updateKS:function(embedPlayer,ks){var client=mw.kApiGetPartnerClient(embedPlayer.kwidgetid);client.clearCache();client.setKS(ks);embedPlayer.setFlashvars('ks',ks);embedPlayer.sendNotification('changeMedia',{'entryId':embedPlayer.kentryid});},evaluate:function(embedPlayer,objectString,limit){var _this=this;var result;var isCurlyBracketsExpresion=function(str){if(typeof str=='string'){return(str.charAt(0)=='{'&&str.charAt(str.length-1)=='}');}return false;};limit=limit||0;if(limit>4){mw.log('KDPMapping::evaluate: recursive calls are limited to 5');return objectString;}if(typeof objectString!=='string'){return objectString;}if(isCurlyBracketsExpresion(objectString)&&objectString.split('{').length==2){result=_this.evaluateExpression(embedPlayer,objectString.substring(1,objectString.length-1));}else if(objectString.split('{').length>1){result=objectString.replace(/\{([^\}]*)\}/g,function(match,contents,offset,s){return _this.evaluateExpression(embedPlayer,contents);});}else{result=objectString;}if(result===0){return result;}if(result==="undefined"||result==="null"||result==="")result=undefined;if(result==="false"){result=false;}if(result==="true"){result=true;}if(isCurlyBracketsExpresion(result)){result=this.evaluate(embedPlayer,result,limit++);}return result;},getEvaluateExpression:function(embedPlayer,expression){var _this=this;if(expression.indexOf('(')!==-1){var fparts=expression.split('(');return _this.evaluateStringFunction(fparts[0],_this.getEvaluateExpression(embedPlayer,fparts[1].slice(0,-1)));}var objectPath=expression.split('.');if(embedPlayer.playerConfig&&embedPlayer.playerConfig.plugins&&embedPlayer.playerConfig.plugins[objectPath[0]]){var kObj=embedPlayer.playerConfig.plugins[objectPath[0]];if(!objectPath[1]){return kObj;}if(!objectPath[2]&&(objectPath[1]in kObj)){return kObj[objectPath[1]];}if(objectPath[2]&&kObj[objectPath[1]]&&typeof kObj[objectPath[1]][objectPath[2]]!='undefined'){return kObj[objectPath[1]][objectPath[2]];}}var getReffererURL=function(fv,objectPath){if(fv&&fv[objectPath[2]]){return fv[objectPath[2]];}return mw.getConfig('EmbedPlayer.IframeParentUrl');}
	switch(objectPath[0]){case'isHTML5':return true;break;case'sequenceProxy':if(!embedPlayer.sequenceProxy){return null;}if(objectPath[1]){switch(objectPath[1]){case'timeRemaining':case'isInSequence':case'skipOffsetRemaining':return embedPlayer.sequenceProxy[objectPath[1]];break;case'activePluginMetadata':if(objectPath[2]){if(!embedPlayer.sequenceProxy.activePluginMetadata){return null;}return embedPlayer.sequenceProxy.activePluginMetadata[objectPath[2]]}return embedPlayer.sequenceProxy.activePluginMetadata;break;}return null;}return embedPlayer.sequenceProxy;break;case'video':switch(objectPath[1]){case'volume':return embedPlayer.volume;break;case'player':switch(objectPath[2]){case'currentTime':if(embedPlayer.seeking&&embedPlayer.kPreSeekTime!==null){return embedPlayer.kPreSeekTime;}return embedPlayer.currentTime;break;}break;}break;case'duration':return embedPlayer.getDuration();break;case'mediaProxy':switch(objectPath[1]){case'entryCuePoints':if(!embedPlayer.rawCuePoints){return null;}var kdpCuePointFormat={};$.each(embedPlayer.rawCuePoints,function(inx,cuePoint){var startTime=parseInt(cuePoint.startTime);if(kdpCuePointFormat[startTime]){kdpCuePointFormat[startTime].push(cuePoint)}else{kdpCuePointFormat[startTime]=[cuePoint];}});return kdpCuePointFormat;break;case'entryMetadata':if(!embedPlayer.kalturaEntryMetaData){return null;}if(objectPath[2]){return embedPlayer.kalturaEntryMetaData[objectPath[2]];}else{return embedPlayer.kalturaEntryMetaData;}break;case'entry':if(!embedPlayer.kalturaPlayerMetaData){return null;}if(objectPath[2]){return embedPlayer.kalturaPlayerMetaData[objectPath[2]];}else{return embedPlayer.kalturaPlayerMetaData;}break;case'isLive':return embedPlayer.isLive();break;case'isOffline':if($.isFunction(embedPlayer.isOffline)){return embedPlayer.isOffline();}return true;break;case'kalturaMediaFlavorArray':if(!embedPlayer.kalturaFlavors){return null;}return embedPlayer.kalturaFlavors;break;}break;case'configProxy':var fv=embedPlayer.getFlashvars();switch(objectPath[1]){case'flashvars':if(objectPath[2]){switch(objectPath[2]){case'autoPlay':return embedPlayer.autoplay;break;case'referer':case'referrer':return getReffererURL(fv,objectPath);break;default:if(fv&&fv[objectPath[2]]){return fv[objectPath[2]]}return null;break;}}else{return fv;}break;case'kw':var kw={'objectType':"KalturaWidget",'id':embedPlayer.kwidgetid,'partnerId':embedPlayer.kpartnerid,'uiConfId':embedPlayer.kuiconfid}
		if(objectPath[2]){if(typeof kw[objectPath[2]]!='undefined'){return kw[objectPath[2]]}return null;}return kw;break;case'sessionId':return window.kWidgetSupport.getGUID();break;}return{'flashvars':fv,'sessionId':window.kWidgetSupport.getGUID()};break;case'playerStatusProxy':switch(objectPath[1]){case'kdpStatus':if(embedPlayer.kdpEmptyFlag){return"empty";}if(embedPlayer.playerReadyFlag){return'ready';}return null;break;case'loadTime':return kWidget.loadTime[embedPlayer.kwidgetid];break;}break;case'playlistAPI':switch(objectPath[1]){case'dataProvider':if(!embedPlayer.kalturaPlaylistData){return null;}var plData=embedPlayer.kalturaPlaylistData;var plId=null;if(plData['currentPlaylistId']){plId=plData['currentPlaylistId'];}else{for(var plKey in plData)break;plId=plKey;}var dataProvider={'content':plData[plId],'length':plData[plId].length,'selectedIndex':plData['selectedIndex']}
		if(objectPath[2]=='selectedIndex'){return dataProvider.selectedIndex;}return dataProvider;break;}break;case'utility':switch(objectPath[1]){case'random':return Math.floor(Math.random()*1000000000);break;case'timestamp':return new Date().getTime();break;case'referrer_url':var fv=embedPlayer.getFlashvars();return getReffererURL(fv,objectPath);break;case'referrer_host':var fv=embedPlayer.getFlashvars();var referrer=getReffererURL(fv,objectPath);var getLocation=function(href){var l=document.createElement("a");l.href=href;return l;};var location=getLocation(referrer);return location.hostname;break;}break;}var pluginConfigValue=null;if(!objectPath[1]&&$.isEmptyObject(embedPlayer.getKalturaConfig(objectPath[0]))){pluginConfigValue=embedPlayer.getKalturaConfig('',objectPath[0]);}else{pluginConfigValue=embedPlayer.getKalturaConfig(objectPath[0],objectPath[1]);if($.isEmptyObject(pluginConfigValue)){return;}}return pluginConfigValue;},evaluateExpression:function(embedPlayer,expression){var formatFunc=null;if(expression.indexOf('|')!==-1){var expArr=expression.split('|');expression=expArr[0];formatFunc=expArr[1];if(typeof this.formatFunctions[formatFunc]=='function'){formatFunc=this.formatFunctions[formatFunc];}else{formatFunc=null;}}var evalVal=this.getEvaluateExpression(embedPlayer,expression);if(evalVal===null||typeof evalVal=='undefined'||evalVal==='undefined'){return'';}if(formatFunc){return formatFunc(evalVal);}return evalVal;},evaluateStringFunction:function(functionName,value){switch(functionName){case'encodeUrl':return encodeURI(value);break;case'conditional':value
	break;}},removeJsListener:function(embedPlayer,eventName,callbackName){mw.log("KDPMapping:: removeJsListener:: "+eventName);if(typeof eventName=='string'){var eventData=eventName.split('.',2);var eventNamespace=eventData[1];if(eventNamespace&&eventName[0]==='.'){$(embedPlayer).unbind('.'+eventNamespace);}else if(!eventNamespace){eventNamespace='kdpMapping';}eventName=eventData[0];if(!callbackName){callbackName='anonymous';}else{var listenerId=this.getListenerId(embedPlayer,eventName,eventNamespace,callbackName);if(!this.listenerList[listenerId]){return;}}if(this.listenerList[listenerId]){this.listenerList[listenerId]=null;}else{for(var listenerItem in this.listenerList){if(listenerItem.indexOf(embedPlayer.id+'_'+eventName+'.'+eventNamespace)!=-1){this.listenerList[listenerItem]=null;}}}}},getListenerId:function(embedPlayer,eventName,eventNamespace,callbackName){return embedPlayer.id+'_'+eventName+'.'+eventNamespace+'_'+callbackName;},addJsListener:function(embedPlayer,eventName,callbackName){var _this=this;if(typeof eventName=='string'){var eventData=eventName.split('.',2);var eventNamespace=(eventData[1])?eventData[1]:'kdpMapping';eventName=eventData[0];}if(typeof callbackName=='string'){var listenerId=this.getListenerId(embedPlayer,eventName,eventNamespace,callbackName);this.listenerList[listenerId]=callbackName;var callback=function(){var callbackName=_this.listenerList[listenerId];var callbackToRun=kWidgetSupport.getFunctionByName(callbackName,window);if(!$.isFunction(callbackToRun)){callbackToRun=kWidgetSupport.getFunctionByName(callbackName,window['parent']);}if($.isFunction(callbackToRun)){try{callbackToRun.apply(embedPlayer,$.makeArray(arguments));}catch(e){mw.log("Error when trying to run callbackToRun (probably JavaScript error in callbackToRun code)")};}else{mw.log('kdpMapping::addJsListener: callback name: '+callbackName+' not found');}};}else if(typeof callbackName=='function'){var listenerId=this.getListenerId(embedPlayer,eventName,eventNamespace,'anonymous');_this.listenerList[listenerId]=true;var callback=function(){if(_this.listenerList[listenerId]){callbackName.apply(embedPlayer,$.makeArray(arguments));}}}else{mw.log("Error: KDPMapping : bad callback type: "+callbackName);return;}var b=function(bindName,bindCallback){if(!bindCallback){bindCallback=function(){callback(embedPlayer.id);};}bindName+='.'+eventNamespace;embedPlayer.bindHelper(bindName,function(){bindCallback.apply(embedPlayer,$.makeArray(arguments));});};switch(eventName){case'layoutReady':b('KalturaSupport_DoneWithUiConf');break;case'mediaLoadError':b('mediaLoadError');break;case'mediaError':b('mediaError');break;case'kdpEmpty':case'readyToLoad':if(embedPlayer.playerReadyFlag){if(!embedPlayer.kentryid){embedPlayer.kdpEmptyFlag=true;callback(embedPlayer.id);}}else{b('playerReady',function(){if(!embedPlayer.kentryid){embedPlayer.kdpEmptyFlag=true;setTimeout(function(){callback(embedPlayer.id);},0)}});}break;case'kdpReady':b('playerReady',function(){if(!embedPlayer.getError()){embedPlayer.kdpEmptyFlag=false;}callback(embedPlayer.id);});break;case'playerLoaded':case'playerReady':b('playerReady');break;case'changeVolume':case'volumeChanged':b('volumeChanged',function(event,percent){callback({'newVolume':percent},embedPlayer.id);});break;case'playerStateChange':b('preCheckPlayerSources',function(){callback('loading',embedPlayer.id);})
	b('playerReady',function(){callback('ready',embedPlayer.id);});b('onpause',function(){callback('paused',embedPlayer.id);});b('onplay',function(){callback('playing',embedPlayer.id);});break;case'doStop':case'stop':b("doStop");break;case'playerPaused':case'pause':case'doPause':b("onpause");break;case'playerPlayed':b("onplay");break;case'play':case'doPlay':b("onplay");break;case'playerSeekStart':b("seeking");break;case'seek':case'doSeek':case'doIntelligentSeek':b("seeking",function(){var seekTime=(embedPlayer.kPreSeekTime!==null)?embedPlayer.kPreSeekTime:embedPlayer.currentTime;callback(seekTime,embedPlayer.id);});break;case'playerSeekEnd':b("seeked",function(){embedPlayer.kPreSeekTime=null
	callback(embedPlayer.id);});break;case'playerPlayEnd':b("postEnded");break;case'playbackComplete':b("playbackComplete");b("AdSupport_EndAdPlayback",function(e,slotType){if(slotType!='postroll'){callback();}});break;case'durationChange':b("durationchange",function(){callback({'newValue':embedPlayer.duration},embedPlayer.id);});break;case'openFullScreen':case'hasOpenedFullScreen':b("onOpenFullScreen");break;case'hasCloseFullScreen':case'closeFullScreen':b("onCloseFullScreen");break;case'playerUpdatePlayhead':b('monitorEvent',function(){if(embedPlayer.isPlaying()){callback(embedPlayer.currentTime);}});break;case'changeMedia':b('playerReady',function(event){callback({'entryId':embedPlayer.kentryid},embedPlayer.id);});break;case'entryReady':b('KalturaSupport_EntryDataReady',function(event,entryData){callback(entryData,embedPlayer.id);});break;case'entryFailed':b('KalturaSupport_EntryFailed');break;case'mediaReady':b('playerReady',function(event){if(embedPlayer.kentryid){setTimeout(function(){callback(embedPlayer.id)},0);}});break;case'metadataReceived':b('KalturaSupport_MetadataReceived');break;case'bufferChange':var triggeredBufferStart=false;var triggeredBufferEnd=false;b('monitorEvent',function(){if(!triggeredBufferStart){callback(true,embedPlayer.id);triggeredBufferStart=true;}if(!triggeredBufferEnd&&embedPlayer.bufferedPercent==1){callback(false,embedPlayer.id);triggeredBufferEnd=true;}})
	break;case'bytesDownloadedChange':var prevBufferBytes=0;b('monitorEvent',function(){if(typeof embedPlayer.bufferedPercent!='undefined'){var bufferBytes=parseInt(embedPlayer.bufferedPercent*embedPlayer.mediaElement.selectedSource.getSize());if(bufferBytes!=prevBufferBytes){callback({'newValue':bufferBytes},embedPlayer.id);prevBufferBytes=bufferBytes;}}})
	break;case'playerDownloadComplete':b('monitorEvent',function(){if(embedPlayer.bufferedPercent==1){callback(embedPlayer.id);}});break;case'bufferProgress':var prevBufferTime=0;b('monitorEvent',function(){if(typeof embedPlayer.bufferedPercent!='undefined'){var bufferTime=parseInt(embedPlayer.bufferedPercent*embedPlayer.duration);if(bufferTime!=prevBufferTime){callback({'newTime':bufferTime},embedPlayer.id);prevBufferTime=bufferTime;}}})
	break;case'bytesTotalChange':var prevBufferBytesTotal=0;b('mediaLoaded',function(){callback({'newValue':embedPlayer.mediaElement.selectedSource.getSize()});})
	break;case'preSequenceStart':case'prerollStarted':b('AdSupport_prerollStarted',function(e,slotType){callback({'timeSlot':slotType},embedPlayer.id);});break;case'preSequenceComplete':b('AdSupport_preSequenceComplete',function(e,slotType){callback({'timeSlot':slotType},embedPlayer.id);});break;case'midSequenceStart':b('AdSupport_midrollStarted',function(e,slotType){callback({'timeSlot':slotType},embedPlayer.id);});break;case'midSequenceComplete':b('AdSupport_midSequenceComplete',function(e,slotType){callback({'timeSlot':slotType},embedPlayer.id);});break;case'postSequenceStart':b('AdSupport_postrollStarted',function(e,slotType){callback({'timeSlot':slotType},embedPlayer.id);});break;case'postSequenceComplete':b('AdSupport_postSequenceComplete',function(e,slotType){callback({'timeSlot':slotType},embedPlayer.id);});break;case'adStart':b('AdSupport_StartAdPlayback',function(e,slotType){callback({'timeSlot':slotType},embedPlayer.id);});break;case'adEnd':b('AdSupport_EndAdPlayback',function(e,slotType){callback({'timeSlot':slotType},embedPlayer.id)});break;case'adUpdatePlayhead':b('AdSupport_AdUpdatePlayhead',function(event,adTime){callback(adTime,embedPlayer.id);});break;case'pre1start':b('AdSupport_PreSequence');break;case'post1start':b('AdSupport_PostSequence');break;case'cuePointsReceived':b('KalturaSupport_CuePointsReady',function(event,cuePoints){callback(embedPlayer.rawCuePoints,embedPlayer.id);});break;case'cuePointReached':b('KalturaSupport_CuePointReached',function(event,cuePointWrapper){callback(cuePointWrapper,embedPlayer.id);});break;case'adOpportunity':b('KalturaSupport_AdOpportunity',function(event,cuePointWrapper){callback(cuePointWrapper,embedPlayer.id);});break;case'videoView':b('firstPlay');break;case'share':b('showShareEvent');break;case'openFullscreen':b('openFullScreen');break;case'closefullscreen':b('closeFullScreen');break;case'replay':case'doReplay':b('replayEvent');break;case'save':case'gotoContributorWindow':case'gotoEditorWindow':mw.log("Warning: kdp event: "+eventName+" does not have an html5 mapping");break;case'freePreviewEnd':b('KalturaSupport_FreePreviewEnd');break;default:b(eventName,function(){var args=$.makeArray(arguments);if(args.length){args.shift();}callback.apply(embedPlayer,args);});break;};return true;},sendNotification:function(embedPlayer,notificationName,notificationData){mw.log('KDPMapping:: sendNotification > '+notificationName,notificationData);switch(notificationName){case'showSpinner':embedPlayer.addPlayerSpinner();break;case'hideSpinner':embedPlayer.hideSpinner();break;case'doPlay':if(embedPlayer.sequenceProxy&&embedPlayer.sequenceProxy.isInSequence){embedPlayer.triggerHelper('doPlay');if(mw.getConfig("EmbedPlayer.ForceNativeComponent")){embedPlayer.play();}break;}if(embedPlayer.playerReadyFlag==false){mw.log('Warning:: KDPMapping, Calling doPlay before player ready');$(embedPlayer).bind('playerReady.sendNotificationDoPlay',function(){$(embedPlayer).unbind('.sendNotificationDoPlay');embedPlayer.play();})
	return;}embedPlayer.play();break;case'doPause':if(embedPlayer.sequenceProxy&&embedPlayer.sequenceProxy.isInSequence){embedPlayer.triggerHelper('doPause');break;}embedPlayer.pause();break;case'doStop':setTimeout(function(){embedPlayer.ignoreNextNativeEvent=true;embedPlayer.stop();},10);break;case'doReplay':embedPlayer.replay();break;case'doSeek':var percent=(parseFloat(notificationData)-embedPlayer.startOffset)/embedPlayer.getDuration();embedPlayer.kPreSeekTime=embedPlayer.currentTime;embedPlayer.bindHelper('seeked.kdpMapOnce',function(){embedPlayer.kPreSeekTime=null;});embedPlayer.seek(percent,embedPlayer.paused);break;case'changeVolume':embedPlayer.setVolume(parseFloat(notificationData),true);break;case'openFullScreen':embedPlayer.layoutBuilder.fullScreenManager.doFullScreenPlayer();break;case'closeFullScreen':embedPlayer.layoutBuilder.fullScreenManager.restoreWindowPlayer();break;case'cleanMedia':embedPlayer.emptySources();break;case'changeMedia':if(embedPlayer.playlist&&!notificationData.playlistCall){var clipList=embedPlayer.playlist.sourceHandler.getClipList();for(var inx=0;inx<clipList.length;inx++){var clip=clipList[inx];var autoContinue=embedPlayer.playlist.sourceHandler.autoContinue
	if(clip.id==notificationData.entryId){embedPlayer.playlist.playClip(inx,autoContinue);return;}};}if((!notificationData.entryId||notificationData.entryId==""||notificationData.entryId==-1)&&(!notificationData.referenceId||notificationData.referenceId==""||notificationData.referenceId==-1)){mw.log("KDPMapping:: ChangeMedia missing entryId or refrenceid, empty sources.")
	embedPlayer.emptySources();break;}if((notificationData.entryId&&notificationData.entryId!=-1)||(notificationData.referenceId&&notificationData.referenceId!=-1)){if(embedPlayer.changeMediaStarted){break;}embedPlayer.changeMediaStarted=true;if(!notificationData.entryId&&notificationData.referenceId){embedPlayer.setFlashvars('referenceId',notificationData.referenceId);}else{embedPlayer.setFlashvars('referenceId',null);}embedPlayer.kentryid=notificationData.entryId;embedPlayer.kalturaPlayerMetaData=null;embedPlayer.kalturaEntryMetaData=null;embedPlayer.rawCuePoints=null;embedPlayer.kCuePoints=null;embedPlayer.kAds=null;embedPlayer.updatePoster();embedPlayer.changeMedia();break;}case'alert':embedPlayer.layoutBuilder.displayAlert(notificationData);break;case'removealert':embedPlayer.layoutBuilder.closeAlert();break;case'enableGui':if(notificationData.guiEnabled==true){embedPlayer.enablePlayControls();}else{embedPlayer.disablePlayControls();}break;case'switchAudioTrack':embedPlayer.switchAudioTrack(notificationData.index);break;default:$(embedPlayer).trigger(notificationName,[notificationData]);break;}$(embedPlayer).trigger('Kaltura_SendNotification',[notificationName,notificationData]);}};})(window.mw,jQuery);;},{},{});mw.loader.implement("mw.KWidgetSupport",function($){(function(mw,$){"use strict";mw.KWidgetSupport=function(options){return this.init(options);};mw.KWidgetSupport.prototype={kClient:null,kSessionId:null,init:function(options){if(options){$.extend(this,options);}this.addPlayerHooks();},isIframeApiServer:function(){return(mw.getConfig('EmbedPlayer.IsIframeServer')&&mw.getConfig('EmbedPlayer.EnableIframeApi')&&mw.getConfig('EmbedPlayer.IframeParentUrl'))},addPlayerHooks:function(){var _this=this;$(mw).bind('KalturaSupportNewPlayer',function(event,embedPlayer){if(!embedPlayer.kwidgetid){mw.log("Error:: KalturaSupportNewPlayer without kwidgetid");return;}_this.bindPlayer(embedPlayer);new mw.KDPMapping(embedPlayer);if(kWidget.isIE8()&&!kWidget.supportsFlash()){embedPlayer.setError(embedPlayer.getKalturaMsg('ks-FLASH-REQUIRED'));}});},bindPlayer:function(embedPlayer){var _this=this;this.addPlayerMethods(embedPlayer);if(!embedPlayer.playerConfig){mw.log('Error: KWidgetSupport::bindPlayer error playerConfig not found');return;}embedPlayer.bindHelper('directDownloadLink',function(event,downloadUrlCallback){var baseUrl=mw.getConfig('wgLoadScript').replace('load.php','');var downloadUrl=baseUrl+'modules/KalturaSupport/download.php/wid/'+embedPlayer.kwidgetid;if(embedPlayer.kuiconfid){downloadUrl+='/uiconf_id/'+embedPlayer.kuiconfid;}if(embedPlayer.kentryid){downloadUrl+='/entry_id/'+embedPlayer.kentryid;}var client=mw.kApiGetPartnerClient(embedPlayer.kwidgetid);var referrer=base64_encode(kWidgetSupport.getHostPageUrl());client.getKS(function(ks){downloadUrl+='/?ks='+ks+'&referrer='+referrer;downloadUrlCallback(downloadUrl);});});embedPlayer.bindHelper('checkPlayerSourcesEvent',function(event,callback){_this.loadAndUpdatePlayerData(embedPlayer,callback);});embedPlayer.bindHelper('KalturaSupport_EntryDataReady',function(){embedPlayer.setDuration(embedPlayer.kalturaPlayerMetaData.duration);var thumbUrl=_this.getKalturaThumbnailUrl({url:embedPlayer.evaluate('{mediaProxy.entry.thumbnailUrl}'),width:embedPlayer.getWidth(),height:embedPlayer.getHeight()});if(embedPlayer.getFlashvars('loadThumbnailWithKs')===true){thumbUrl+='?ks='+embedPlayer.getFlashvars('ks');}var alt=gM('mwe-embedplayer-video-thumbnail-for',embedPlayer.evaluate('{mediaProxy.entry.name}'));embedPlayer.updatePoster(thumbUrl,alt);if(embedPlayer.kalturaPlayerMetaData.mediaType===5){embedPlayer.isAudioPlayer=true;}});embedPlayer.bindHelper('AddEmptyBlackSources',function(event,vid){$(vid).empty();$.each(mw.getConfig('Kaltura.BlackVideoSources'),function(inx,sourceAttr){$(vid).append($('<source />').attr(sourceAttr))});});embedPlayer.bindHelper('getShareIframeSrc',function(event,callback){var uiconf_id=(embedPlayer.kuiconfid)?'/uiconf_id/'+embedPlayer.kuiconfid:'';var iframeUrl=mw.getMwEmbedPath()+'mwEmbedFrame.php';iframeUrl+='/wid/'+embedPlayer.kwidgetid+uiconf_id+'/entry_id/'+embedPlayer.kentryid+'/'+'?'+kWidget.flashVarsToUrl(embedPlayer.getFlashvars());callback(iframeUrl);});embedPlayer.bindHelper('embedPlayerError',function(){embedPlayer.showErrorMsg({title:embedPlayer.getKalturaMsg('ks-GENERIC_ERROR_TITLE'),message:embedPlayer.getKalturaMsg('ks-CLIP_NOT_FOUND')});});embedPlayer.bindHelper('Kaltura_SetKDPAttribute',function(e,componentName,property,value){switch(property){case'mediaPlayFrom':embedPlayer.startTime=parseFloat(value);break;case'mediaPlayTo':embedPlayer.pauseTime=parseFloat(value);break;}});},loadAndUpdatePlayerData:function(embedPlayer,callback){var _this=this;mw.log("KWidgetSupport::loadAndUpdatePlayerData");_this.loadPlayerData(embedPlayer,function(playerData){if(!playerData){mw.log("KWidgetSupport::loadAndUpdatePlayerData> error no player data!");callback();return;}_this.updatePlayerData(embedPlayer,playerData,callback);});},updatePlayerData:function(embedPlayer,playerData,callback){var _this=this;if(playerData.error){embedPlayer.setError(playerData.error);}var hasLivestreamConfig=function(protocol){var configurations=playerData.meta.liveStreamConfigurations;if(configurations&&configurations.length){for(var i=0;i<configurations.length;i++){if(configurations[i].protocol==protocol){return true;}}}return false;}
	function handlePlayerData(){if(playerData.meta&&playerData.meta.mediaType==2){mw.log('KWidgetSupport::updatePlayerData: Add Entry Image');embedPlayer.mediaElement.tryAddSource($('<source />').attr({'src':_this.getKalturaThumbnailUrl({url:playerData.meta.thumbnailUrl,width:embedPlayer.getWidth(),height:embedPlayer.getHeight()}),'type':'image/jpeg'}).get(0));}if(playerData.meta&&playerData.meta.type=="externalMedia.externalMedia"){$(embedPlayer).trigger('KalturaSupport_AddExternalMedia',playerData.meta);}if(playerData.meta&&playerData.meta.code=='ENTRY_ID_NOT_FOUND'){$(embedPlayer).trigger('KalturaSupport_EntryFailed');}else{if(playerData.entryMeta){embedPlayer.kalturaEntryMetaData=playerData.entryMeta;}if(playerData.meta){embedPlayer.kalturaPlayerMetaData=playerData.meta;if(playerData.meta.moderationStatus&&(!playerData.contextData||!playerData.contextData.isAdmin)){if(playerData.meta.moderationStatus==1){embedPlayer.setError(embedPlayer.getKalturaMsgObject('ks-ENTRY_MODERATE'));}else if(playerData.meta.moderationStatus==3){embedPlayer.setError(embedPlayer.getKalturaMsgObject('ks-ENTRY_REJECTED'));}}}}if(playerData.entryCuePoints&&playerData.entryCuePoints.length>0){embedPlayer.rawCuePoints=playerData.entryCuePoints;embedPlayer.kCuePoints=new mw.KCuePoints(embedPlayer);}_this.handleUiConf(embedPlayer,callback);}if(playerData.contextData){embedPlayer.kalturaContextData=playerData.contextData;}var isStreamSupported=false;if(playerData.meta&&(playerData.meta.type==7||playerData.meta.type==8)){if(mw.EmbedTypes.getMediaPlayers().isSupportedPlayer('splayer')){if(playerData.contextData&&playerData.contextData.flavorAssets){var flavorData=playerData.contextData.flavorAssets;for(var i=0;i<flavorData.length;i++){var tags=flavorData[i].tags.toLowerCase().split(',');if($.inArray('multicast_silverlight',tags)!=-1){_this.addLiveEntrySource(embedPlayer,playerData.meta,false,true,'multicast_silverlight',undefined);isStreamSupported=true;embedPlayer.setLive(true);break;}}}}if((playerData.meta.hlsStreamUrl||hasLivestreamConfig('hls')||hasLivestreamConfig('applehttp'))&&mw.EmbedTypes.getMediaPlayers().getMIMETypePlayers('application/vnd.apple.mpegurl').length){_this.addLiveEntrySource(embedPlayer,playerData.meta,false,false,'applehttp',function(){embedPlayer.setLive(true);handlePlayerData();});return;}else if(mw.EmbedTypes.getMediaPlayers().isSupportedPlayer('kplayer')){var streamerType;if(hasLivestreamConfig('hdnetworkmanifest')){streamerType='hdnetworkmanifest';}else if(hasLivestreamConfig('hds')){streamerType='hds';}else{streamerType='rtmp';}_this.addLiveEntrySource(embedPlayer,playerData.meta,true,false,streamerType,undefined);embedPlayer.setLive(true);}else if(!isStreamSupported){embedPlayer.setError(embedPlayer.getKalturaMsg('LIVE-STREAM-NOT-SUPPORTED'));}}else{embedPlayer.setLive(false);if(playerData.contextData&&playerData.contextData.flavorAssets){_this.addFlavorSources(embedPlayer,playerData);}}handlePlayerData();},addPlayerMethods:function(embedPlayer){var _this=this;embedPlayer.getRawKalturaConfig=function(confPrefix,attr){var rawConfigArray=_this.getRawPluginConfig(embedPlayer,confPrefix,attr);if($.isPlainObject(rawConfigArray)&&attr){return rawConfigArray[attr];}return rawConfigArray;};embedPlayer.getKalturaConfig=function(confPrefix,attr){return _this.getPluginConfig(embedPlayer,confPrefix,attr);};embedPlayer.setKalturaConfig=function(pluginName,key,value,quiet){if(!key){return;}var objectSet={};if(typeof key==="string"){objectSet[key]=value;}if(typeof key==="object"){objectSet=key;}if(!embedPlayer.playerConfig){embedPlayer.playerConfig={'plugins':{},'vars':{}};}if(!pluginName){embedPlayer.playerConfig['vars'][key]=value;}else if(!embedPlayer.playerConfig['plugins'][pluginName]){embedPlayer.playerConfig['plugins'][pluginName]=objectSet;}else{if(typeof key==='object'){$.extend(embedPlayer.playerConfig['plugins'][pluginName],objectSet);mw.log('merged:: ',embedPlayer.playerConfig['plugins'][pluginName]);}else if($.isArray(embedPlayer.playerConfig['plugins'][pluginName][key])&&$.isArray(value)){embedPlayer.playerConfig['plugins'][pluginName][key]=value;}else if(typeof embedPlayer.playerConfig['plugins'][pluginName][key]==='object'&&typeof value==='object'){$.extend(embedPlayer.playerConfig['plugins'][pluginName][key],value);}else{embedPlayer.playerConfig['plugins'][pluginName][key]=value;}}if(!quiet){embedPlayer.triggerHelper('Kaltura_ConfigChanged',[pluginName,key,value]);}};embedPlayer.addExportedObject=function(pluginName,objectSet){mw.log("KwidgetSupport:: addExportedObject is deprecated, please use standard setKalturaConfig");for(var key in objectSet){embedPlayer.setKalturaConfig(pluginName,key,objectSet[key]);}};embedPlayer.isPluginEnabled=function(pluginName){var lcPluginName=(pluginName.substr(0,1))?pluginName.substr(0,1).toLowerCase()+pluginName.substr(1):false;if(lcPluginName){if(_this.getRawPluginConfig(embedPlayer,lcPluginName)===undefined){return false;}if(_this.getPluginConfig(embedPlayer,lcPluginName,'plugin')===false){return false;}if(_this.getPluginConfig(embedPlayer,lcPluginName,'disableHTML5')){return false;}return true;}return false;};embedPlayer.getFlashvars=function(param){if(!embedPlayer.playerConfig||!embedPlayer.playerConfig.vars){return{};}var fv=embedPlayer.playerConfig['vars']||{};if(param){if(param in fv){return fv[param];}else{return undefined;}}return fv;}
	embedPlayer.setFlashvars=function(key,value){if(key){embedPlayer.playerConfig['vars'][key]=value;}}
	embedPlayer.getKalturaMsg=function(msgKey){var localeMsgKey=msgKey;if(embedPlayer.currentLocale){localeMsgKey=embedPlayer.currentLocale+'_'+msgKey;}if(_this.getPluginConfig(embedPlayer,'strings',localeMsgKey)){return _this.getPluginConfig(embedPlayer,'strings',localeMsgKey);}if(mw.messages.exists(msgKey)){return gM(msgKey);}msgKey='ks-'+msgKey;if(mw.messages.exists(msgKey)){return gM(msgKey);}if(msgKey.indexOf('_TITLE')==-1){return gM('ks-GENERIC_ERROR');}return gM('ks-GENERIC_ERROR_TITLE');};embedPlayer.getKalturaMsgTitle=function(msgKey){return embedPlayer.getKalturaMsg(msgKey+'_TITLE');};embedPlayer.getKalturaMsgObject=function(msgKey){return{'title':embedPlayer.getKalturaMsgTitle(msgKey),'message':embedPlayer.getKalturaMsg(msgKey)}};},handleUiConf:function(embedPlayer,callback){var _this=this;var doneWithUiConf=function(){if(embedPlayer.rawCuePoints){mw.log("KWidgetSupport:: trigger KalturaSupport_CuePointsReady",embedPlayer.rawCuePoints);$(embedPlayer).trigger('KalturaSupport_CuePointsReady',embedPlayer.rawCuePoints);}if(embedPlayer.kalturaPlayerMetaData){$(embedPlayer).trigger('KalturaSupport_EntryDataReady',embedPlayer.kalturaPlayerMetaData);}if(embedPlayer.kalturaEntryMetaData){$(embedPlayer).trigger('KalturaSupport_MetadataReceived',embedPlayer.kalturaEntryMetaData);}mw.log("KWidgetSupport:: trigger KalturaSupport_DoneWithUiConf");setTimeout(function(){$(embedPlayer).trigger('KalturaSupport_DoneWithUiConf');callback();},0);};if(embedPlayer.playerConfig){_this.baseUiConfChecks(embedPlayer);embedPlayer.$uiConf=$({});mw.log("KWidgetSupport:: trigger Kaltura_CheckConfig");$(embedPlayer).triggerQueueCallback('Kaltura_CheckConfig',embedPlayer,function(){doneWithUiConf();});}else{doneWithUiConf();}},baseUiConfChecks:function(embedPlayer){var _this=this;var getAttr=function(attrName){return _this.getPluginConfig(embedPlayer,'',attrName);}
	var autoPlay=getAttr('autoPlay');if(autoPlay){embedPlayer.autoplay=true;}var autoMute=getAttr('autoMute');if(autoMute){setTimeout(function(){embedPlayer.toggleMute(true);},300);embedPlayer.setKalturaConfig('','autoMute',null);}var loop=getAttr('loop');if(loop){embedPlayer.loop=true;}if(getAttr('disableAlerts')){mw.setConfig('EmbedPlayer.ShowPlayerAlerts',false);}if(getAttr('disableBitrateCookie')&&getAttr('mediaProxy.preferedFlavorBR')){embedPlayer.setCookie('EmbedPlayer.UserBandwidth',getAttr('mediaProxy.preferedFlavorBR')*1000);}if(getAttr('mediaProxy.preferedFlavorBR')&&embedPlayer.mediaElement){embedPlayer.mediaElement.preferedFlavorBR=getAttr('mediaProxy.preferedFlavorBR')*1000;}if(getAttr('enableTooltips')===false){embedPlayer.enableTooltips=false;}var imageDuration=getAttr('imageDefaultDuration');if(imageDuration){$(embedPlayer).data('imageDuration',imageDuration);}var mediaPlayFrom=getAttr('mediaProxy.mediaPlayFrom');if(mediaPlayFrom){embedPlayer.startTime=parseFloat(mediaPlayFrom);mw.setConfig("Kaltura.UseAppleAdaptive",true);}var mediaPlayTo=getAttr('mediaProxy.mediaPlayTo');if(mediaPlayTo){embedPlayer.pauseTime=parseFloat(mediaPlayTo);}if(getAttr('adsOnReplay')){embedPlayer.adsOnReplay=true;}if(getAttr('disablePlayerSpinner')){mw.setConfig('LoadingSpinner.Disabled',true);}var streamerType=embedPlayer.getKalturaConfig(null,'streamerType');if(embedPlayer.kalturaContextData&&streamerType=='auto'){embedPlayer.streamerType=embedPlayer.kalturaContextData.streamerType;}else if(streamerType){embedPlayer.streamerType=streamerType;}},getPluginConfig:function(embedPlayer,confPrefix,attr){var singleAttrName=false;if(typeof attr=='string'){singleAttrName=attr;}var rawConfigArray=this.getRawPluginConfig(embedPlayer,confPrefix,singleAttrName);var configArray=this.postProcessConfig(embedPlayer,rawConfigArray);if(singleAttrName!=false){return configArray[singleAttrName];}else{return configArray;}},getRawPluginConfig:function(embedPlayer,confPrefix,attr){var _this=this;if(!embedPlayer.playerConfig){if(window.kalturaIframePackageData.playerConfig){embedPlayer.playerConfig=window.kalturaIframePackageData.playerConfig;delete(window.kalturaIframePackageData.playerConfig);}}var plugins=embedPlayer.playerConfig['plugins'];var returnConfig={};if(confPrefix&&confPrefix[0]){confPrefix=confPrefix[0].toLowerCase()+confPrefix.substr(1);}if(confPrefix&&plugins[confPrefix]){if(!attr){return plugins[confPrefix];}if(attr&&typeof plugins[confPrefix][attr]!=='undefined'){returnConfig[attr]=plugins[confPrefix][attr];}if(attr&&typeof attr=='object'){for(var currAttr in attr){if(plugins[confPrefix][attr[currAttr]]){returnConfig[attr[currAttr]]=plugins[confPrefix][attr[currAttr]];}}}}else if(!confPrefix&&attr){returnConfig[attr]=embedPlayer.playerConfig['vars'][attr]}else{return undefined;}return returnConfig;},postProcessConfig:function(embedPlayer,config){var _this=this;var returnSet=$.extend({},config);$.each(returnSet,function(attrName,value){if(value&&(typeof value==='string')){returnSet[attrName]=unescape(value);}if(embedPlayer.evaluate){returnSet[attrName]=embedPlayer.evaluate(returnSet[attrName]);}});return returnSet;},getEntryIdSourcesFromApi:function(widgetId,partnerId,entryId,size,callback){var _this=this;var sources;mw.log("KWidgetSupport:: getEntryIdSourcesFromApi: w:"+widgetId+' entry:'+entryId);this.kClient=mw.KApiPlayerLoader({'widget_id':widgetId,'entry_id':entryId},function(playerData){if(playerData.contextData){var acStatus=_this.getAccessControlStatus(playerData.contextData);if(acStatus!==true){callback(acStatus);return;}}if(playerData.meta&&playerData.meta.mediaType==2){sources=[{'src':_this.getKalturaThumbnailUrl({url:playerData.meta.thumbnailUrl,width:size.width,height:size.height}),'type':'image/jpeg'}];}else{sources=_this.getEntryIdSourcesFromPlayerData(partnerId,playerData);}callback(sources);});},loadPlayerData:function(embedPlayer,callback){var _this=this;var playerRequest={};if(!embedPlayer.kwidgetid){mw.log("Error: missing required widget paramater ( kwidgetid ) ");callback(false);return;}else{playerRequest.widget_id=embedPlayer.kwidgetid;}if(!this.checkForUrlEntryId(embedPlayer)&&embedPlayer.kentryid){playerRequest.entry_id=embedPlayer.kentryid;}playerRequest.flashvars=embedPlayer.getFlashvars();playerRequest.features=kalturaIframePackageData.apiFeatures;this.kClient=mw.kApiGetPartnerClient(playerRequest.widget_id);this.kClient.setKS(embedPlayer.getFlashvars('ks'));if(window.kalturaIframePackageData&&window.kalturaIframePackageData.playlistResult){var pl=window.kalturaIframePackageData.playlistResult;for(var plId in pl)break;if(pl[plId].content.indexOf('<?xml')===0){var entryList=[];for(var i in pl[plId].items){entryList.push(pl[plId].items[i].id);}pl[plId].content=entryList.join(',');}embedPlayer.kalturaPlaylistData=pl;delete(window.kalturaIframePackageData.playlistResult);}if(window.kalturaIframePackageData&&window.kalturaIframePackageData.entryResult){this.handlePlayerData(embedPlayer,kalturaIframePackageData.entryResult);callback(window.kalturaIframePackageData.entryResult);delete(window.kalturaIframePackageData.entryResult);}else{this.kClient=mw.KApiPlayerLoader(playerRequest,function(playerData){_this.handlePlayerData(embedPlayer,playerData);callback(playerData);});}},handlePlayerData:function(embedPlayer,entryResult){if(entryResult.meta&&entryResult.meta.id){embedPlayer.kentryid=entryResult.meta.id;embedPlayer.kpartnerid=entryResult.meta.partnerId;}var errObj=null;if(entryResult.meta&&entryResult.meta.code=="INVALID_KS"){errObj=embedPlayer.getKalturaMsgObject("NO_KS");}if(entryResult.error){errObj=embedPlayer.getKalturaMsgObject('GENERIC_ERROR');errObj.message=entryResult.error;}if(errObj){embedPlayer.hideSpinner();embedPlayer.setError(errObj);}},getAccessControlStatus:function(ac,embedPlayer){if(ac.isAdmin){return true;}if(ac.isCountryRestricted){return embedPlayer.getKalturaMsgObject('UNAUTHORIZED_COUNTRY');}if(ac.isScheduledNow===0){return embedPlayer.getKalturaMsgObject('OUT_OF_SCHEDULING');}if(ac.isIpAddressRestricted){return embedPlayer.getKalturaMsgObject('UNAUTHORIZED_IP_ADDRESS');}if(ac.isSessionRestricted&&ac.previewLength===-1){return embedPlayer.getKalturaMsgObject('NO_KS');}if(ac.isSiteRestricted){return embedPlayer.getKalturaMsgObject('UNAUTHORIZED_DOMAIN');}if(ac.isUserAgentRestricted){return embedPlayer.getKalturaMsgObject('USER_AGENT_RESTRICTED');}if(ac.accessControlActions&&ac.accessControlActions.length){var msgObj=embedPlayer.getKalturaMsgObject('GENERIC_ERROR');var err=false;$.each(ac.accessControlActions,function(){if(this.type==1){msgObj.message='';if(ac.accessControlMessages&&ac.accessControlMessages.length){$.each(ac.accessControlMessages,function(){msgObj.message+=this.value+'\n';err=true;});}else{msgObj=embedPlayer.getKalturaMsgObject('NO_KS');err=true;}}});if(err){return msgObj;}}return true;},getUiConfId:function(embedPlayer){return embedPlayer.kuiconfid;},checkForUrlEntryId:function(embedPlayer){if(embedPlayer.kentryid&&typeof embedPlayer.kentryid=='string'&&embedPlayer.kentryid.indexOf('://')!=-1){embedPlayer.mediaElement.tryAddSource($('<source />').attr({'src':embedPlayer.kentryid}).get(0));return true;}return false;},addFlavorSources:function(embedPlayer,playerData){var _this=this;var sources=embedPlayer.mediaElement.getSources();if(sources[0]&&sources[0]['data-flavorid']){return;}var flavorSources=_this.getEntryIdSourcesFromPlayerData(embedPlayer.kpartnerid,playerData);embedPlayer.kalturaFlavors=flavorSources;var preferedBitRate=embedPlayer.evaluate('{mediaProxy.preferedFlavorBR}');var flashvarsPlayMainfestParams=this.getPlayMainfestParams(embedPlayer);var qp='';for(var i=0;i<flavorSources.length;i++){var source=flavorSources[i];if(preferedBitRate&&source.type=='application/vnd.apple.mpegurl'){qp=(source.src.indexOf('?')===-1)?'?':'&';source.src=source.src+qp+'preferredBitrate='+preferedBitRate;}if(source['disableQueryString']){var mParams=this.getPlayMainfestParams(embedPlayer,true);if(mParams!=''){var index=source.src.lastIndexOf('/a.');source.src=source.src.substring(0,index)+'/'+mParams+source.src.substring(index);}}else{qp=(source.src.indexOf('?')===-1)?'?':'&';source.src=source.src+qp+flashvarsPlayMainfestParams;}mw.log('KWidgetSupport:: addSource::'+embedPlayer.id+' : '+source.src+' type: '+source.type);var sourceElm=$('<source />').attr(source).get(0);embedPlayer.mediaElement.tryAddSource(sourceElm);}},getPlayMainfestParams:function(embedPlayer,disableQueryString){var p='';var and='';var equalDelimiter='=';var andDelimiter='&';if(disableQueryString){andDelimiter=equalDelimiter='/';}var urlParms=["deliveryCode","storageId","maxBitrate","playbackContext","seekFrom","clipTo"];$.each(urlParms,function(inx,param){if(embedPlayer.getFlashvars(param)){p+=and+param+equalDelimiter+embedPlayer.getFlashvars(param);and=andDelimiter;}});p+=and+'uiConfId'+equalDelimiter+embedPlayer.kuiconfid;return p;},getHostPageUrl:function(){var hostUrl=(mw.getConfig('EmbedPlayer.IframeParentUrl'))?mw.getConfig('EmbedPlayer.IframeParentUrl'):document.URL;if(hostUrl.indexOf("#")!==-1){hostUrl=hostUrl.substr(0,hostUrl.indexOf("#"));}hostUrl=hostUrl.substr(0,hostUrl.indexOf("/",8));return hostUrl;},getBaseFlavorUrl:function(partnerId){if(mw.getConfig('Kaltura.UseManifestUrls')){return mw.getConfig('Kaltura.ServiceUrl')+'/p/'+partnerId+'/sp/'+partnerId+'00/playManifest';}else{return mw.getConfig('Kaltura.CdnUrl')+'/p/'+partnerId+'/sp/'+partnerId+'00/flvclipper';}},getEntryIdSourcesFromPlayerData:function(partnerId,playerData){var _this=this;if(!playerData.contextData||(playerData.contextData&&!playerData.contextData.flavorAssets)){mw.log("Error: KWidgetSupport: contextData.flavorAssets is not defined ");return;}var flavorData=playerData.contextData.flavorAssets;var protocol=mw.getConfig('Kaltura.Protocol');if(!protocol){protocol=window.location.protocol.replace(':','');}var deviceSources=[];var ipadAdaptiveFlavors=[];var iphoneAdaptiveFlavors=[];var flavorUrl=_this.getBaseFlavorUrl(partnerId);var hasH264Flavor=false;for(var i=0;i<flavorData.length;i++){var asset=flavorData[i];var sourceAspect=Math.round((asset.width/asset.height)*100)/100
	var source={'data-sizebytes':asset.size*1024,'data-bandwidth':asset.bitrate*1024,'data-width':asset.width,'data-height':asset.height,'data-aspect':sourceAspect,'data-tags':asset.tags,'data-assetid':asset.id};var tags=asset.tags.toLowerCase().split(',');if(asset.status!=2){if(asset.status==4){source.error='not-ready-transcoding';mw.log("KWidgetSupport:: Skip sources that are not ready: "+asset.id+' '+asset.tags);}continue;}if(mw.getConfig('Kaltura.UseManifestUrls')){var src=flavorUrl+'/entryId/'+asset.entryId;if(mw.getConfig('Kaltura.UseAppleAdaptive')&&$.inArray('applembr',tags)!=-1){src+='/format/applehttp/protocol/'+protocol+'/a.m3u8';deviceSources.push({'data-aspect':sourceAspect,'data-flavorid':'AppleMBR','type':'application/vnd.apple.mpegurl','src':src});continue;}else{src+='/flavorId/'+asset.id+'/format/url/protocol/'+protocol;}}else{mw.log("Error: KWidgetSupport: non-manifest urls are deprecated");var src=flavorUrl+'/entry_id/'+asset.entryId+'/flavor/'+asset.id;}if($.inArray('ipad',tags)!=-1){source['src']=src+'/a.mp4';source['data-flavorid']='iPad';source['type']='video/mp4; codecs="avc1.42E01E, mp4a.40.2';hasH264Flavor=true;}if($.inArray('iphone',tags)!=-1){source['src']=src+'/a.mp4';source['data-flavorid']='iPhone';source['type']='video/mp4; codecs="avc1.42E01E, mp4a.40.2';hasH264Flavor=true;}if(($.inArray('mbr',tags)!=-1||$.inArray('web',tags)!=-1)&&$.isEmptyObject(source['src'])&&!mw.isMobileDevice()&&asset.fileExt){if(asset.fileExt.toLowerCase()=='mp4'){source['src']=src+'/a.mp4';source['type']='video/mp4; codecs="avc1.42E01E, mp4a.40.2';hasH264Flavor=true;}else if(asset.fileExt.toLowerCase()=='flv'){source['src']=src+'/a.flv';source['type']='video/x-flv';}}if(asset.fileExt&&(asset.fileExt.toLowerCase()=='ogg'||asset.fileExt.toLowerCase()=='ogv'||(asset.containerFormat&&asset.containerFormat.toLowerCase()=='ogg'))){source['src']=src+'/a.ogg';source['data-flavorid']='ogg';source['type']='video/ogg';}if(asset.fileExt&&asset.containerFormat&&(asset.fileExt=='webm'||$.inArray('webm',tags)!=-1||(asset.containerFormat.toLowerCase()=='webm'))){source['src']=src+'/a.webm';source['data-flavorid']='webm';source['type']='video/webm; codecs="vp8, vorbis';}if(asset.fileExt&&asset.fileExt=='3gp'){source['src']=src+'/a.3gp';source['data-flavorid']='3gp';source['type']='video/3gp';}if(asset.fileExt&&asset.fileExt=='mp3'){source['src']=src+'/a.mp3';source['data-flavorid']='mp3';source['type']='audio/mp3';}if(asset.fileExt&&asset.fileExt=='wvm'){source['src']=src+'/a.wvm';source['data-flavorid']='wvm';source['type']='video/wvm';source['disableQueryString']=true;}if(asset.tags&&asset.tags=='kontiki'){source['src']=src+'/a.mp4';source['data-flavorid']='kontiki';source['type']='video/kontiki';}if(asset.tags&&asset.tags.indexOf('ism_manifest')!=-1){src=src.replace("/format/url/","/format/sl/");source['src']=src+'/a.ism';source['data-flavorid']='ism';if(asset.tags.indexOf('playready')!=-1){source['type']='video/playreadySmooth';}else{source['type']='video/ism';}}if(source['src']){deviceSources.push(source);}if(navigator.userAgent.indexOf('Android')!==-1&&asset.width==0&&asset.height==0){continue;}if($.inArray('ipadnew',tags)!=-1){ipadAdaptiveFlavors.push(asset.id);}if($.inArray('iphonenew',tags)!=-1){ipadAdaptiveFlavors.push(asset.id);iphoneAdaptiveFlavors.push(asset.id);}}for(var i=0;i<deviceSources.length;i++){var source=deviceSources[i];if(!this.isValidAspect(source['data-aspect'])){source['data-aspect']=this.getValidAspect(deviceSources);}}if(mw.getConfig('Kaltura.UseFlavorIdsUrls')&&mw.getConfig('Kaltura.UseAppleAdaptive')&&$.grep(deviceSources,function(a){if(a['data-flavorid']=='AppleMBR'){return true;}}).length==0){var addedHlsStream=false;var validClipAspect=this.getValidAspect(deviceSources);if(mw.isMobileDevice()&&mw.isDeviceLessThan480P()&&iphoneAdaptiveFlavors.length){deviceSources.push({'data-aspect':validClipAspect,'data-flavorid':'iPhoneNew','type':'application/vnd.apple.mpegurl','src':flavorUrl+'/entryId/'+asset.entryId+'/flavorIds/'+iphoneAdaptiveFlavors.join(',')+'/format/applehttp/protocol/'+protocol+'/a.m3u8'});addedHlsStream=true;}else if(ipadAdaptiveFlavors.length){deviceSources.push({'data-aspect':validClipAspect,'data-flavorid':'iPadNew','type':'application/vnd.apple.mpegurl','src':flavorUrl+'/entryId/'+asset.entryId+'/flavorIds/'+ipadAdaptiveFlavors.join(',')+'/format/applehttp/protocol/'+protocol+'/a.m3u8'});}}this.removedAdaptiveFlavors=false;if(playerData.meta.duration<10){deviceSources=this.removeAdaptiveFlavors(deviceSources);}if(!this.removedAdaptiveFlavors&&mw.getConfig('playlistAPI.kpl0Url')&&playerData.meta&&playerData.meta.mediaType==5){deviceSources=this.removeAdaptiveFlavors(deviceSources);}if(!this.removedAdaptiveFlavors&&mw.isAndroid()&&hasH264Flavor&&!mw.getConfig('Kaltura.LeadHLSOnAndroid')){deviceSources=this.removeAdaptiveFlavors(deviceSources);}var ksCheck=false;this.kClient.getKS(function(ks){ksCheck=true;var manifestKs=_this.fixPlaymanifestParam(ks);var referrer=_this.fixPlaymanifestParam(base64_encode(_this.getHostPageUrl()));var clientTag='html5:v'+window['MWEMBED_VERSION'];$.each(deviceSources,function(inx,source){if(deviceSources[inx]['disableQueryString']==true){var index=deviceSources[inx]['src'].lastIndexOf('/a.');deviceSources[inx]['src']=deviceSources[inx]['src'].substring(0,index)+'/ks/'+manifestKs+'/referrer/'+referrer+'/clientTag/'+clientTag+deviceSources[inx]['src'].substring(index);}else{deviceSources[inx]['src']=deviceSources[inx]['src']+'?ks='+manifestKs+'&referrer='+referrer+'&clientTag='+clientTag;}});});if(!ksCheck){mw.log("Error:: KWidgetSupport: KS not defined in time, streams will be missing ks paramter");}return deviceSources;},fixPlaymanifestParam:function(value){return value.replace(/\+/g,"-").replace(/\//g,"_");},removeAdaptiveFlavors:function(sources){for(var i=0;i<sources.length;i++){if(sources[i].type=='application/vnd.apple.mpegurl'){sources.splice(i,1);i--;}}this.removedAdaptiveFlavors=true;return sources;},getValidAspect:function(sources){var _this=this;for(var i=0;i<sources.length;i++){var source=sources[i];var aspect=source['data-aspect'];if(this.isValidAspect(aspect)){return aspect;}}var aspectParts=mw.getConfig('EmbedPlayer.DefaultSize').split('x');return Math.round((aspectParts[0]/aspectParts[1])*100)/100;},addLiveEntrySource:function(embedPlayer,entry,isFlash,isSilverlight,streamerType,callback){var _this=this;var extension;var mimeType;var format=streamerType;var protocol;if(isFlash){extension='f4m';embedPlayer.setFlashvars('streamerType',streamerType);protocol='rtmp';if(embedPlayer.kalturaContextData){protocol=embedPlayer.kalturaContextData.mediaProtocol;}mimeType='video/live';}else if(isSilverlight){extension='f4m';protocol='http';mimeType='video/multicast';}else{embedPlayer.setFlashvars('streamerType','http');extension='m3u8';protocol='http';mimeType='application/vnd.apple.mpegurl';}var srcUrl=this.getBaseFlavorUrl(entry.partnerId)+'/entryId/'+entry.id+'/format/'+format+'/protocol/'+protocol+'/uiConfId/'+embedPlayer.kuiconfid+'/a.'+extension;function getKs(){var deferred=$.Deferred();_this.kClient.getKS(function(ks){srcUrl=srcUrl+'?ks='+ks+'&referrer='+base64_encode(_this.getHostPageUrl());deferred.resolve();});return deferred.promise();}function addSource(){var deferred=$.Deferred();function callAddSource(url){mw.log('KWidgetSupport::addLiveEntrySource: Add Live Entry Source - '+url);embedPlayer.mediaElement.tryAddSource($('<source />').attr({'src':url,'type':mimeType})[0]);deferred.resolve();}if(mimeType=='application/vnd.apple.mpegurl'&&(mw.isAndroid4andUp()||mw.EmbedTypes.getMediaPlayers().isSupportedPlayer('kplayer'))){$.ajax({url:srcUrl+"&responseFormat=jsonp",dataType:'jsonp',success:function(jsonpResponse){var flavors=jsonpResponse.flavors;if(flavors.length==1){callAddSource(flavors[0].url);}else{callAddSource(srcUrl);}deferred.resolve();},error:function(){callAddSource(srcUrl);deferred.resolve();}});}else{callAddSource(srcUrl);}return deferred.promise();}getKs().then(addSource).then(function(){if(callback){callback();}});},isValidAspect:function(aspect){return!isNaN(aspect)&&isFinite(aspect);},generateGUID:function(){var S4=function(){return(((1+Math.random())*0x10000)|0).toString(16).substring(1);};return(S4()+S4()+"-"+S4()+"-"+S4()+"-"+S4()+"-"+S4()+S4()+S4());},getGUID:function(){if(!this.kSessionId){this.kSessionId=this.generateGUID();}return this.kSessionId;},getKalturaThumbnailUrl:function(thumb){if(!thumb.url){return mw.getConfig('EmbedPlayer.BlackPixel');}var thumbUrl=thumb.url;if(thumbUrl.indexOf("thumbnail/entry_id")!=-1){thumbUrl+='/width/'+thumb.width;thumbUrl+='/height/'+thumb.height;}return thumbUrl;},getFunctionByName:function(functionName,context){try{var args=Array.prototype.slice.call(arguments).splice(2);var namespaces=functionName.split(".");var func=namespaces.pop();for(var i=0;i<namespaces.length;i++){context=context[namespaces[i]];}return context[func];}catch(e){mw.log("kWidgetSupport::executeFunctionByName: Error could not find function: "+functionName+' error: '+e);return false;}}};if(!window.kWidgetSupport){window.kWidgetSupport=new mw.KWidgetSupport();}mw.getEntryIdSourcesFromApi=function(widgetId,partnerId,entryId,size,callback){kWidgetSupport.getEntryIdSourcesFromApi(widgetId,partnerId,entryId,size,callback);};})(window.mw,jQuery);;},{},{"ks-CLIP_NOT_FOUND":"An error was experienced when playing the video. Please check your Internet connection and try again.","ks-CLIP_NOT_FOUND_TITLE":"Sorry, clip not found","ks-ENTRY_CONVERTING":"Media is currently being converted, please try again in a few minutes.","ks-ENTRY_CONVERTING_TITLE":"Entry is converting","ks-ENTRY_DELETED":"We're sorry, this content is no longer available.","ks-ENTRY_DELETED_TITLE":"Entry is deleted ","ks-ENTRY_IMPORTING":"Media is currently being converted, please try again in a few minutes.","ks-ENTRY_IMPORTING_TITLE":"Entry is converting","ks-ENTRY_MODERATE":"Media is awaiting moderation","ks-ENTRY_MODERATE_TITLE":"Entry is awaiting moderation","ks-ENTRY_PENDING":"Free preview completed, need to purchase ","ks-ENTRY_PENDING_TITLE":"Free preview completed, need to purchase ","ks-ENTRY_PRECONVERT":"Media is currently being converted, please try again in a few minutes.","ks-ENTRY_PRECONVERT_TITLE":"Entry is converting","ks-ENTRY_REJECTED":"We're sorry, this content was removed","ks-ENTRY_REJECTED_TITLE":"Entry is rejected","ks-ERROR_PROCESSING_MEDIA":"There was an error processing this media.","ks-ERROR_PROCESSING_MEDIA_TITLE":"Error processing media ","ks-FREE_PREVIEW_END":"Access to the rest of the content is restricted.","ks-FREE_PREVIEW_END_TITLE":"Free preview completed, need to purchase ","ks-GENERIC_ERROR":"An internal error has occurred","ks-GENERIC_ERROR_TITLE":"Error","ks-NO_KS":"We're sorry, access to this content is restricted. ","ks-NO_KS_TITLE":"No KS where KS is required ","ks-NO_MIX_PLUGIN":"In order to view mix entry, you must add the mix plugin to the uiconf xml","ks-NO_MIX_PLUGIN_TITLE":"No Mix Plugin","ks-OUT_OF_SCHEDULING":"We're sorry, this content is currently unavailable.","ks-OUT_OF_SCHEDULING_TITLE":"Out of scheduling  ","ks-SERVICE_ERROR":"Service error","ks-SERVICE_GET_ENTRY_ERROR":"Error in Get Entry","ks-SERVICE_GET_EXTRA_ERROR":"Error in get base entry extra data","ks-SERVICE_GET_EXTRA_ERROR_TITLE":"Error Get Extra Data","ks-SERVICE_GET_FLAVORS_ERROR":"Error in Get Flavors","ks-SERVICE_GET_UICONF_ERROR":"Error in Get Uiconf","ks-SERVICE_GET_WIDGET_ERROR":"Error in Get Widget","ks-SERVICE_START_WIDGET_ERROR":"Error in Start Widget Session","ks-UNAUTHORIZED_COUNTRY":"We're sorry, this content is only available in certain countries.","ks-UNAUTHORIZED_COUNTRY_TITLE":"Unauthorized country","ks-UNAUTHORIZED_DOMAIN":"We're sorry, this content is only available on certain domains.","ks-UNAUTHORIZED_DOMAIN_TITLE":"Unauthorized domain","ks-UNAUTHORIZED_IP_ADDRESS":"We're sorry, this content is only available for ceratin IP addresses.","ks-UNAUTHORIZED_IP_ADDRESS_TITLE":"Unauthorized IP address","ks-UNKNOWN_STATUS":"Unknown status","ks-UNKNOWN_STATUS_TITLE":"Unknown status","ks-USER_AGENT_RESTRICTED":"User Agent Restricted\nWe're sorry, this content is not available for your device.","ks-LIVE-STREAM-NOT-SUPPORTED":"Your browser does not support Live stream playback.","ks-LIVE-STREAM-OFFLINE-TITLE":"Live stream not active","ks-LIVE-STREAM-OFFLINE":"This Live stream is not active, Please check back later.","ks-FLASH-REQUIRED":"This video requires Adobe Flash Player, which is currently not available on your browser. Please <a href='http:\/\/www.adobe.com\/support\/flashplayer\/downloads.html' target='_blank'> install Adobe Flash Player <\/a> to view this video.","ks-NO-DRM-LICENSE":"We're sorry, you don\u2019t have a valid license for this video.","ks-ERROR":"Error","ks-LIVE-STREAM-NOT-AVAILABLE":"Live stream is not available","ks-abChecker-title":"Player failed","ks-abChecker-message":"The player or one of its dependencies have failed loading","ks-abChecker-btn-ok":"OK","ks-abChecker-btn-no":"NO","ks-abChecker-btn-cancel":"Cancel","ks-abChecker-btn-close":"Close","ks-abChecker-btn-resume":"Continue"});mw.loader.implement("mw.KalturaIframePlayerSetup",function($){(function(mw,$,playerData){"use strict";try{if(window['parent']&&window['parent']['kWidget']&&window!==window['parent']){mw.config.set('EmbedPlayer.IsFriendlyIframe',true);}else{mw.config.set('EmbedPlayer.IsFriendlyIframe',false);}}catch(e){mw.config.set('EmbedPlayer.IsFriendlyIframe',false);}if(mw.config.get('EmbedPlayer.IsFriendlyIframe')){try{if(window['parent']&&window['parent']['preMwEmbedConfig']){mw.config.set(window['parent']['preMwEmbedConfig']);mw.config.set('EmbedPlayer.IframeParentUrl',document.URL.replace(/#.*/,''));}}catch(e){}}else{try{var hashString=window.location.hash;if(hashString){var hashObj=JSON.parse(decodeURIComponent(hashString.replace(/^#/,'')));if(hashObj&&hashObj.mwConfig){mw.config.set(hashObj.mwConfig);}}}catch(e){kWidget.log("KalturaIframePlayerSetup, could not get configuration ");}}mw.config.set('KalturaSupport.PlayerConfig',playerData['playerConfig']);mw.config.set('Kaltura.IframeRewrite',false);mw.config.set('Mw.LogPrepend','iframe:');mw.config.set('Kaltura.LoadScriptForVideoTags',false);mw.config.set('EmbedPlayer.WaitForMeta',false);mw.config.set('EmbedPlayer.IframeParentPlayerId',playerData['playerId']);mw.config.set(playerData['enviornmentConfig']);if(mw.config.get('EmbedPlayer.IsFullscreenIframe')){mw.config.set('EmbedPlayer.EnableFullscreen',false);}else{if(mw.config.get('EmbedPlayer.IframeParentUrl')===null&&!mw.config.get('EmbedPlayer.ForceNativeComponent')){mw.config.set('EmbedPlayer.NewWindowFullscreen',true);mw.config.set('EmbedPlayer.EnableIpadNativeFullscreen',true);}}var removeElement=function(elemId){if(document.getElementById(elemId)){try{var el=document.getElementById(elemId);el.parentNode.removeChild(el);}catch(e){}}};if(kWidget.isUiConfIdHTML5(playerData.playerConfig.uiConfId)||!(kWidget.supportsFlash()||mw.config.get('Kaltura.ForceFlashOnDesktop'))){removeElement('kaltura_player_iframe_no_rewrite');$('#'+playerData.playerId).embedPlayer(function(){$('#kaltura_player_iframe_no_rewrite').remove();var embedPlayer=$('#'+playerData.playerId)[0];if(mw.config.get('EmbedPlayer.IframeCurrentTime')){embedPlayer.currentTime=mw.config.get('EmbedPlayer.IframeCurrentTime');}if(mw.config.get('EmbedPlayer.IframeIsPlaying')){embedPlayer.play();}});}else{mw.log("Error: KalturaIframePlayer:: rendering flash player after loading html5 lib");}if(playerData.error){$('body').append($('<div />').attr('id','error').html(playerData.error));}})(window.mw,window.jQuery,window.kalturaIframePackageData);;},{},{});mw.loader.implement("mw.MediaElement",function($){(function(mw,$){"use strict";mw.MediaElement=function(element){this.init(element);};mw.MediaElement.prototype={sources:null,addedROEData:false,selectedSource:null,preferedFlavorBR:null,init:function(videoElement){var _this=this;mw.log("EmbedPlayer::mediaElement:init:"+videoElement.id);this.parentEmbedId=videoElement.id;this.sources=new Array();if(videoElement){if($(videoElement).attr("src")){_this.tryAddSource(videoElement);}$(videoElement).find('source,track').each(function(){_this.tryAddSource(this);});}},updateSourceTimes:function(startNpt,endNpt){var _this=this;$.each(this.sources,function(inx,mediaSource){mediaSource.updateSrcTime(startNpt,endNpt);});},getTextTracks:function(){var textTracks=[];$.each(this.sources,function(inx,source){if(source.nodeName=='track'||(source.mimeType&&source.mimeType.indexOf('text/')!==-1)){textTracks.push(source);}});return textTracks;},getSources:function(mimeFilter){if(!mimeFilter){return this.sources;}var source_set=new Array();for(var i=0;i<this.sources.length;i++){if(this.sources[i].mimeType&&this.sources[i].mimeType.indexOf(mimeFilter)!=-1){source_set.push(this.sources[i]);}}return source_set;},getSourceById:function(sourceId){for(var i=0;i<this.sources.length;i++){if(this.sources[i].id==sourceId){return this.sources[i];}}return null;},setSourceByIndex:function(index){mw.log('EmbedPlayer::mediaElement:selectSource: '+index);var playableSources=this.getPlayableSources();var oldSrc;if(this.selectedSource){oldSrc=this.selectedSource.getSrc();}for(var i=0;i<playableSources.length;i++){if(i==index){this.selectedSource=playableSources[i];break;}}if(!oldSrc||oldSrc!=this.selectedSource.getSrc()){$('#'+this.parentEmbedId).trigger('SourceChange');}},setSource:function(source){var oldSrc=this.selectedSource;this.selectedSource=source;if(!oldSrc||oldSrc.getSrc()!=source.getSrc()){$('#'+this.parentEmbedId).trigger('SourceChange');}return this.selectedSource;},autoSelectSource:function(){mw.log('EmbedPlayer::mediaElement::autoSelectSource');var _this=this;var playableSources=this.getPlayableSources();var flash_flag=false,ogg_flag=false;this.selectedSource=null;if(playableSources.length==0){return false;}$(this).trigger('onSelectSource',playableSources);if(_this.selectedSource){mw.log('MediaElement::autoSelectSource: Set via trigger::'+_this.selectedSource.getTitle());return _this.selectedSource;}$.each(playableSources,function(inx,source){if(source.markedDefault){mw.log('MediaElement::autoSelectSource: Set via marked default: '+source.markedDefault);return _this.setSource(source);}});mw.setConfig('EmbedPlayer.IgnoreStreamerType',false);var typesToCheck=['video/playreadySmooth','video/ism','video/multicast'];for(var i=0;i<typesToCheck.length;i++){var matchingSources=this.getPlayableSources(typesToCheck[i]);if(matchingSources.length){mw.log('MediaElement::autoSelectSource: Set prefered mimeType flavor '+typesToCheck[i]);mw.setConfig('EmbedPlayer.IgnoreStreamerType',true);return _this.setSource(matchingSources[0]);}}var vndSources=this.getPlayableSources('application/vnd.apple.mpegurl');if(vndSources.length&&mw.EmbedTypes.getMediaPlayers().getMIMETypePlayers('application/vnd.apple.mpegurl').length){var desktopVdn,mobileVdn;$.each(vndSources,function(inx,source){if(source.getFlavorId()&&source.getFlavorId().toLowerCase()=='iphonenew'){mobileVdn=source;}else{desktopVdn=source;}});if((mw.isIphone()||mw.isAndroid4andUp())&&mobileVdn){_this.setSource(mobileVdn);}else if(desktopVdn){_this.setSource(desktopVdn);}}if(this.selectedSource){mw.log('MediaElement::autoSelectSource: Set via Adaptive HLS: source flavor id:'+_this.selectedSource.getFlavorId()+' src: '+_this.selectedSource.getSrc());return this.selectedSource;}if($.cookie('EmbedPlayer.UserBandwidth')||this.preferedFlavorBR){var bandwidthDelta=999999999;var bandwidthTarget=$.cookie('EmbedPlayer.UserBandwidth')||this.preferedFlavorBR;$.each(playableSources,function(inx,source){if(source.bandwidth){var player=mw.EmbedTypes.getMediaPlayers().defaultPlayer(source.mimeType);if(!player||player.library!='Native'){return true;}if(Math.abs(source.bandwidth-bandwidthTarget)<bandwidthDelta){bandwidthDelta=Math.abs(source.bandwidth-bandwidthTarget);_this.setSource(source);}}});if(this.selectedSource){var setTypeName=($.cookie('EmbedPlayer.UserBandwidth'))?'cookie':'preferedFlavorBR'
	mw.log('MediaElement::autoSelectSource: '+'Set via bandwidth, '+setTypeName+' source:'+this.selectedSource.bandwidth+' target: '+bandwidthTarget);return this.selectedSource;}}var nativePlayableSources=[];$.each(playableSources,function(inx,source){var mimeType=source.mimeType;var player=mw.EmbedTypes.getMediaPlayers().defaultPlayer(mimeType);if(player&&player.library=='Native'){nativePlayableSources.push(source);}});var namedSourceSet={};$.each(playableSources,function(inx,source){var mimeType=source.mimeType;var player=mw.EmbedTypes.getMediaPlayers().defaultPlayer(mimeType);if(player&&player.library=='Native'){switch(player.id){case'mp3Native':var shortName='mp3';break;case'oggNative':var shortName='ogg';break;case'webmNative':var shortName='webm';break;case'h264Native':var shortName='h264';break;case'appleVdn':var shortName='appleVdn';break;}if(!namedSourceSet[shortName]){namedSourceSet[shortName]=[];}namedSourceSet[shortName].push(source);}});if(mw.isMobileDevice()&&namedSourceSet['h264']&&namedSourceSet['h264'].length){var minSize=99999999;$.each(namedSourceSet['h264'],function(inx,source){if(parseInt(source.width)<parseInt(minSize)&&parseInt(source.width)!=0){minSize=source.width;_this.setSource(source);}})}if(this.selectedSource){mw.log('MediaElement::autoSelectSource: mobileDevice; most compatible h.264 because of resolution:'+this.selectedSource.width);return this.selectedSource;}var codecPref=mw.getConfig('EmbedPlayer.CodecPreference');if(codecPref){for(var i=0;i<codecPref.length;i++){var codec=codecPref[i];if(!namedSourceSet[codec]){continue;}if(namedSourceSet[codec].length==1){mw.log('MediaElement::autoSelectSource: Set 1 source via EmbedPlayer.CodecPreference: '+namedSourceSet[codec][0].getTitle());return _this.setSource(namedSourceSet[codec][0]);}else if(namedSourceSet[codec].length>1){var minSizeDelta=null;if(this.parentEmbedId){var displayWidth=$('#'+this.parentEmbedId).width();$.each(namedSourceSet[codec],function(inx,source){if(parseInt(source.width)&&displayWidth){var sizeDelta=Math.abs(source.width-displayWidth);if(minSizeDelta==null||sizeDelta<minSizeDelta){minSizeDelta=sizeDelta;_this.setSource(source);}}});}if(this.selectedSource){mw.log('MediaElement::autoSelectSource: from  '+this.selectedSource.mimeType+' because of resolution:'+this.selectedSource.width+' close to: '+displayWidth);return this.selectedSource;}if(namedSourceSet[codec][0]){mw.log('MediaElement::autoSelectSource: first codec prefrence source');return _this.setSource(namedSourceSet[codec][0]);}}};}$.each(playableSources,function(inx,source){var mimeType=source.mimeType;var player=mw.EmbedTypes.getMediaPlayers().defaultPlayer(mimeType);if((mimeType=='video/mp4'||mimeType=='video/h264')&&player&&(player.library=='Native'||player.library=='Kplayer')){if(source){mw.log('MediaElement::autoSelectSource: Set h264 via native or flash fallback:'+source.getTitle());return _this.setSource(source);}}});if(this.selectedSource){mw.log('MediaElement::autoSelectSource: from  '+this.selectedSource.mimeType+' because of resolution:'+this.selectedSource.width+' close to: '+displayWidth);return this.selectedSource;}if(!this.selectedSource&&playableSources[0]){mw.log('MediaElement::autoSelectSource: Set via first source: '+playableSources[0].getTitle()+' mime: '+playableSources[0].getMIMEType());return _this.setSource(playableSources[0]);}mw.log('MediaElement::autoSelectSource: no match found');return false;},isOgg:function(mimeType){if(mimeType=='video/ogg'||mimeType=='ogg/video'||mimeType=='video/annodex'||mimeType=='application/ogg'){return true;}return false;},getPosterSrc:function(){return this.poster;},hasStreamOfMIMEType:function(mimeType){for(var i=0;i<this.sources.length;i++){if(this.sources[i].getMIMEType()==mimeType){return true;}}return false;},isPlayableType:function(mimeType){if(mw.EmbedTypes.getMediaPlayers().defaultPlayer(mimeType)){return true;}else{return false;}},tryAddSource:function(element){if(element instanceof mw.MediaSource){this.sources.push(element);return element;}var newSrc=$(element).attr('src');if(newSrc){for(var i=0;i<this.sources.length;i++){if(this.sources[i].src==newSrc){this.sources[i].updateSource(element);return this.sources[i];}}}var source=new mw.MediaSource(element);this.sources.push(source);if(element.nodeName&&element.nodeName.toLowerCase()==='track'){if(!mw.isIOS()||(mw.isIOS()&&!mw.getConfig('disableTrackElement'))){if(!mw.isIE8()){var $vid=$('#pid_'+this.parentEmbedId);if($vid.length){if(mw.isIphone()){$vid.attr('crossorigin','anonymous');}$vid.append(element);}}}}return source;},getPlayableSources:function(mimeFilter){var playableSources=[];for(var i=0;i<this.sources.length;i++){if(this.isPlayableType(this.sources[i].mimeType)&&(!mimeFilter||this.sources[i].mimeType.indexOf(mimeFilter)!=-1)){playableSources.push(this.sources[i]);}};mw.log("MediaElement::GetPlayableSources mimeFilter:"+mimeFilter+" "+playableSources.length+' sources playable out of '+this.sources.length);return playableSources;}};})(mediaWiki,jQuery);;},{},{});mw.loader.implement("mw.MediaPlayer",function($){(function(mw,$){"use strict";mw.MediaPlayer=function(id,supportedTypes,library){this.id=id;this.supportedTypes=supportedTypes;this.library=library;this.loaded=false;this.loading_callbacks=new Array();return this;};mw.MediaPlayer.prototype={id:null,supportedTypes:null,library:null,loaded:false,supportsMIMEType:function(type){for(var i=0;i<this.supportedTypes.length;i++){if(this.supportedTypes[i]==type)return true;}return false;},getName:function(){return gM('mwe-embedplayer-ogg-player-'+this.id);},load:function(callback){mw.load(['mw.EmbedPlayer'+this.library.substr(0,1).toUpperCase()+this.library.substr(1)],function(){if(callback){callback();}});}};})(mediaWiki,jQuery);;},{},{});mw.loader.implement("mw.MediaPlayers",function($){(function(mw,$){"use strict";mw.MediaPlayers=function(){this.init();};mw.MediaPlayers.prototype={players:null,preference:{},defaultPlayers:{},init:function(){this.players=new Array();this.loadPreferences();this.defaultPlayers['video/wvm']=['Kplayer'];this.defaultPlayers['video/live']=['Kplayer'];this.defaultPlayers['video/kontiki']=['Kplayer'];this.defaultPlayers['video/x-flv']=['Kplayer','Vlc'];this.defaultPlayers['video/h264']=['NativeComponent','Native','Kplayer','Vlc'];this.defaultPlayers['video/mp4']=['NativeComponent','Native','Kplayer','Vlc'];this.defaultPlayers['application/vnd.apple.mpegurl']=['NativeComponent','Native'];this.defaultPlayers['application/x-shockwave-flash']=['Kplayer'];this.defaultPlayers['video/ogg']=['Native','Vlc','Java','Generic'];this.defaultPlayers['video/webm']=['Native','Vlc'];this.defaultPlayers['application/ogg']=['Native','Vlc','Java','Generic'];this.defaultPlayers['audio/ogg']=['Native','Vlc','Java'];this.defaultPlayers['audio/mpeg']=['Native','Kplayer'];this.defaultPlayers['audio/mp3']=['Native','Kplayer'];this.defaultPlayers['video/mpeg']=['Vlc'];this.defaultPlayers['video/x-msvideo']=['Vlc'];this.defaultPlayers['video/multicast']=['Silverlight'];this.defaultPlayers['video/ism']=['Silverlight'];this.defaultPlayers['video/playreadySmooth']=['Silverlight'];this.defaultPlayers['image/jpeg']=['ImageOverlay'];this.defaultPlayers['image/png']=['ImageOverlay'];if(mw.getConfig("LeadWithHLSOnFlash")){this.defaultPlayers['application/vnd.apple.mpegurl'].push('Kplayer');}},addPlayer:function(player){for(var i=0;i<this.players.length;i++){if(this.players[i].id==player.id){return;}}this.players.push(player);},isSupportedPlayer:function(playerId){for(var i=0;i<this.players.length;i++){if(this.players[i].id==playerId){return true;}}return false;},getMIMETypePlayers:function(mimeType){var mimePlayers=new Array();var _this=this;if(this.defaultPlayers[mimeType]){$.each(this.defaultPlayers[mimeType],function(d,lib){var library=_this.defaultPlayers[mimeType][d];for(var i=0;i<_this.players.length;i++){if(_this.players[i].library==library&&_this.players[i].supportsMIMEType(mimeType)){mimePlayers.push(_this.players[i]);}}});}return mimePlayers;},defaultPlayer:function(mimeType){if(mw.getConfig('EmbedPlayer.ForceNativeComponent')){return mw.EmbedTypes.getNativeComponentPlayerVideo();}if(mw.getConfig('EmbedPlayer.ForceKPlayer')&&this.isSupportedPlayer('kplayer')){return mw.EmbedTypes.getKplayer();}if(mw.getConfig('EmbedPlayer.ForceSPlayer')&&this.isSupportedPlayer('splayer')){return mw.EmbedTypes.getSilverlightPlayer();}var mimePlayers=this.getMIMETypePlayers(mimeType);if(mimePlayers.length>0){for(var i=0;i<mimePlayers.length;i++){if(mimePlayers[i].id==this.preference[mimeType])return mimePlayers[i];}return mimePlayers[0];}return null;},setFormatPreference:function(mimeFormat){this.preference['formatPreference']=mimeFormat;$.cookie('EmbedPlayer.Preference',JSON.stringify(this.preference));},loadPreferences:function(){this.preference={};if($.cookie('EmbedPlayer.Preference')){this.preference=JSON.parse($.cookie('EmbedPlayer.Preference'));}},setPlayerPreference:function(playerId,mimeType){var selectedPlayer=null;for(var i=0;i<this.players.length;i++){if(this.players[i].id==playerId){selectedPlayer=this.players[i];mw.log('EmbedPlayer::setPlayerPreference: choosing '+playerId+' for '+mimeType);this.preference[mimeType]=playerId;$.cookie('EmbedPlayer.Preference',JSON.stringify(this.preference));break;}}if(selectedPlayer){$('.mwEmbedPlayer').each(function(inx,playerTarget){var embedPlayer=$(playerTarget).get(0);if(embedPlayer.mediaElement.selectedSource&&(embedPlayer.mediaElement.selectedSource.mimeType==mimeType)){embedPlayer.selectPlayer(selectedPlayer);}});}}};})(mediaWiki,jQuery);;},{},{});mw.loader.implement("mw.MediaSource",function($){(function(mw,$){"use strict";mw.mergeConfig('EmbedPlayer.SourceAttributes',['id','src','title','URLTimeEncoding','nodeName','data-startoffset','data-durationhint','data-shorttitle','data-width','data-height','data-bandwidth','data-sizebytes','data-framerate','data-flavorid','data-aspect','data-tags','data-assetid','data-mwtitle','data-mwprovider','start','end','default','type','height','assetid','bandwidth','srclang']);mw.MediaSource=function(element){this.init(element);};mw.MediaSource.prototype={mimeType:null,uri:null,title:null,markedDefault:false,URLTimeEncoding:false,startOffset:0,duration:0,id:null,startNpt:null,endNpt:null,srclang:null,init:function(element){var _this=this;this.src=$(element).attr('src');if(this.src!==undefined){var pUrl=new mw.Uri(this.src);if(typeof pUrl.query['t']!='undefined'){this.URLTimeEncoding=true;}}var sourceAttr=mw.getConfig('EmbedPlayer.SourceAttributes');$.each(sourceAttr,function(inx,attr){if($(element).attr(attr)){var attrName=(attr.indexOf('data-')===0)?attr.substr(5):attr
	_this[attrName]=$(element).attr(attr);if(attrName=='default'){_this[attrName]=$(element).attr(attr)=="true"?true:false;}}});if(this.label){this.title=this.label;}if($(element).attr('type')){this.mimeType=$(element).attr('type');}else if($(element).attr('content-type')){this.mimeType=$(element).attr('content-type');}else if($(element)[0].tagName.toLowerCase()=='audio'){this.mimeType='audio/ogg';}else{this.mimeType=this.detectType(this.src);}if(this.mimeType=='video/theora'){this.mimeType='video/ogg';}if(this.mimeType=='audio/vorbis'){this.mimeType='audio/ogg';}if(this.mimeType){this.mimeType=this.mimeType.split(';')[0];}if($(element).parent().attr('category')){this.category=$(element).parent().attr('category');}if($(element).attr('default')){this.markedDefault=true;}this.getURLDuration();},updateSource:function(element){if($(element).attr("title")){this.title=$(element).attr("title");}},updateSrcTime:function(startNpt,endNpt){if(this.URLTimeEncoding){if(!mw.npt2seconds(startNpt)){startNpt=this.startNpt;}if(!mw.npt2seconds(endNpt)){endNpt=this.endNpt;}this.src=mw.replaceUrlParams(this.src,{'t':startNpt+'/'+endNpt});this.getURLDuration();}},setDuration:function(duration){this.duration=duration;if(!this.endNpt){this.endNpt=mw.seconds2npt(this.startOffset+duration);}},getMIMEType:function(){if(this.mimeType){return this.mimeType;}this.mimeType=this.detectType(this.src);return this.mimeType;},setSrc:function(src){this.src=src;},getSrc:function(serverSeekTime){if(!serverSeekTime||!this.URLTimeEncoding){return this.src;}var endvar='';if(this.endNpt){endvar='/'+this.endNpt;}return mw.replaceUrlParams(this.src,{'t':mw.seconds2npt(serverSeekTime)+endvar});},getTitle:function(){if(this.title){return this.title;}if(this.label){return this.label;}switch(this.getMIMEType()){case'video/h264':return gM('mwe-embedplayer-video-h264');break;case'video/x-flv':return gM('mwe-embedplayer-video-flv');break;case'video/webm':return gM('mwe-embedplayer-video-webm');break;case'video/ogg':return gM('mwe-embedplayer-video-ogg');break;case'audio/ogg':return gM('mwe-embedplayer-video-audio');break;case'audio/mpeg':return gM('mwe-embedplayer-audio-mpeg');break;case'video/3gp':return gM('mwe-embedplayer-video-3gp');break;case'video/mpeg':return gM('mwe-embedplayer-video-mpeg');break;case'video/x-msvideo':return gM('mwe-embedplayer-video-msvideo');break;}try{var fileName=new mw.Uri(mw.absoluteUrl(this.getSrc())).path.split('/').pop();if(fileName){return fileName;}}catch(e){}return this.mimeType;},getShortTitle:function(){var _this=this;if(this.shorttitle){return this.shorttitle;}var genTitle='';if(this.height){if(this.heigth<255){genTitle+='240P ';}else if(this.height<370){genTitle+='360P ';}else if(this.height<500){genTitle+='480P ';}else if(this.height<800){genTitle+='720P ';}else{genTitle+='1080P ';}}genTitle+=this.getTitle().replace('video','').replace('a.','');if(genTitle.length>20){genTitle=genTitle.substring(0,17)+"...";}if(this.getBitrate()){var bits=(Math.round(this.getBitrate()/1024*10)/10)+'';if(bits[0]=='0'){bits=bits.substring(1);}genTitle+=' '+bits+'Mbs ';}return genTitle},getURLDuration:function(){if(this.URLTimeEncoding){var annoURL=new mw.Uri(this.src);if(annoURL.query.t){var times=annoURL.query.t.split('/');this.startNpt=times[0];this.endNpt=times[1];this.startOffset=mw.npt2seconds(this.startNpt);this.duration=mw.npt2seconds(this.endNpt)-this.startOffset;}else{if(this.startOffset){this.startNpt=mw.seconds2npt(this.startOffset);}if(this.duration){this.endNpt=mw.seconds2npt(parseInt(this.duration)+parseInt(this.startOffset));}}}},getExt:function(uri){var urlParts=new mw.Uri(uri);var ext=(urlParts.file)?/[^.]+$/.exec(urlParts.file):/[^.]+$/.exec(uri);if(!ext){return'';}ext=/[^#]*/g.exec(ext.toString());return ext.toString().toLowerCase();},getFlavorId:function(){if(this.flavorid){return this.flavorid;}return;},detectType:function(uri){switch(this.getExt(uri)){case'smil':case'sml':return'application/smil';break;case'm4v':case'mp4':return'video/h264';break;case'm3u8':return'application/vnd.apple.mpegurl';break;case'webm':return'video/webm';break;case'3gp':return'video/3gp';break;case'srt':return'text/x-srt';break;case'flv':return'video/x-flv';break;case'ogg':case'ogv':return'video/ogg';break;case'oga':return'audio/ogg';break;case'mp3':return'audio/mpeg';break;case'anx':return'video/ogg';break;case'dfxp':case'xml':return'text/xml';break;case'avi':return'video/x-msvideo';break;case'mpg':return'video/mpeg';break;case'mpeg':return'video/mpeg';break;}mw.log("Error: could not detect type of media src: "+uri);},getBitrate:function(){if(this.bandwidth){return this.bandwidth/1024;}return 0;},getSize:function(){if(this.sizebytes){return this.sizebytes;}return 0;},getTags:function(){return this.tags;},getAssetId:function(){return this.assetid;},getHeight:function(){if(this.height){return this.height;}return 0;}};})(mediaWiki,jQuery);;},{},{});mw.loader.implement("mw.PlayerElement",function($){(function(mw,$){"use strict";mw.PlayerElement=Class.extend({element:null,src:null,init:function(containerId,playerId){mw.log('PlayerElement::Error: function init should be implemented by playerElement interface ');},getElement:function(){return this.element;},play:function(){mw.log('PlayerElement::Error: function play should be implemented by playerElement interface ');},pause:function(){mw.log('PlayerElement::Error: function pause should be implemented by playerElement interface ');},seek:function(val){mw.log('PlayerElement::Error: function seek should be implemented by playerElement interface ');},load:function(){mw.log('PlayerElement::Error: function load should be implemented by playerElement interface ');},changeVolume:function(val){mw.log('PlayerElement::Error: function changeVolume should be implemented by playerElement interface ');}});})(window.mw,window.jQuery);;},{},{});mw.loader.implement("mw.PlayerElementFlash",function($){(function(mw,$){"use strict";mw.PlayerElementFlash=mw.PlayerElement.extend({jsReadyFunName:'elementJsReadyFunc',playerElement:null,currentTime:0,duration:0,paused:true,muted:false,volume:1,id:null,readyState:0,disabled:false,listenerCounter:0,targetObj:null,initialized:false,init:function(containerId,playerId,elementFlashvars,target,readyCallback){var _this=this;this.element=this;this.id=playerId;this.targetObj=target;var flashvars={};flashvars.jsCallBackReadyFunc=this.jsReadyFunName;flashvars.externalInterfaceDisabled="false";flashvars.disableOnScreenClick=true;if(mw.getConfig('debug',true)){flashvars.debugMode='true';}if(elementFlashvars){$.extend(flashvars,elementFlashvars);}var mwEmbedPath=mw.getMwEmbedPath();if(window.location.protocol){mwEmbedPath=window.location.protocol+mwEmbedPath.substring(mwEmbedPath.indexOf(":")+1);}var kdpPath=mwEmbedPath+'modules/EmbedPlayer/binPlayers/kaltura-player/kdp3.swf';window[this.jsReadyFunName]=function(playerId){if(!_this.initialized){_this.initialized=true;setTimeout(function(){_this.playerElement=$('#'+playerId)[0];if(!_this.targetObj){_this.targetObj=_this;var bindEventMap={'playerPaused':'onPause','playerPlayed':'onPlay','durationChange':'onDurationChange','playbackComplete':'onClipDone','playerUpdatePlayhead':'onUpdatePlayhead','playerSeekEnd':'onPlayerSeekEnd','alert':'onAlert','mute':'onMute','unmute':'onUnMute','volumeChanged':'onVolumeChanged'};$.each(bindEventMap,function(bindName,localMethod){_this.bindPlayerFunction(bindName,localMethod);});}_this.readyState=4;if($.isFunction(readyCallback)){readyCallback.apply(_this);}$(_this).trigger('playerJsReady');},0);}};flashembed(containerId,{id:playerId,src:kdpPath,bgcolor:"#000000",allowNetworking:"all",version:[10,0],wmode:"transparent"},flashvars);return this;},play:function(){this.sendNotification('doPlay');},pause:function(){this.sendNotification('doPause');},seek:function(val){this.sendNotification('doSeek',val);$(this).trigger('seeking');},load:function(){this.sendNotification('changeMedia',{'entryUrl':this.src});},changeVolume:function(volume){this.sendNotification('changeVolume',volume);},sendNotification:function(noteName,value){if(this.disabled){return false;}if(this.playerElement){this.playerElement.sendNotification(noteName,value);}else{$(this).bind('playerJsReady',function(){if(!this.disabled){this.playerElement.sendNotification(noteName,value);}});}},setKDPAttribute:function(obj,property,value){if(this.playerElement&&!this.disabled){this.playerElement.setKDPAttribute(obj,property,value);}},addJsListener:function(eventName,methodName){if(this.playerElement){this.bindPlayerFunction(eventName,methodName);}},getCurrentTime:function(){if(this.playerElement){return this.playerElement.getCurrentTime();}return null;},subscribe:function(callback,eventName){if(this.playerElement){var methodName=eventName+this.listenerCounter;this.listenerCounter++;this.targetObj[methodName]=callback;this.bindPlayerFunction(eventName,methodName);}},bindPlayerFunction:function(bindName,methodName,target){var _this=this;mw.log('PlayerElementFlash:: bindPlayerFunction:'+bindName);var gKdpCallbackName='kdp_'+methodName+'_cb_'+this.id.replace(/[^a-zA-Z 0-9]+/g,'');var createGlobalCB=function(cName){window[cName]=function(data){if(bindName!='playerUpdatePlayhead'&&bindName!='bytesDownloadedChange'){mw.log("PlayerElementFlash:: event: "+bindName);}_this.targetObj[methodName](data);};}(gKdpCallbackName,this);this.playerElement.removeJsListener(bindName,gKdpCallbackName);this.playerElement.addJsListener(bindName,gKdpCallbackName);},onUpdatePlayhead:function(playheadVal){this.currentTime=playheadVal;},onPause:function(){this.paused=true;},onPlay:function(){this.paused=false;$(this).trigger('playing');},onDurationChange:function(data,id){this.duration=data.newValue;$(this).trigger('loadedmetadata');},onClipDone:function(){$(this).trigger('ended');},onPlayerSeekEnd:function(){$(this).trigger('seeked');},onAlert:function(data,id){},onMute:function(){this.muted=true;},onUnMute:function(){this.muted=false;},onVolumeChanged:function(data){this.volume=data.newVolume;$(this).trigger('volumechange');},redrawObject:function(timeout){var _this=this;if(!timeout){timeout=250;}this.playerElement.style.width="99%";setTimeout(function(){_this.playerElement.style.width="100%";},timeout);}});})(window.mw,jQuery);(function(){function f(a,b){if(b)for(var c in b)if(b.hasOwnProperty(c))a[c]=b[c];return a}function l(a,b){var c=[];for(var d in a)if(a.hasOwnProperty(d))c[d]=b(a[d]);return c}function m(a,b,c){if(e.isSupported(b.version))a.innerHTML=e.getHTML(b,c);else if(b.expressInstall&&e.isSupported([6,65]))a.innerHTML=e.getHTML(f(b,{src:b.expressInstall}),{MMredirectURL:location.href,MMplayerType:"PlugIn",MMdoctitle:document.title});else{if(!a.innerHTML.replace(/\s/g,"")){a.innerHTML="<h2>Flash version "+b.version+" or greater is required</h2><h3>"+(g[0]>0?"Your version is "+g:"You have no flash plugin installed")+"</h3>"+(a.tagName=="A"?"<p>Click here to download latest version</p>":"<p>Download latest version from <a href='"+k+"'>here</a></p>");if(a.tagName=="A")a.onclick=function(){location.href=k}}if(b.onFail){var d=b.onFail.call(this);if(typeof d=="string")a.innerHTML=d}}if(i)window[b.id]=document.getElementById(b.id);f(this,{getRoot:function(){return a},getOptions:function(){return b},getConf:function(){return c},getApi:function(){return a.firstChild}})}var i=document.all,k="http://www.adobe.com/go/getflashplayer",n=typeof jQuery=="function",o=/(\d+)[^\d]+(\d+)[^\d]*(\d*)/,j={width:"100%",height:"100%",id:"_"+(""+Math.random()).slice(9),allowfullscreen:true,allowscriptaccess:"always",quality:"high",version:[3,0],onFail:null,expressInstall:null,w3c:false,cachebusting:false};window.attachEvent&&window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){}});window.flashembed=function(a,b,c){if(typeof a=="string")a=document.getElementById(a.replace("#",""));if(a){if(typeof b=="string")b={src:b};return new m(a,f(f({},j),b),c)}};var e=f(window.flashembed,{conf:j,getVersion:function(){var a,b;try{b=navigator.plugins["Shockwave Flash"].description.slice(16)}catch(c){try{b=(a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"))&&a.GetVariable("$version")}catch(d){try{b=(a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"))&&a.GetVariable("$version")}catch(h){}}}return(b=o.exec(b))?[b[1],b[3]]:[0,0]},asString:function(a){if(a===null||a===undefined)return null;var b=typeof a;if(b=="object"&&a.push)b="array";switch(b){case"string":a=a.replace(new RegExp('(["\\\\])',"g"),"\\$1");a=a.replace(/^\s?(\d+\.?\d+)%/,"$1pct");return'"'+a+'"';case"array":return"["+l(a,function(d){return e.asString(d)}).join(",")+"]";case"function":return'"function()"';case"object":b=[];for(var c in a)a.hasOwnProperty(c)&&b.push('"'+c+'":'+e.asString(a[c]));return"{"+b.join(",")+"}"}return String(a).replace(/\s/g," ").replace(/\'/g,'"')},getHTML:function(a,b){a=f({},a);var c='<object title="video content" role="video content" width="'+a.width+'" height="'+a.height+'" id="'+a.id+'" name="'+a.id+'"';if(a.cachebusting)a.src+=(a.src.indexOf("?")!=-1?"&":"?")+Math.random();c+=a.w3c||!i?' data="'+a.src+'" type="application/x-shockwave-flash"':' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"';c+=">";if(a.w3c||i)c+='<param name="movie" value="'+a.src+'" />';a.width=a.height=a.id=a.w3c=a.src=null;a.onFail=a.version=a.expressInstall=null;for(var d in a)if(a[d])c+='<param name="'+d+'" value="'+a[d]+'" />';a="";if(b){for(var h in b)if(b[h]){d=b[h];a+=h+"="+(/function|object/.test(typeof d)?e.asString(d):d)+"&"}a=a.slice(0,-1);c+='<param name="flashvars" value=\''+a+"' />"}c+="</object>";return c},isSupported:function(a){return g[0]>a[0]||g[0]==a[0]&&g[1]>=a[1]}}),g=e.getVersion();if(n){jQuery.tools=jQuery.tools||{version:"1.2.5"};jQuery.tools.flashembed={conf:j};jQuery.fn.flashembed=function(a,b){return this.each(function(){$(this).data("flashembed",flashembed(this,a,b))})}}})();;},{},{});mw.loader.implement("mw.PlayerElementHTML",function($){(function(mw,$){"use strict";mw.PlayerElementHTML=mw.PlayerElement.extend({init:function(containerId,playerId){var $vidSibling=$('<video />').attr({'id':playerId}).css({'-webkit-transform-style':'preserve-3d','position':'relative','width':'100%','height':'100%'});$('#'+containerId).append($vidSibling);this.element=$vidSibling[0];return this;},play:function(){this.element.play();},pause:function(){mw.log('PlayerElement::Error: function pause should be implemented by playerElement interface ');},seek:function(val){mw.log('PlayerElement::Error: function seek should be implemented by playerElement interface ');},load:function(){this.element.src=this.src;this.element.load();},changeVolume:function(val){this.element.volume=val;}});})(window.mw,window.jQuery);;},{},{});mw.loader.implement("mw.PlayerElementSilverlight",function($){if(!window.Silverlight){window.Silverlight={};}Silverlight._silverlightCount=0;Silverlight.__onSilverlightInstalledCalled=false;Silverlight.fwlinkRoot='http://go2.microsoft.com/fwlink/?LinkID=';Silverlight.__installationEventFired=false;Silverlight.onGetSilverlight=null;Silverlight.onSilverlightInstalled=function(){window.location.reload(false);};Silverlight.isInstalled=function(version){if(version==undefined){version=null;}var isVersionSupported=false;try{var tryOlderIE=false;try{var plugin=navigator.plugins["Silverlight Plug-In"];if(plugin){if(version===null){isVersionSupported=true;}else{var actualVer=plugin.description;if(actualVer==="1.0.30226.2"){actualVer="2.0.30226.2";}var actualVerArray=actualVer.split(".");while(actualVerArray.length>3){actualVerArray.pop();}while(actualVerArray.length<4){actualVerArray.push(0);}var reqVerArray=version.split(".");while(reqVerArray.length>4){reqVerArray.pop();}var requiredVersionPart;var actualVersionPart;var index=0;do{requiredVersionPart=parseInt(reqVerArray[index]);actualVersionPart=parseInt(actualVerArray[index]);index++;}while(index<reqVerArray.length&&requiredVersionPart===actualVersionPart);if(requiredVersionPart<=actualVersionPart&&!isNaN(requiredVersionPart)){isVersionSupported=true;}}}else{tryOlderIE=true;}}catch(e){tryOlderIE=true;}if(tryOlderIE){var control=new ActiveXObject('AgControl.AgControl');if(version===null){isVersionSupported=true;}else if(control.IsVersionSupported(version)){isVersionSupported=true;}control=null;}}catch(e){isVersionSupported=false;}return isVersionSupported;};Silverlight.WaitForInstallCompletion=function(){if(!Silverlight.isBrowserRestartRequired&&Silverlight.onSilverlightInstalled){try{navigator.plugins.refresh();}catch(e){}if(Silverlight.isInstalled(null)&&!Silverlight.__onSilverlightInstalledCalled){Silverlight.onSilverlightInstalled();Silverlight.__onSilverlightInstalledCalled=true;}else{setTimeout(Silverlight.WaitForInstallCompletion,3000);}}};Silverlight.__startup=function(){navigator.plugins.refresh();Silverlight.isBrowserRestartRequired=Silverlight.isInstalled(null);if(!Silverlight.isBrowserRestartRequired){Silverlight.WaitForInstallCompletion();if(!Silverlight.__installationEventFired){Silverlight.onInstallRequired();Silverlight.__installationEventFired=true;}}else if(window.navigator.mimeTypes){var mimeSL2=navigator.mimeTypes["application/x-silverlight-2"];var mimeSL2b2=navigator.mimeTypes["application/x-silverlight-2-b2"];var mimeSL2b1=navigator.mimeTypes["application/x-silverlight-2-b1"];var mimeHighestBeta=mimeSL2b1;if(mimeSL2b2)mimeHighestBeta=mimeSL2b2;if(!mimeSL2&&(mimeSL2b1||mimeSL2b2)){if(!Silverlight.__installationEventFired){Silverlight.onUpgradeRequired();Silverlight.__installationEventFired=true;}}else if(mimeSL2&&mimeHighestBeta){if(mimeSL2.enabledPlugin&&mimeHighestBeta.enabledPlugin){if(mimeSL2.enabledPlugin.description!=mimeHighestBeta.enabledPlugin.description){if(!Silverlight.__installationEventFired){Silverlight.onRestartRequired();Silverlight.__installationEventFired=true;}}}}}if(!Silverlight.disableAutoStartup){if(window.removeEventListener){window.removeEventListener('load',Silverlight.__startup,false);}else{window.detachEvent('onload',Silverlight.__startup);}}};if(!Silverlight.disableAutoStartup){if(window.addEventListener){window.addEventListener('load',Silverlight.__startup,false);}else{window.attachEvent('onload',Silverlight.__startup);}}Silverlight.createObject=function(source,parentElement,id,properties,events,initParams,userContext){var slPluginHelper=new Object();var slProperties=properties;var slEvents=events;slPluginHelper.version=slProperties.version;slProperties.source=source;slPluginHelper.alt=slProperties.alt;if(initParams)slProperties.initParams=initParams;if(slProperties.isWindowless&&!slProperties.windowless)slProperties.windowless=slProperties.isWindowless;if(slProperties.framerate&&!slProperties.maxFramerate)slProperties.maxFramerate=slProperties.framerate;if(id&&!slProperties.id)slProperties.id=id;delete slProperties.ignoreBrowserVer;delete slProperties.inplaceInstallPrompt;delete slProperties.version;delete slProperties.isWindowless;delete slProperties.framerate;delete slProperties.data;delete slProperties.src;delete slProperties.alt;if(Silverlight.isInstalled(slPluginHelper.version)){for(var name in slEvents){if(slEvents[name]){if(name=="onLoad"&&typeof slEvents[name]=="function"&&slEvents[name].length!=1){var onLoadHandler=slEvents[name];slEvents[name]=function(sender){return onLoadHandler(document.getElementById(id),userContext,sender)};}var handlerName=Silverlight.__getHandlerName(slEvents[name]);if(handlerName!=null){slProperties[name]=handlerName;slEvents[name]=null;}else{throw"typeof events."+name+" must be 'function' or 'string'";}}}slPluginHTML=Silverlight.buildHTML(slProperties);}else{slPluginHTML=Silverlight.buildPromptHTML(slPluginHelper);}if(parentElement){parentElement.innerHTML=slPluginHTML;}else{return slPluginHTML;}};Silverlight.buildHTML=function(slProperties){var htmlBuilder=[];htmlBuilder.push('<object type=\"application/x-silverlight\" data="data:application/x-silverlight,"');if(slProperties.id!=null){htmlBuilder.push(' id="'+Silverlight.HtmlAttributeEncode(slProperties.id)+'"');}if(slProperties.width!=null){htmlBuilder.push(' width="'+slProperties.width+'"');}if(slProperties.height!=null){htmlBuilder.push(' height="'+slProperties.height+'"');}htmlBuilder.push(' >');delete slProperties.id;delete slProperties.width;delete slProperties.height;for(var name in slProperties){if(slProperties[name]){htmlBuilder.push('<param name="'+Silverlight.HtmlAttributeEncode(name)+'" value="'+Silverlight.HtmlAttributeEncode(slProperties[name])+'" />');}}htmlBuilder.push('<\/object>');return htmlBuilder.join('');};Silverlight.createObjectEx=function(params){var parameters=params;var html=Silverlight.createObject(parameters.source,parameters.parentElement,parameters.id,parameters.properties,parameters.events,parameters.initParams,parameters.context);if(parameters.parentElement==null){return html;}};Silverlight.buildPromptHTML=function(slPluginHelper){var slPluginHTML="";var urlRoot=Silverlight.fwlinkRoot;var version=slPluginHelper.version;if(slPluginHelper.alt){slPluginHTML=slPluginHelper.alt;}else{if(!version){version="";}slPluginHTML="<a href='javascript:Silverlight.getSilverlight(\"{1}\");' style='text-decoration: none;'><img src='{2}' alt='Get Microsoft Silverlight' style='border-style: none'/></a>";slPluginHTML=slPluginHTML.replace('{1}',version);slPluginHTML=slPluginHTML.replace('{2}',urlRoot+'161376');}return slPluginHTML;};Silverlight.getSilverlight=function(version){if(Silverlight.onGetSilverlight){Silverlight.onGetSilverlight();}var shortVer="";var reqVerArray=String(version).split(".");if(reqVerArray.length>1){var majorNum=parseInt(reqVerArray[0]);if(isNaN(majorNum)||majorNum<2){shortVer="1.0";}else{shortVer=reqVerArray[0]+'.'+reqVerArray[1];}}var verArg="";if(shortVer.match(/^\d+\056\d+$/)){verArg="&v="+shortVer;}Silverlight.followFWLink("149156"+verArg);};Silverlight.followFWLink=function(linkid){top.location=Silverlight.fwlinkRoot+String(linkid);};Silverlight.HtmlAttributeEncode=function(strInput){var c;var retVal='';if(strInput==null){return null;}for(var cnt=0;cnt<strInput.length;cnt++){c=strInput.charCodeAt(cnt);if(((c>96)&&(c<123))||((c>64)&&(c<91))||((c>43)&&(c<58)&&(c!=47))||(c==95)){retVal=retVal+String.fromCharCode(c);}else{retVal=retVal+'&#'+c+';';}}return retVal;};Silverlight.default_error_handler=function(sender,args){var iErrorCode;var errorType=args.ErrorType;iErrorCode=args.ErrorCode;var errMsg="\nSilverlight error message     \n";errMsg+="ErrorCode: "+iErrorCode+"\n";errMsg+="ErrorType: "+errorType+"       \n";errMsg+="Message: "+args.ErrorMessage+"     \n";if(errorType=="ParserError"){errMsg+="XamlFile: "+args.xamlFile+"     \n";errMsg+="Line: "+args.lineNumber+"     \n";errMsg+="Position: "+args.charPosition+"     \n";}else if(errorType=="RuntimeError"){if(args.lineNumber!=0){errMsg+="Line: "+args.lineNumber+"     \n";errMsg+="Position: "+args.charPosition+"     \n";}errMsg+="MethodName: "+args.methodName+"     \n";}alert(errMsg);};Silverlight.__cleanup=function(){for(var i=Silverlight._silverlightCount-1;i>=0;i--){window['__slEvent'+i]=null;}Silverlight._silverlightCount=0;if(window.removeEventListener){window.removeEventListener('unload',Silverlight.__cleanup,false);}else{window.detachEvent('onunload',Silverlight.__cleanup);}};Silverlight.__getHandlerName=function(handler){var handlerName="";if(typeof handler=="string"){handlerName=handler;}else if(typeof handler=="function"){if(Silverlight._silverlightCount==0){if(window.addEventListener){window.addEventListener('unload',Silverlight.__cleanup,false);}else{window.attachEvent('onunload',Silverlight.__cleanup);}}var count=Silverlight._silverlightCount++;handlerName="__slEvent"+count;window[handlerName]=handler;}else{handlerName=null;}return handlerName;};Silverlight.onRequiredVersionAvailable=function(){};Silverlight.onRestartRequired=function(){};Silverlight.onUpgradeRequired=function(){};Silverlight.onInstallRequired=function(){};Silverlight.IsVersionAvailableOnError=function(sender,args){var retVal=false;try{if(args.ErrorCode==8001&&!Silverlight.__installationEventFired){Silverlight.onUpgradeRequired();Silverlight.__installationEventFired=true;}else if(args.ErrorCode==8002&&!Silverlight.__installationEventFired){Silverlight.onRestartRequired();Silverlight.__installationEventFired=true;}else if(args.ErrorCode==5014||args.ErrorCode==2106){if(Silverlight.__verifySilverlight2UpgradeSuccess(args.getHost())){retVal=true;}}else{retVal=true;}}catch(e){}return retVal;};Silverlight.IsVersionAvailableOnLoad=function(sender){var retVal=false;try{if(Silverlight.__verifySilverlight2UpgradeSuccess(sender.getHost())){retVal=true;}}catch(e){}return retVal;};Silverlight.__verifySilverlight2UpgradeSuccess=function(host){var retVal=false;var version="5.1.20125";var installationEvent=null;try{if(host.IsVersionSupported(version+".99")){installationEvent=Silverlight.onRequiredVersionAvailable;retVal=true;}else if(host.IsVersionSupported(version+".0")){installationEvent=Silverlight.onRestartRequired;}else{installationEvent=Silverlight.onUpgradeRequired;}if(installationEvent&&!Silverlight.__installationEventFired){installationEvent();Silverlight.__installationEventFired=true;}}catch(e){}return retVal;};(function(mw,$){"use strict";mw.PlayerElementSilverlight=mw.PlayerElement.extend({isStopped:false,init:function(containerId,playerId,elementFlashvars,target,readyCallback){var _this=this;this.element=this;this.id=playerId;this.targetObj=target;var xapPath=mw.getMwEmbedPath()+'modules/EmbedPlayer/binPlayers/silverlight-player/Player.xap';window["onError"+playerId]=function(sender,args){var appSource="";if(sender!=null&&sender!=0){appSource=sender.getHost().Source;}var errorType=args.ErrorType;var iErrorCode=args.ErrorCode;if(errorType=="ImageError"||errorType=="MediaError"){return;}var errMsg="Unhandled Error in Silverlight Application "+appSource+"\n";errMsg+="Code: "+iErrorCode+"    \n";errMsg+="Category: "+errorType+"       \n";errMsg+="Message: "+args.ErrorMessage+"     \n";if(errorType=="ParserError"){errMsg+="File: "+args.xamlFile+"     \n";errMsg+="Line: "+args.lineNumber+"     \n";errMsg+="Position: "+args.charPosition+"     \n";}else if(errorType=="RuntimeError"){if(args.lineNumber!=0){errMsg+="Line: "+args.lineNumber+"     \n";errMsg+="Position: "+args.charPosition+"     \n";}errMsg+="MethodName: "+args.methodName+"     \n";}mw.log("Error occur in silverlight player:"+errMsg);}
	window["onLoad"+playerId]=function(sender,args){var slCtl=document.getElementById(playerId);_this.playerProxy=slCtl.Content.MediaElementJS;_this.playerElement=_this.playerProxy;if(!_this.targetObj){_this.targetObj=_this;var bindEventMap={'playerPaused':'onPause','playerPlayed':'onPlay','durationChange':'onDurationChange','playerPlayEnd':'onClipDone','playerUpdatePlayhead':'onUpdatePlayhead','playerSeekEnd':'onPlayerSeekEnd','alert':'onAlert','mute':'onMute','unmute':'onUnMute','volumeChanged':'onVolumeChanged'};$.each(bindEventMap,function(bindName,localMethod){_this.bindPlayerFunction(bindName,localMethod);});}_this.readyState=4;if($.isFunction(readyCallback)){readyCallback.apply(_this);}$(_this).trigger('playerJsReady');}
	elementFlashvars["onLoaded"]="onLoad"+playerId;var params="";for(var i in elementFlashvars){params+=i+"="+elementFlashvars[i]+",";}Silverlight.createObject(xapPath,$("#"+containerId).get(0),playerId,{width:"100%",height:"100%",background:"transparent",windowless:"true",version:"4.0.60310.0"},{onError:"onError"+playerId,enableHtmlAccess:"true"},params);},onUpdatePlayhead:function(playheadVal){this.currentTime=playheadVal;},onPause:function(){this.paused=true;},onPlay:function(){$(this).trigger('playing');this.stopped=this.paused=false;},onDurationChange:function(data,id){this.duration=data.newValue;$(this).trigger('loadedmetadata');},onClipDone:function(){$(this).trigger('ended');},onPlayerSeekEnd:function(){$(this).trigger('seeked');},onAlert:function(data,id){},onMute:function(){this.muted=true;},onUnMute:function(){this.muted=false;},onVolumeChanged:function(data){this.volume=data.newVolume;$(this).trigger('volumechange');},addJsListener:function(eventName,methodName){if(this.playerElement){this.bindPlayerFunction(eventName,methodName);}},play:function(){this.playerProxy.playMedia();this.isStopped=false;},stop:function(){this.playerElement.stopMedia();this.isStopped=true;},pause:function(){this.playerProxy.pauseMedia();},seek:function(val){this.playerProxy.setCurrentTime(val);$(this).trigger('seeking');},load:function(){if(this.src){this.playerProxy.setSrc(this.src);this.playerProxy.loadMedia();}},changeVolume:function(volume){this.playerProxy.setVolume(volume);},selectTrack:function(index){this.playerProxy.selectTrack(index);},selectAudioTrack:function(index){this.playerProxy.selectAudioTrack(index);},reloadMedia:function(){this.playerProxy.reloadMedia();this.isStopped=false;},stretchFill:function(){this.playerProxy.stretchFill();},bindPlayerFunction:function(bindName,methodName,target){var _this=this;mw.log('PlayerElementSilverlight:: bindPlayerFunction:'+bindName);var gKdpCallbackName='silverlight_'+methodName+'_cb_'+this.id.replace(/[^a-zA-Z 0-9]+/g,'');var createGlobalCB=function(cName){window[cName]=function(data){if(bindName!='playerUpdatePlayhead'&&bindName!='bytesDownloadedChange'){mw.log("PlayerElementSilverlight:: event: "+bindName);}_this.targetObj[methodName](data);};}(gKdpCallbackName,this);this.playerElement.removeJsListener(bindName,gKdpCallbackName);this.playerElement.addJsListener(bindName,gKdpCallbackName);}});})(window.mw,jQuery);;},{},{});mw.loader.implement("mw.PluginManager",function($){(function(mw,$){if(mw.PluginManager)return;mw.PluginManager={registerdPlugins:{},totalPlugins:0,initialisedPlugins:0,define:function(pluginName,pluginClass){if(this.registerdPlugins[pluginName]){mw.log('PluginManager::register: Plugin "'+pluginName+'" already registered.');return;}this.registerdPlugins[pluginName]=pluginClass;this.totalPlugins++;},getClass:function(pluginName){if(!this.registerdPlugins[pluginName]){mw.log('PluginManager::getClass: Plugin "'+pluginName+'" not registered.');return false;}return this.registerdPlugins[pluginName];},make:function(pluginName,embedPlayer,callback){var pluginClass=this.getClass(pluginName);return(pluginClass)?new pluginClass(embedPlayer,callback,pluginName):false;},registerLoader:function(pluginName){if(!this.registerdPlugins[pluginName]){mw.log('PluginManager::init: Plugin "'+pluginName+'" not registered.');return;}var _this=this;mw.addKalturaPlugin(pluginName,function(embedPlayer,callback){if(embedPlayer.plugins[pluginName]){callback();return;}embedPlayer.plugins[pluginName]=_this.make(pluginName,embedPlayer,callback);_this.initialisedPlugins++;if(_this.totalPlugins===_this.initialisedPlugins){embedPlayer.triggerHelper('pluginsReady',embedPlayer.plugins);}});return this;},add:function(pluginName,pluginClass){this.define(pluginName,pluginClass);this.registerLoader(pluginName);}};})(mediaWiki,jQuery);;},{},{});mw.loader.implement("mw.MwEmbedSupport.style",function($){;},{"all":".modal_editor{ left:10px;top:10px;right:10px;bottom:10px;position:fixed;z-index:100}.displayHTML a:visited{color:white}.loadingSpinner{width:32px;height:32px;display:block;padding:0px;background-image:url(http://localhost/html5.kaltura/mwEmbed/modules/MwEmbedSupport/skins/common/images/loading_ani.gif?2013-02-27T13:18:20Z)}.mw-imported-resource{border:thin solid black}.kaltura-icon{background-image:url(http://localhost/html5.kaltura/mwEmbed/modules/MwEmbedSupport/skins/common/images/kaltura_logo_sm_transparent.png?2013-02-27T13:18:20Z) !important;background-repeat:no-repeat;display:block;height:12px;width:12px;margin-top:2px !important;margin-left:3px !important}.mw-fullscreen-overlay{background:rgb(0,0,0) none repeat scroll 0% 0%;position:fixed;top:0pt;left:0pt;width:100%;height:100%;-moz-background-clip:border;-moz-background-origin:padding;-moz-background-inline-policy:continuous} .play-btn-large{width:70px;height:53px;background :url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAA1CAYAAAD8mJ3rAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA+RJREFUeNrsm0tPGlEYhg/MIDcZLhqqqcYYY1GimJgYjRovcePadKm7rrvgX3TT/ozWhW5duLCJMerCaBSroASVaJRquBSQmeHS76vYWqmpF844g/MmLwmjQHj8bud4RkP+yAAeAb8BN5OXpRA4AP4KzuAFTfEHbrAX/Iq8bJ2BP4K/IZh68CewmagixYh5z8DDO7BL5fFbLNikhQePyqJEHgRjUjmU6FfEqPqHVDAqGBWMMsDU1tbqGhsb9Urs2VSk0+m0Xq/3dU9Pjw2fn5+fCzMzM5H5+fmoEsDggPcWXFXuN56amnIODQ3VFAoFgjYajUx3dzc3MDBgvbi4EE5OTgQZcxGpgZmcnKznOE53+7rFYmH7+/vtnZ2dZoDDA6TsiwIzPj5eYzabmeuIuW2Hw1E1MjLiaG5u1ofDYT6RSOTkBIZajcnlcgXwf3+vq6vL2tHRYVlZWYlNT09HYrFYtqJrzNjYmMNkMt0ZMTeN2x8NDQ3G4mu0oVAoI4pioSJTaXR01H5fMNfWgFpaWkzDw8N2eF44ODjg8/l8oaLAwJfDvz4LX4w81AzDaNva2qr7+vo4QRByR0dHfMWAgVZtxxb9GDDX1uv1DNYfaPMWrD1nZ2eC4sEMDg7aHppKdxm6G4szkMvlMiIcCQo0PTAwyNmeGjG3bbVadb29vTYo1FU4IKZSKVotnmq7JtlslkrhhMixtLa2Vm9sbCTm5ubOacxAVOcYAEMz3DUej8fqdrsty8vL0YWFhSjP83nZg8FoyWP8094e0Goxbe0wKHKzs7One3t7l7LediimkmQ2GAzMxMREHXQyrRJSSdLhjGVZbVNTkyEQCKRlCwazCOFIPbImk8ms7GuM1BFzfHx8Wa59HpoRc6/Vdbk+y+fzJRYXF2OK6EpSREwwGEwuLS3F4vF4WWcDqgMezZUxpE0G5xda6yeqxZdGxOB+8erqaiwcDmeodjil1BjsNmtrazEY4NJEAlEFU45UymQy+c3Nzfj29naqUNzuUzoY8pQVgSAI+d3d3R9bW1tJURTzRGLJLmLwNfv7+6n19fVEOReFcouYB4E5PDxMIxCoJ8/+rxRqYLAc3DeVIpEID0Di0HFEIhOxz/nh0WhURCCnp6c8kZmogYFukuM4jr2r9UJRTYRCoUsiU1EDs7Ozk3Q6nX8d/8BiCm034ff701K23scIz/l+IZTO+NbV1enb29urGYbRYLoAkNRztN5HKEUVjIKVUo+a3SEVjApGBVM2MGkVQ4nSCManciiRD8F8JsW7ulRd7XggEzztkAT7ydXtOS99nvkO/gAOam5cVO+JvHFP5E8BBgBjuVwnLBcrSQAAAABJRU5ErkJggg==);background :url(http://localhost/html5.kaltura/mwEmbed/modules/MwEmbedSupport/skins/common/images/player_big_play_button.png?2013-02-27T13:18:20Z)!ie;position :absolute;cursor :pointer;border :none !important;z-index :1;left :50%;top :50%;margin-left:-35px;margin-top :-26px}.play-btn-large:hover{background :url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAA1CAYAAAD8mJ3rAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA9RJREFUeNrsm8tPGlEUxgcBQamNSavVKBoa05I2AWNaW2IlJDauXJkaE1cuumbByv/A1AVsjRtjorEujFEDC3ykvhZGWGgIAtKqUYrTgmjLAPLsuVZbqrUxOheGcr/km8WQ3MWPc+acc2cuj/otMVgDfgSWUfmlbbAL/AEcQTd4Zz88AevAD6j8Fg3Wg+0ITCXYAJZQRNRZxGj5cHkLfkx4/JIAXFwAFwVhcUkKBKaYcLik04gh+osIGAKGgMkNMDKZTFRfXy8hYM7nC7G4wGg0Kt1u92ur1arZ29vTaLXaqlwBgxq8N+BCthc2GAx1HR0dsmQySSFLJJLC1tbWiq6uroqDg4PQ5uZmiMNcYtgiRq1WlwOQ1EVDapUMDw83Li8vNzY3N9/Nu1QqAMXj8dRVViqV90wmU9PExIRSoVBI8gbMv6CkW6PRVM7NzTUNDg4+raqqKvzvwSQSidR14aDtj7a2turV1dXm3t7eutLSUkHeR0y6+aDu7u6HAOiVTqeTikSirPVZaD/mPY69mMXFRVVtbe2d26yBqld/f/8nSDNvhrkw2MDMz8+/rKmpYWXdnZ2doF6vd8PD2p/zYMxm8wu2wJxrY2PjsK+vz22xWII5Cwb+3edSqRRLGYYeiIYGcsflcoVzDszU1NSz6upqbP0JVL0klPkDBIim6RjbYLCVxVgslopGoymchQP1QCqVqnxycnJ/YGBgPxgMJthaHCsYKMFJ7MMen89rb2+XtrS0VEAP5IA0O+Y8GMwR84eKiooEPT098s7OTgvDMAnOgkENG4KTyeZDKBTyGxoaSpaWlo44DSYTqXRRfr8/yulUykbEOJ3OY7vdHiJg0gbWhYUFemhoyJMLVSmJjBuK1Wr1j4yMeGCuirK5Lu5nDLaIga7329jY2P7W1haW7hcnGApHKnk8ntD4+LhnfX39O85IFODMezYjJhAInExPT39eWVk5ojIgrGCQbz20MEx8dnbWOzMzc4g20zNV4TgbMScnJ0lo77+YzWZfOBxOUBkWNjDnr0tuAtRisfghbWg2h8KcTiWbzRZAQHw+X4zKsnBGzKmvo+3t7aDRaPTu7u5GKI4oq68pvF5v2GQyeR0OB0NxTNjAQDWJlZWVia8qvVBl6LW1tWOKo8IGBmYXP3p9wgOll14004ADmSy9NxG2PV8kuVwuUavV94VCIc/tdjMA5DASiSQo7ovBCiaHxZBPza4QAUPAEDCsgQkRDJcUQmBshMPlsQ2BGaXOTnURnQrtHY+iz1nRJxVO6ufxnHzvZ76C34E/8tJukjORaWcifwgwAL3bpBIa2UbLAAAAAElFTkSuQmCC);background :url(http://localhost/html5.kaltura/mwEmbed/modules/MwEmbedSupport/skins/common/images/player_big_play_button_hover.png?2013-02-27T13:18:20Z)!ie}.carouselContainer{position :absolute;width :100%;z-index :2}.carouselVideoTitle{position :absolute;top :0px;left :0px;width :100%;background :rgba(0,0,0,0.8);color :white;font-size :small;font-weight :bold;z-index :2}.carouselVideoTitleText{display :block;padding :10px 10px 10px 20px}.carouselTitleDuration{position :absolute;top :0px;right :0px;padding :2px;background-color :#5A5A5A;color :#D9D9D9;font-size :smaller;z-index :2}.carouselImgTitle{position :absolute;width :100%;text-align :center;color :white;font-size :small;background :rgba(0,0,0,0.4)}.carouselImgDuration{position :absolute;top :2px;left :2px;background :rgba( 0,0,0,0.7 );color :white;padding :1px 6px;font-size :small}.carouselPrevButton,.carouselNextButton{display :block;position :absolute;bottom:23px}.carouselPrevButton{left :5px}.carouselNextButton{right:6px}.alert-container{-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;background-color:#e6e6e6;background-image:linear-gradient(bottom,rgb(215,215,215) 4%,rgb(230,230,230) 55%,rgb(255,255,255) 100%);background-image:-o-linear-gradient(bottom,rgb(215,215,215) 4%,rgb(230,230,230) 55%,rgb(255,255,255) 100%);background-image:-moz-linear-gradient(bottom,rgb(215,215,215) 4%,rgb(230,230,230) 55%,rgb(255,255,255) 100%);background-image:-webkit-linear-gradient(bottom,rgb(215,215,215) 4%,rgb(230,230,230) 55%,rgb(255,255,255) 100%);background-image:-ms-linear-gradient(bottom,rgb(215,215,215) 4%,rgb(230,230,230) 55%,rgb(255,255,255) 100%);background-image:-webkit-gradient(linear,left bottom,left top,color-stop(0.04,rgb(215,215,215)),color-stop(0.55,rgb(230,230,230)),color-stop(1,rgb(255,255,255)));margin:auto;position:absolute;top:0;left:0;right:0;bottom:0;max-width:80%;max-height:30%}.alert-container-with-buttons{max-height:34%}.ie8 .alert-container{top:50%;background-color:#e6e6e6}.alert-title{background-color :#E6E6E6;padding :5px;border-bottom :1px solid #D1D1D1;font-weight :normal !important;font-size:14px !important;-webkit-border-top-left-radius:3px;-moz-border-radius-topleft:3px;border-top-left-radius:3px;-webkit-border-top-right-radius:3px;-moz-border-radius-topright:3px;border-top-right-radius:3px }.alert-message{padding :5px;font-weight :normal !important;text-align:center;font-size:14px !important;-webkit-text-size-adjust:none}.alert-buttons-container{text-align:center;padding-bottom:5px}.alert-button{background-color:#474747;color:white;-webkit-border-radius:.5em;-moz-border-radius:.5em;border-radius:.5em;padding:2px 10px;background-image:linear-gradient(bottom,rgb(25,25,25) 4%,rgb(47,47,47) 55%,rgb(71,71,71) 68%);background-image:-o-linear-gradient(bottom,rgb(25,25,25) 4%,rgb(47,47,47) 55%,rgb(71,71,71) 68%);background-image:-moz-linear-gradient(bottom,rgb(25,25,25) 4%,rgb(47,47,47) 55%,rgb(71,71,71) 68%);background-image:-webkit-linear-gradient(bottom,rgb(25,25,25) 4%,rgb(47,47,47) 55%,rgb(71,71,71) 68%);background-image:-ms-linear-gradient(bottom,rgb(25,25,25) 4%,rgb(47,47,47) 55%,rgb(71,71,71) 68%);background-image:-webkit-gradient( linear,left bottom,left top,color-stop(0.04,rgb(25,25,25)),color-stop(0.55,rgb(47,47,47)),color-stop(0.68,rgb(71,71,71)) )}.alert-text{color :black !important}\n\n/* cache key: resourceloader:filter:minify-css:7:3765e5729c2b37676f4671d8caf2ce08 */\n"},{});

/* cache key: resourceloader:filter:minify-js:7:23ca630fcca6411b50c8728a891287f1 */
