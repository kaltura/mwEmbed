<html>
<head>
</head>
<body>
	<h3>Sample kWidget.getSources</h3>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	partnerId : <input id="partnerId" type="text" value="243342" size="5"> entryId: <input id="entryId" type="text" value="0_c0r624gh" size="8"><br/>
	<input id="getSources" type="button" value="get sources"/>
	<div id="sourceSet"></div>
	
	<!--  Stand alone script for getting sources -->
	<script src="kWidget.getSources.js"></script>
	
	<script>
		function loadSources(){
			$('#sourceSet').html('loading <blink>...</blink>');
			kWidget.getSources({
				'partnerId': $('#partnerId').val(),
				'entryId': $('#entryId').val(),
				'callback': function( sourceSet ){
					var o = '';
					for( var i in sourceSet ){
						var source = sourceSet[i];
						o += ' <br/>' + ' Source <a href="' + source['src'] + '" >' + source['data-flavorid'] + '</a>, ';
						o += ( source['data-bitrate'] )? ' bitrate:' + source['data-bitrate'] + ' size: ' + source['data-width'] + 'x' + source['data-height'] : ' ( adaptive ) ';
						o += '<br />';
					}
					$('#sourceSet').html( o );
				}
			})
		}
		$('#getSources').click(function(){
			location.hash = '#__' +  $('#partnerId').val() + ',' + $('#entryId').val();
			loadSources();
		})
		// always test if we want to do the update on page load:
		var pHash = location.hash;
		if( pHash.substr( 1, 2) == '__'  ){
			var args =  pHash.substr(3);
			var argsParts = args.split(',');
			$('#partnerId').val( argsParts[0] );
			$('#entryId').val( argsParts[1] );
			loadSources();
		};
	</script>
</body>
</html>