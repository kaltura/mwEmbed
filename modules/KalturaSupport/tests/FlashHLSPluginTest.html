
<!DOCTYPE html>
<html>
<head>
	<title> HLSDynamicPlugin Test</title>
	<script type="text/javascript" src="../../../tests/qunit/qunit-bootstrap.js"></script>
	<script type="text/javascript" src="../../../mwEmbedLoader.php"></script>
	<script type="text/javascript" src="../../../docs/js/doc-bootstrap.js"></script>
	<style>
		#url { width: 400px; height:20px; vertical-align: middle;}
	</style>
</head>

<body>
<h2> Flash HLS URL Tester </h2>
<div class="item">
	<label>HLS url:</label>
	<input type="text" id="url" value="http://www.kaltura.com/p/243342/sp/24334200/playManifest/entryId/1_23pqn2nu/flavorIds/1_vy4eeqwx/format/applehttp/protocol/http/a.m3u8"></input>
</div>

<div><input type="button" id="generate" value="Create Player" /></div>

<div id="kaltura_player_1387835968" style="width: 720px; height: 384px;" itemprop="video" itemscope itemtype="http://schema.org/VideoObject">
</div>
<script>
	mw.setConfig( 'Kaltura.LeadWithHTML5' , true );
	mw.setConfig('LeadWithHLSOnFlash', true);

	$('#generate').click( function() {
		mw.setConfig('EmbedPlayer.ReplaceSources', [
			{
				'type' : 'application/vnd.apple.mpegurl',
				'src' : $('#url').val()
			}
		]);
		kWidget.embed({
			"targetId": "kaltura_player_1387835968",
			"wid": "_524241",
			"uiconf_id": 21648442,
			"flashvars": {
				"confFilePath": "{libPath}/modules/KalturaSupport/tests/confFiles/jsonConfig.json",
                "closedCaptions.showEmbeddedCaptions" : true
			},
			"cache_st": 1387835968
		});
	});


</script>
</body>
</html>