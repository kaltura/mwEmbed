<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Player Skin 2.0 + JSON Config</title>
    <script type="text/javascript" src="../../../tests/qunit/qunit-bootstrap.js"></script>
    <script type="text/javascript" src="../../../mwEmbedLoader.php"></script>
    <script type="text/javascript" src="../../../docs/js/doc-bootstrap.js"></script>
    <script>mw.setConfig('forceMobileHTML5', true);</script>
</head>
<body>
<h1> Player error loading message test </h1>

<div id="kaltura_player" style="width:400px;height:330px"></div>
<br style="clear: both;" /><br />
<script>
    kWidget.featureConfig({
        "targetId": "kaltura_player",
        "wid": "_243342",
        "uiconf_id": 5774681,
        "flashvars": {
            "doubleClick": {
                adSlotHeight: 330,
                adSlotWidth: 400,
                adType: "text_overlay",
                channels: "",
                container: "companion",
                contentId: 123,
                disableCompanionAds: false,
                height: "100%",
                path: "http://cdnbakmi.kaltura.com/content/uiconf/disney/kdp_3.5.19/plugins/doubleclickIma/doubleclickPlugin.swf",
                plugin: true,
                position: "lastChild",
                postSequence: 1,
                preSequence: "0",
                provider: "doubleclick",
                publisherId: "ca-video-googletest1",
                relativeTo: "PlayerHolder",
                trackCuePoints: true,
                width: "100%"
            },
            "EmbedPlayer":{
                "loader":{
                    "error": {
                        "title": "Player Error",
                        "message": "The player or one of its dependencies have failed loading",
                        "buttons": ["ok", "cancel"],
                        //"noButtons": true,
                        "callbackFunction": "myCallbackFunction",
                        "props" :{
                            "textColor": "#FF0000",
                            "titleTextColor":"#FF0000"
                        }
                    }
                }
            }
        },
        "cache_st": 1401718216,
        "entry_id": "0_uka1msg4"
    });
    function myCallbackFunction(e){
        var textBox = document.getElementById("textBox");
        var p = document.createElement("p");
        p.innerText = "Clicked on " + e.target.innerText;
        textBox.appendChild(p)
    }
</script>
<h4>Callback handler text box</h4>
<div id="textBox" style="width:200px;height:50px;border:1px solid black;margin:5px 5px 5px 5px;"></div>
</br>
Display an error message stating that some error has occurred during module loading
</br>
Note: In order for script loading failure to occur an adblocker must be used.
</br>
Please install <a href="https://adblockplus.org/en/">adblockplus</a> on your browser
</br>
<h3>Loader error test configuration:</h3>
<pre style="width:800px">
"EmbedPlayer":{
    "loader":{
        "error": {
            "title": "Player Error",
            "message": "The player or one of its dependencies have failed loading",
            "buttons": ["ok", "cancel"],
            "callbackFunction": "myCallbackFunction",
            "props" :{
                "textColor": "#FF0000",
                "titleTextColor":"#FF0000"
            }
        }
    }
}
    </pre>

<h3>Loader error default configuration options:</h3>
<pre style="width:800px">
{
    title:  'Player failed',
    message: 'The player or one of its dependencies have failed loading',
    buttons: null, //If empty then defaults to "ok" button(*)
    noButtons: null, //If set to true disables button display
    callbackFunction: null, //name of external callback function(**)
    isExternal: true, //always set to true, as callbackFunction only takes function name
    props: {
        textColor: null,
        titleTextColor: null,
        buttonRowSpacing: null,
        buttonHeight: null,
        buttonSpacing: null
    }
}
//(*) - define "noButtons": true to disable buttons
//(**) - function needs to be defined on page
    </pre>
</body>
</html>