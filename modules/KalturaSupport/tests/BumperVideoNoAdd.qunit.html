<!DOCTYPE HTML>
<html>
	<head>
		<script type="text/javascript" src="../../../tests/qunit/qunit-bootstrap.js"></script>
		<script type="text/javascript" src="../../../mwEmbedLoader.php"></script>
		<script type="text/javascript" src="../../../docs/js/doc-bootstrap.js"></script>
		<title>Bumpers supportL</title>
	</head>
	<body>
		<h2>Bumpers support</h2>
	<script type="text/javascript">	
		function jsKalturaPlayerTest( videoId ){
			var kdp = $('#' + videoId)[0];
			// Name this module
			module( "Bumper player test" );
		}
	</script>
	<script type="text/javascript" src="resources/qunit-kaltura-bootstrap.js"></script>
		<div style="width:400px;height:330px" id="kaltura_player"></div>
		<script>
			// output a player if not running a test
			kWidget.featureConfig(
				{
					'targetId': 'kaltura_player',
					'wid': '_243342',
					'uiconf_id' : '12905712',
					'entry_id' : '0_uka1msg4',
					'flashvars': {
						'bumper':{
							'plugin': true,
							'bumperEntryID':"0_5diu7kzg",
							'clickurl': "http://www.kaltura.com",
							'lockUI': "true",
							'playOnce': "false", 
							'preSequence':"1"
						}
					}
				}
			);
		</script>
		<script>
			// add some event listerners and log to console:
			kWidget.addReadyCallback(function( playerId ){
				var kdp = $('#'+playerId )[0];
				var $log = $('#eventlog');
				var events = ['adStart', 'prerollStarted', 'preSequenceStart', 'preSequenceComplete'];
				$.each( events, function(na, eventName){
					kdp.kBind(eventName, function(){
						$log.append( eventName + "\n");
					});
				});
			});
		</script>
		<h3> Events:</h3>
		<textarea id="eventlog" style="width:600px;height:200px;"></textarea>
	</body>
</html>

