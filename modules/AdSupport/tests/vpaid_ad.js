
/*!

 LiveRail.Admanager version 1.0
 Build Date: Mon, Apr 8, 2013 17:07:29 -0700

 */
"use strict";(function(){(function(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function b(j){var e,g,c,h,f,d;c=j.length;g=0;e="";while(g<c){h=j.charCodeAt(g++)&255;if(g===c){e+=a.charAt(h>>2);e+=a.charAt((h&3)<<4);e+="==";break}f=j.charCodeAt(g++);if(g===c){e+=a.charAt(h>>2);e+=a.charAt(((h&3)<<4)|((f&240)>>4));e+=a.charAt((f&15)<<2);e+="=";break}d=j.charCodeAt(g++);e+=a.charAt(h>>2);e+=a.charAt(((h&3)<<4)|((f&240)>>4));e+=a.charAt(((f&15)<<2)|((d&192)>>6));e+=a.charAt(d&63)}return e}if(!window.btoa){window.btoa=b}}())}());(function(){var e,d,c,b,f;if(window.LiveRail===undefined){window.LiveRail={}}if(window.LiveRail.Framework!==undefined){return}window.LiveRail.Framework={widget:{}};window.LiveRail.Framework.build={version:"1.1",timestamp:"201304081707",date:"Mon, Apr 8, 2013 17:07:21 -0700"};c=[];e={};(function(){var g={Array:{},Date:{},Object:{}};if(window.Array&&window.Array.isArray!==undefined){g.Array.isArray=window.Array.isArray}else{g.Array.isArray=function(h){return(Object.prototype.toString.call(h)==="[object Array]")}}if(window.Date&&window.Date.now!==undefined){g.Date.now=window.Date.now}else{g.Date.now=function(){return(new Date()).getTime()}}if(window.Object&&window.Object.defineProperties!==undefined){g.Object.defineProperties=window.Object.defineProperties}else{g.Object.defineProperties=function(k,j){var h;if(k&&typeof k==="object"&&j&&typeof j==="object"){for(h in j){if(j.hasOwnProperty(h)&&j[h].hasOwnProperty("value")){k[h]=j[h].value}}}}}if(window.Object&&window.Object.create!==undefined){g.Object.create=window.Object.create}else{g.Object.create=function(k,j){var h,i;h=function(){};if(k){h.prototype=k}i=new h();if(j&&typeof j==="object"){g.Object.defineProperties(i,j)}return i}}if(window.Object&&window.Object.keys!==undefined){g.Object.keys=window.Object.keys}else{g.Object.keys=(function(){var j=window.Object.prototype.hasOwnProperty,k=!({toString:null}).propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=i.length;return function(n){var m,l,o;if((typeof n!=="object"&&typeof n!=="function")||n===null){throw new TypeError("Object.keys called on non-object")}l=[];for(o in n){if(n.hasOwnProperty(o)){l.push(o)}}if(k){for(m=0;m<h;m+=1){if(n.hasOwnProperty(i[m])){l.push(i[m])}}}return l}}())}if(window.Object&&window.Object.freeze!==undefined){g.Object.seal=window.Object.seal;g.Object.freeze=window.Object.freeze}else{g.Object.seal=function(){};g.Object.freeze=function(){}}g.Object.freeze(g.Array);g.Object.freeze(g.Date);g.Object.freeze(g.Object);g.Object.freeze(g);g.Object.defineProperties(e,{es5:{value:g,enumerable:true}})}());function a(){if(f===undefined){f=0}f+=1;return f}d=function(){if(typeof window.console!=="object"){return}var k,m,j,h,r,g,p,l,n,o;k=this.context;m=(this===window);n=new Date();r=this.priority;if(!k.is_int(r)){r=3}g=this.method;if(typeof g!=="string"){g="log"}p=[""];for(l=0;l<arguments.length;l+=1){p.push(arguments[l])}if(document.location.href.match(/^https?:\/\/[A-Za-z0-9.\-_]+\.liverail\.com/)){j=parseInt(k.readCookie().debug,10);if(!j){j=0}h=k.readCookie().debugIdFilter;if(h){h=decodeURIComponent(k.readCookie().debugIdFilter)}}else{if(typeof window.LiveRail==="object"&&window.LiveRail.debugOutput!==undefined){j=parseInt(window.LiveRail.debugOutput,10);h=window.LiveRail.debugIdFilter||""}}o={context:k,priority:r,timestamp:n,method:g,args:p};if(j===undefined){c.push(o);return}function q(v){var t,i,w,u,s;i=v.context.id&&v.context.id.fullname?v.context.id.fullname:"";if(j<v.priority){return}t="";if(!m&&v.context&&v.context.id){t=v.context.id.fullname;if(j>2&&t){t+=" "+v.context.id.instance}}v.args[0]="LIVERAIL ["+k.date("H:i:s.",v.timestamp)+k.date("u",v.timestamp).substr(0,3)+"]";if(typeof window.LiveRail==="object"&&!window.LiveRail.debugFilterMessage&&h){window.LiveRail.debugFilterMessage=true;if(typeof window.console.warn==="function"){window.console.warn(v.args[0],'Debug ID Filter set to "'+h+'"')}}if(!i.match(new RegExp(h))){return}if(t){v.args[0]+="["+t+"]"}if(v.method!=="purge"){if(typeof window.LiveRail.debugElement==="object"&&window.LiveRail.debugElement!==null&&window.LiveRail.debugElement.tagName){w=document.createElement("div");u="";if(window.LiveRail.debugElement.offsetHeight===window.LiveRail.debugElement.scrollHeight||(window.LiveRail.debugElement.scrollTop+window.LiveRail.debugElement.offsetHeight)>=(window.LiveRail.debugElement.scrollHeight-2)){s=true}o.context.each(v.args,function(y){if(u.length>0){u+=" "}try{u+=y}catch(x){}});w.innerHTML=u;window.LiveRail.debugElement.appendChild(w);if(s){window.LiveRail.debugElement.scrollTop=window.LiveRail.debugElement.scrollHeight}}if(typeof window.console[v.method]==="function"){window.console[v.method].apply(window.console,v.args)}}}if(c.length>0){for(l=0;l<c.length;l+=1){q(c[l])}c=[]}if(Function.prototype.bind&&window.console&&typeof window.console.log==="object"){["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(i){window.console[i]=this.bind(window.console[i],window.console)},Function.prototype.call)}q(o)};e.es5.Object.defineProperties(e,{info:{value:function(){d.apply({context:this,priority:1,method:"info"},arguments)},enumerable:true},warn:{value:function(){d.apply({context:this,priority:1,method:"warn"},arguments)},enumerable:true},error:{value:function(){d.apply({context:this,priority:1,method:"error"},arguments)},enumerable:true},debug:{value:function(){d.apply({context:this,priority:2,method:"log"},arguments)},enumerable:true},log:{value:function(){d.apply({context:this,priority:1},arguments)},enumerable:true},verbose:{value:function(){d.apply({context:this,priority:3},arguments)},enumerable:true}});e.es5.Object.defineProperties(e,{date:{value:function(o,m){var i,n,l,h=/\\?([a-z])/gi,g,j=function(q,p){q=q.toString();return q.length<p?j("0"+q,p,"0"):q},k=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"];g=function(p,q){return l[p]?l[p]():q};l={d:function(){return j(l.j(),2)},D:function(){return l.l().slice(0,3)},j:function(){return n.getDate()},l:function(){return k[l.w()]+"day"},N:function(){return l.w()||7},S:function(){var p=l.j();return p<4|p>20&&(["st","nd","rd"][p%10-1]||"th")},w:function(){return n.getDay()},z:function(){var q=new Date(l.Y(),l.n()-1,l.j()),p=new Date(l.Y(),0,1);return Math.round((q-p)/86400000)+1},W:function(){var q=new Date(l.Y(),l.n()-1,l.j()-l.N()+3),p=new Date(q.getFullYear(),0,4);return j(1+Math.round((q-p)/86400000/7),2)},F:function(){return k[6+l.n()]},m:function(){return j(l.n(),2)},M:function(){return l.F().slice(0,3)},n:function(){return n.getMonth()+1},t:function(){return(new Date(l.Y(),l.n(),0)).getDate()},L:function(){var p=l.Y();return p%4===0&p%100!==0|p%400===0},o:function(){var r=l.n(),p=l.W(),q=l.Y();return q+(r===12&&p<9?1:r===1&&p>9?-1:0)},Y:function(){return n.getFullYear()},y:function(){return l.Y().toString().slice(-2)},a:function(){return n.getHours()>11?"pm":"am"},A:function(){return l.a().toUpperCase()},B:function(){var q=n.getUTCHours()*3600,p=n.getUTCMinutes()*60,r=n.getUTCSeconds();return j(Math.floor((q+p+r+3600)/86.4)%1000,3)},g:function(){return l.G()%12||12},G:function(){return n.getHours()},h:function(){return j(l.g(),2)},H:function(){return j(l.G(),2)},i:function(){return j(n.getMinutes(),2)},s:function(){return j(n.getSeconds(),2)},u:function(){return j(n.getMilliseconds()*1000,6)},e:function(){throw"Not supported (see source code of date() for timezone on how to add support)"},I:function(){var q=new Date(l.Y(),0),s=Date.UTC(l.Y(),0),p=new Date(l.Y(),6),r=Date.UTC(l.Y(),6);return((q-s)!==(p-r))?1:0},O:function(){var q=n.getTimezoneOffset(),p=Math.abs(q);return(q>0?"-":"+")+j(Math.floor(p/60)*100+p%60,4)},P:function(){var p=l.O();return(p.substr(0,3)+":"+p.substr(3,2))},T:function(){return"UTC"},Z:function(){return -n.getTimezoneOffset()*60},c:function(){return"Y-m-d\\TH:i:sP".replace(h,g)},r:function(){return"D, d M Y H:i:s O".replace(h,g)},U:function(){return n/1000|0}};i=function(q,p){n=(p===undefined?new Date():(p instanceof Date)?new Date(p):new Date(p*1000));return q.replace(h,g)};return i(o,m)},enumerable:true},detect:{value:function(h){var g={};if(typeof h==="object"&&typeof h.feature==="string"){g.feature=h.feature.replace(/^\s\s*/,"").replace(/\s\s*$/,"").toLowerCase();switch(g.feature){case"flash":g.present=false;(function(){var j,i,l;if(window.navigator&&window.navigator.plugins&&window.navigator.plugins.length>0){j="application/x-shockwave-flash";i=window.navigator.mimeTypes;if(i&&i[j]&&i[j].enabledPlugin&&i[j].enabledPlugin.description){g.present=true}}else{if(window.ActiveXObject!==undefined){try{l=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(k){l={activeXError:true}}if(!l.activeXError){g.present=true}}}}());break;case"html5":g.present=!!document.createElement("video").canPlayType;break;case"svg":if(document.implementation&&document.implementation.hasFeature){g.present=document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}else{g.present=false}break}return g}},enumerable:true},each:{value:function(g,j){var h,l,k;if(g&&typeof j==="function"){if(g.length!==undefined){l=g.length;for(h=0;h<l;h+=1){if(j(g[h],h)===false){break}}return}k=e.es5.Object.keys(g);l=k.length;for(h=0;h<l;h+=1){if(j(g[k[h]],k[h])===false){break}}}},enumerable:true},eachKey:{value:function(g,h){this.each(g,function(j,i){if(typeof h==="function"){return h(i,j)}})},enumerable:true},gmdate:{value:function(i,h){var g=h===undefined?new Date():typeof h==="object"?new Date(h):new Date(h*1000);h=Date.parse(g.toUTCString().slice(0,-4))/1000;return this.date(i,h)},enumerable:true},is_int:{value:function(g){return g===+g&&isFinite(g)&&g%1===0},enumerable:true},readCookie:{value:function(){var k,j,g={},h;h=document.cookie.split("; ");for(j=0;j<h.length;j+=1){k=h[j].split("=");if(k[1]!==undefined){g[k[0]]=decodeURIComponent(k[1])}else{g[k[0]]=""}}return g},enumerable:true}});b=function(g,h){var j;if(!g){return null}function i(k){return function(){var l="";function m(n){if(n.id&&n.id.name&&n.id.name.substr(0,10)!=="Framework."){if(l.length>0){l="."+l}l=n.id.name+l}if(n.id.parent){m(n.id.parent)}}m(k);return l}}j=e.es5.Object.create(e,{id:{value:{},enumerable:true},descendent:{value:function(n,m){var l,k;l=e.es5.Object.create(this,m);k=this;e.es5.Object.defineProperties(l,{id:{value:{}}});e.es5.Object.defineProperties(l.id,{name:{value:n},instance:{value:a()},parent:{value:k},fullname:{get:i(l)}});l.verbose("New descendent of "+l.id.parent.id.fullname,l);return l},enumerable:true}});if(h&&typeof h==="object"){e.es5.Object.defineProperties(j,h)}e.es5.Object.defineProperties(j.id,{name:{value:g,enumerable:true},instance:{value:a(),enumerable:true},fullname:{get:i(j),enumerable:true}});j.verbose("New descendent of window.LiveRail.Framework",j);return j};d.apply({context:e,priority:2,method:"log"},["LiveRail.Framework version "+LiveRail.Framework.build.version+", build "+LiveRail.Framework.build.timestamp+" ("+LiveRail.Framework.build.date+")"]);window.LiveRail.Framework.messageQueue={};e.es5.Object.defineProperties(window.LiveRail.Framework.messageQueue,{purge:{value:function(){d.apply({context:e,priority:1,method:"purge"})},enumerable:true}});window.LiveRail.Framework.descendent=b;if(LiveRail.onFrameworkLoad){e.each(LiveRail.onFrameworkLoad,function(g){if(typeof g==="function"){g()}});delete LiveRail.onFrameworkLoad}}());(function(){var e,a,d={};function c(h){var k,j,f,g,l;if(!h){h=window.event}if(h.origin!=="http://cdn-static.liverail.com"){return}if(!h.data||typeof h.data!=="string"||h.data.substr(0,20)!=="lrHandshakeResponse="){return}k=h.data.substr(20);j="";for(f=0;f<k.length;f+=1){j+=String.fromCharCode(k.charCodeAt(f)-a.charCodeAt(f))}g=j.split("&");for(f=0;f<g.length;f+=1){l=g[f].split("=");if(l[1]){switch(l[1]){case"true":d[l[0]]=true;break;case"false":d[l[0]]=false;break;default:d[l[0]]=decodeURIComponent(l[1]);break}}}if(e&&e.parentNode===document.body){document.body.removeChild(e)}if(d.debug!==undefined){LiveRail.debugOutput=parseInt(d.debug,10);LiveRail.debugIdFilter=d.debugIdFilter;if(LiveRail.Framework.messageQueue){LiveRail.Framework.messageQueue.purge()}}}function b(){var f,g;if(typeof window.postMessage!=="function"){return}f="http://cdn-static.liverail.com/js/handshake.html";a="";for(g=0;g<50;g+=1){a+=Math.random().toString(36).substr(2,5)}e=document.createElement("iframe");e.style.display="none";e.src=f;document.body.appendChild(e);e.onload=function(){if(e.contentWindow&&e.contentWindow.postMessage){e.contentWindow.postMessage(a,f)}else{if(e&&e.parentNode===document.body){document.body.removeChild(e)}}};if(window.addEventListener){window.addEventListener("message",c,false)}else{if(window.attachEvent){window.attachEvent("onmessage",c)}}}if(LiveRail.debugOutput===undefined&&!document.location.href.match(/^https?:\/\/[A-Za-z0-9.\-_]+\.liverail\.com/)){if(document.readyState!=="complete"||document.body===null){if(window.addEventListener){window.addEventListener("load",b,false)}else{if(window.attachEvent){window.attachEvent("onload",b)}}}else{b()}}}());(function(){function a(){var b;b=LiveRail.Framework.descendent("Framework.Extended",{addElement:{value:function(c){var e,k,f,j,h,g,d;if(typeof c==="object"){k=c.target;j=c.before}if(k===undefined){k=document.body}if(typeof k==="string"){k=document.getElementById(c.target)}if(typeof j==="string"){j=document.getElementById(c.before)}if(typeof k==="object"){f="div";if(typeof c.type==="string"){f=c.type}e=document.createElement(f);if(typeof c.html==="string"){e.innerHTML=c.html}if(typeof c.attributes==="object"){for(h in c.attributes){if(c.attributes.hasOwnProperty(h)){e.setAttribute(h,c.attributes[h])}}}if(typeof c.events==="object"){for(g in c.events){if(c.events.hasOwnProperty(g)){e.addEventListener(g,c.events[g])}}}if(typeof c.onload==="function"){e.onload=c.onload}if(typeof c.className==="string"){e.className=c.className}if(typeof c.styles==="object"){for(d in c.styles){if(c.styles.hasOwnProperty(d)){e.style[d]=c.styles[d]}}}if(typeof j==="object"){k.insertBefore(e,j)}else{k.appendChild(e)}return e}return null},enumerable:true},ajax:{value:function(e){var n,s,g,f,p,m,t,h,r,c,i,j,q,l,d;if(typeof e!=="object"||!e.url){return null}s="corserror";g="error";f="parsererror";p="timeout";q=e.url;j="GET";if(e.type==="POST"){j="POST";d=e.data;if(typeof e.data==="object"){d=this.urlSerialize(e.data)}}t=function(u){if(typeof e.onloadstart==="function"){e.onloadstart(u)}};h=function(u){if(typeof e.onprogress==="function"){e.onprogress(u)}};r=function(w){if(n.responseText===undefined||n.responseText===null){c();return}l=w.responseText;if(e.dataType==="json"){try{l=JSON.parse(w.responseText)}catch(v){c(f);return}}if(e.dataType==="xml"){try{l=w.responseXML||null;if((!l||!w.responseXML.documentElement)&&typeof w.responseText==="string"&&w.responseText.length>0){if(window.DOMParser){try{l=new window.DOMParser().parseFromString(w.responseText,"text/xml")}catch(x){throw (null)}}else{throw (null)}}if(l&&l.documentElement.tagName==="parsererror"){throw (null)}if(l&&l.getElementsByTagName("parsererror").length>0){throw (null)}}catch(u){c(f);return}}if(typeof e.success==="function"){e.success(l,"success",n)}};c=function(u){var v=g;if(typeof u==="string"){v=u}if(typeof e.error==="function"){e.error(n,v,{})}};try{m=document.createElement("a");m.href=q;i=m.hostname}catch(o){}if(window.XMLHttpRequest&&(i===""||window.location.hostname===i||(new window.XMLHttpRequest()).withCredentials!==undefined)){n=new window.XMLHttpRequest();if(n.overrideMimeType){if(e.dataType==="json"){n.overrideMimeType("application/json")}if(e.dataType==="xml"){n.overrideMimeType("text/xml")}}n.open(j,q,true);n.withCredentials=true;if(j==="POST"){n.setRequestHeader("Content-type","application/x-www-form-urlencoded")}n.onreadystatechange=function(){if(n.readyState!==4){return}if(n.status!==200){c();return}r(n)};n.onloadstart=t;if(typeof e.xhrFields==="object"){this.each(e.xhrFields,function(u,v){n[v]=u})}}else{if(window.XDomainRequest){n=new window.XDomainRequest();n.open(j,q);n.onload=function(){r(n)};n.onerror=function(){c()};n.ontimeout=function(){c(p)}}else{c(s);return null}}try{this.verbose(n+" "+j+" request to:",q);n.onprogress=h;n.send(d)}catch(k){this.error(k.message)}return n},enumerable:true},htmlspecialchars:{value:function(c){return c.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},enumerable:true},number_format:{value:function(h,e,j,g){h=(h.toString()).replace(/[^0-9+\-Ee.]/g,"");var d=!isFinite(+h)?0:+h,c=!isFinite(+e)?0:Math.abs(e),l=(g===undefined)?",":g,f=(j===undefined)?".":j,k="",i=function(p,o){var m=Math.pow(10,o);return(Math.round(p*m)/m).toString()};k=(c?i(d,c):(Math.round(d)).split(".")).toString();if(k[0].length>3){k[0]=k[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,l)}if((k[1]||"").length<c){k[1]=k[1]||"";k[1]+=[c-k[1].length+1].join("0")}return k.join(f)},enumerable:true},queryAPI:{value:function(d){var e,c,j,g,h,k,f;if(typeof d!=="object"||typeof d.call!=="string"||typeof d.query!=="object"){return false}g=true;if(d.async!==undefined){g=d.async}j="http://api4.liverail.com";c=[{name:"LR-token-p",ext:""},{name:"LR-token-i",ext:".int"},{name:"LR-token-m",ext:".maint"},{name:"LR-token-d",ext:".dev"}];if(!d.query.token){if(typeof d.credentials==="object"&&typeof d.credentials.environment==="string"&&typeof d.credentials.token==="string"){j="http://api4";j+=d.credentials.environment?"."+d.credentials.environment:"";j+=".liverail.com";d.query.token=d.credentials.token}else{for(e=0;e<c.length;e+=1){if(this.readCookie()[c[e].name]){j="http://api4"+c[e].ext+".liverail.com";d.query.token=this.readCookie()[c[e].name]}}}}if(d.query.lr_output===undefined){d.query.lr_output="json"}k=d.query;h=j+d.call;f=this.ajax({url:h,type:"POST",dataType:"json",async:g,data:k,success:function(o){var m=null,l,n;if(o.response.status==="success"){if(typeof d.success==="function"){if(typeof d.node==="string"){l=d.node.split(".");if(typeof o.response==="object"&&o.response.total===0){m=[]}else{if(typeof o[l[0]]==="object"){m=o[l[0]];for(n=1;n<l.length;n+=1){if(typeof m[l[n]]==="object"){m=m[l[n]]}else{m=null;break}}}}}else{m=o}}}if(m!==null){if(typeof d.success==="function"){d.success(m)}}else{if(typeof d.error==="function"){if(o.response&&o.response.error){d.error(f,o.response.error[0])}else{d.error({})}}}},error:function(i,l){if(typeof d.error==="function"){d.error(i,l)}}});return f},enumerable:true},round:{value:function(g,d,j){var c,e,h,i;d|=0;c=Math.pow(10,d);g*=c;i=(g>0)|-(g<0);h=g%1===0.5*i;e=Math.floor(g);if(h){switch(j){case"PHP_ROUND_HALF_DOWN":g=e+(i<0);break;case"PHP_ROUND_HALF_EVEN":g=e+(e%2*i);break;case"PHP_ROUND_HALF_ODD":g=(e%2)?e+1:e;break;default:g=e+(i>0)}}return(h?g:Math.round(g))/c},enumerable:true},ucfirst:{value:function(d){d+="";var c=d.charAt(0).toUpperCase();return c+d.substr(1)},enumerable:true},urlSerialize:{value:function(e){var d=[],c=this;c.each(e,function(f,g){if(Array.isArray(f)){c.each(f,function(h){d.push(encodeURIComponent(g)+"[]="+encodeURIComponent(h))})}else{d.push(encodeURIComponent(g)+"="+encodeURIComponent(f))}});return d.join("&")},enumerable:true},urlUnserialize:{value:function(e){if(typeof e!=="string"){return{}}var g={},f,c,d;if(e.indexOf("?")>0){e=e.slice(e.indexOf("?")+1)}c=e.split("&");for(d=0;d<c.length;d+=1){f=c[d].split("=");if(f[1]===undefined){g[decodeURIComponent(f[0])]=true}else{g[decodeURIComponent(f[0])]=decodeURIComponent(f[1])}}return g},enumerable:true}});window.LiveRail.Framework.Extended={};b.es5.Object.defineProperties(window.LiveRail.Framework.Extended,{build:{value:{version:"1.1",timestamp:"201304081707",date:"Mon, Apr 8, 2013 17:07:21 -0700"}},descendent:{value:function(d,c){return b.descendent(d,c)}}});b.log("LiveRail.Extended.Framework version "+LiveRail.Framework.Extended.build.version+", build "+LiveRail.Framework.Extended.build.timestamp+" ("+LiveRail.Framework.Extended.build.date+")")}if(typeof window.LiveRail!=="object"){window.LiveRail={}}if(typeof window.LiveRail.Framework!=="object"||window.LiveRail.Framework.Extended!==undefined){if(!window.LiveRail.onFrameworkLoad){window.LiveRail.onFrameworkLoad=[]}window.LiveRail.onFrameworkLoad.push(function(){a()})}else{a()}}());(function(){if(!window.LiveRail.AdManager){window.LiveRail.AdManager={}}if(!window.getVPAIDAd){window.getVPAIDAd=function(){return LiveRail.AdManager.AdLoader()}}LiveRail.AdManager.framework=LiveRail.Framework.Extended.descendent("AdManager",{build:{value:{version:"1.0",timestamp:"201304081707",date:"Mon, Apr 8, 2013 17:07:29 -0700"}},errorDefinition:{value:{"1000":"LiveRail init failed, parameter LR_PUBLISHER_ID is not defined.","1001":"No available environment: ","1002":"startAd() called before AdLoaded event","1003":"environmentVars.slot is not a valid DOM element","1004":"No valid video element","1005":"Unsupported device: ","1006":"environmentVars is not defined","1007":"Bad player dimensions","1101":"LiveRail request for ad-sources failed: ","1102":"LiveRail request for ad-sources timed out.","1111":"LiveRail request for ads failed: ","1112":"LiveRail request for ads timed out.","1201":"Failed to parse LiveRail XML response: ","1202":"Unknown LiveRail XML response type: ","1203":"Unknown LiveRail Error message.","1301":"LiveRail returned no ad sources.","1302":"No ad-slots available.","1501":"Stream Error: ","1502":"Stream Timeout","1701":"Clickthrough failed "},enumerable:true},returnBoolean:{value:function(b){var a=b;if(typeof a==="boolean"){return a}if(a===null){return false}if(a!==undefined&&typeof a!=="string"){a=b.toString()}if(b==="true"||b==="1"||b==="yes"){return true}return false},enumerable:true},returnFloat:{value:function(b){var a=parseFloat(b);if(!isNaN(a)){return a}return false},enumerable:true},returnInt:{value:function(b){var a=parseInt(b,10);if(!isNaN(a)){return a}return false},enumerable:true},returnUnsignedInt:{value:function(a){if(a!==undefined&&!isNaN(a)&&a!==null&&a>=0){return a}return false},enumerable:true},xml2object:{value:function(c,d){if(typeof d!=="object"){d={}}function a(e){if(/^\s*$/.test(e)){return null}return e}function b(m,g){var e=true,n=0,f="",i,l,h,k,j;if(m.hasAttributes()){e={};for(n;n<m.attributes.length;n+=1){i=m.attributes.item(n);e["@"+i.name.toLowerCase()]=a(i.value.trim())}}if(m.hasChildNodes()){for(j=0;j<m.childNodes.length;j+=1){l=m.childNodes.item(j);if(l.nodeType===4){if(f.length===0){f=" "}f+=l.nodeValue;if(f.length>1){f=f.substring(1)}}else{if(l.nodeType===3){f+=l.nodeValue.trim()}else{if(l.nodeType===1&&!l.prefix){if(n===0){e={}}h=l.nodeName.toLowerCase();k=b(l,g);if(e.hasOwnProperty(h)){if(e[h].constructor!==Array){e[h]=[e[h]]}e[h].push(k)}else{if(g[l.nodeName.toLowerCase()]){e[h]=[k]}else{e[h]=k}n+=1}}}}}}if(f){if(n>0){e.cdata=a(f)}else{e=a(f)}}if(n>0&&typeof Object.freeze==="function"){Object.freeze(e)}return e}if(typeof c==="object"){return b(c,d)}this.error("Failed to parse XML response from XML:",c);return null},enumerable:true}})}());(function(){LiveRail.AdManager.AdLoader=function(){var Y,E,G,y,d={},r,z,O,b,t,W,J,K={},v,U,C,ac,q,f,p,Q,B,I,M,ad,V,a,u,s,aa,ae,H,X,m,x,ab,A,l,N,L,e,g,P,i,F,j,c,S,R,n,w,T,h,Z,o,k,D;z=LiveRail.AdManager.framework.descendent("AdLoader");W={};J={};M={handshakeVersion:true,initAd:true,resizeAd:true,startAd:true,stopAd:true,pauseAd:true,resumeAd:true,expandAd:true,collapseAd:true,skipAd:true};V={AdLinear:{get:true,set:false},AdWidth:{get:true,set:false},AdHeight:{get:true,set:false},AdExpanded:{get:true,set:false},AdSkippableState:{get:true,set:false},AdRemainingTime:{get:true,set:false},AdDuration:{get:true,set:false},AdVolume:{get:true,set:true},AdCompanions:{get:true,set:false},AdIcons:{get:true,set:false}};I={AdLoaded:[],AdStarted:[],AdStopped:[],AdSkipped:[],AdSkippableStateChange:[],AdSizeChange:[],AdLinearChange:[],AdDurationChange:[],AdExpandedChange:[],AdRemainingTimeChange:[],AdVolumeChange:[],AdImpression:[],AdVideoStart:[],AdVideoFirstQuartile:[],AdVideoMidpoint:[],AdVideoThirdQuartile:[],AdVideoComplete:[],AdClickThru:["url","id","playerHandles"],AdInteraction:["id"],AdUserAcceptInvitation:[],AdUserMinimize:[],AdUserClose:[],AdPaused:[],AdPlaying:[],AdLog:["message"],AdError:["message"]};r={AdLog:false};y={};Y=0;u=function(ag){var af="";if(d.AdLog&&d.AdLog.length>0){if(af!==undefined){if(typeof ag!=="string"){af=ag.toString()}else{af=ag}}m("AdLog",[af])}};a=function(af){if(typeof af!=="string"){af=""}m("AdError",[af])};ae=function(ag){var af={};af[ag]={value:function(){return s(ag,arguments)},enumerable:true};z.es5.Object.defineProperties(J,af)};H=function(ah){var af,ag;if(V[ah]){if(V[ah].get){af={};af["get"+ah]={value:function(){return s("get"+ah,arguments)},enumerable:true};z.es5.Object.defineProperties(J,af)}if(V[ah].set){ag={};ag["set"+ah]={value:function(){return s("set"+ah,arguments)},enumerable:true};z.es5.Object.defineProperties(J,ag)}}};s=function(af,ak){var ai,aj,ag,ah,an,ao,al,am;an={handshakeVersion:x,initAd:A,resizeAd:T,setAdVolume:h};if(af==="startAd"&&Y!==2){if(Y<2){j({code:"1002"});a(z.errorDefinition["1002"])}return}if(an[af]){ag=an}else{if(ad){ag=ad}}al="verbose";if(M[af]){al="log"}if(an[af]){z[al](af+"(",ak,")")}else{z[al](af+"()")}if(ag&&typeof ag[af]==="function"){D(af);if(an[af]){am=ag[af].apply(z,ak)}else{am=ag[af]()}if(am!==undefined){z.verbose(af+" returned:",am)}}return am};aa=function(af){ad.subscribe(function(){m(af,arguments)},af)};m=function(af,al){var ai,aj=[],ag="",ah="",am="",an,ak;D(af);if(af==="AdLog"&&typeof al[0]==="string"&&al[0].substr(0,9)==="[LRERROR:"){an=al[0].substr(9,4);ak=al[0].substr(14)||undefined;j({code:an,message:ak});return}if(af==="AdStarted"&&G&&typeof p==="object"&&typeof p.style==="object"){p.style.backgroundColor="#000"}if(z.es5.Array.isArray(al)||Object.prototype.toString.call(al)==="[object Arguments]"){aj=al}for(ai=0;ai<aj.length;ai+=1){if(ai>0){ag+=", "}ag+=aj[ai]}ah="Dispatching "+af+" event"+(E?"":" (synchronous)");am=ah;if(ag!==""){am+=" arguments=["+ag+"]"}if(r[af]!==false){if(al.length>0){z.log(ah,al)}else{z.log(ah)}}if(d[af]){z.each(d[af],function(ao){var ap=function(){if(typeof ao.fn==="function"){if(typeof ao.listenerScope==="object"){ao.fn.apply(ao.listenerScope,aj)}else{ao.fn.apply(z,aj)}}};if(!E){ap()}else{window.setTimeout(ap,0)}})}};X=function(){b={};Y=0;E=true;R={allowDomains:"*",currentSecurityDomain:"false"}};x=function(af){return af};ab=function(ag){var af={};z.each(ag,function(ai,ah){if(ai===null||ai===undefined||ai==="null"||ai==="undefined"||ai===""){return}if(ah==="LR_URL"&&ai==="[LR_URL]"){return}if(ah==="vpaidURL"){B=ai}else{if(ah==="bgColor"){G=ai}else{if(ah==="asyncEvents"){E=z.returnBoolean(ai)}else{if(typeof R[ah]==="string"){R[ah]=ai}else{af[ah]=ai;if(ah.match(/^LR_/)){b[ah.toUpperCase()]=ai}}}}}});return af};A=function(af,aq,ag,ai,al,ao){var ap={},ak,ah,aj,am,ar,an;X();if(!ao||typeof ao!=="object"){j({code:"1006"});a(z.errorDefinition["1006"]);return}ar=af;an=aq;if(ao.slot&&ao.slot.offsetWidth&&ao.slot.offsetHeight){ar=ao.slot.offsetWidth;an=ao.slot.offsetHeight}ac="normal";if(typeof ag==="string"){ac=ag}ah=z.returnInt(ai);if(ah){U=ah}b={};z.each(K,function(au,at){b[at]=au});v=ab(al);C=ab(ao);z.verbose("Aggregated runtime parameters:",b);z.each(K,function(au,at){ap[at]=au});z.each(v,function(au,at){ap[at]=au});if(typeof C.LR_ENVIRONMENT!=="string"){am=["html5"]}else{am=C.LR_ENVIRONMENT.split(",")}z.each(am,function(au){var at=z.detect({feature:au});if(at.present){aj=at.feature;return false}});if(!aj){a(z.errorDefinition["1001"]+" "+C.LR_ENVIRONMENT);return}if(aj==="html5"){L(ar,an,ac,U,ap,C);return}if(aj==="flash"){N(ar,an,ac,U,ap,C)}};l=function(ai,af,ag,ah,ak,aj){if(!ad){i(function(){var al;for(al in I){if(I.hasOwnProperty(al)){aa(al)}}ad.initAd(ai,af,ag,ah,ak,aj)})}else{ad.initAd(ai,af,ag,ah,ak,aj)}};N=function(ai,af,ag,ah,ak,aj){if(!e(aj.slot)){j({code:"1003"});a(z.errorDefinition["1003"]);return}aj.LR_ENVIRONMENT="flash";aj.LR_WIDTH=ai;aj.LR_HEIGHT=af;if(!ad){f=aj.slot;Q=f.ownerDocument.defaultView||f.ownerDocument.parentWindow;P(ai,af,function(){if(y.adVolume!==undefined){ad.setAdVolume(parseFloat(y.adVolume))}ad.initAd(-1,-1,ag,ah,(ak.AdParameters||""),Z(aj))})}else{ad.initAd(-1,-1,ag,ah,(ak.AdParameters||""),Z(aj))}};L=function(ak,af,ai,aj,am,al){var ah;try{if(al.videoSlot===undefined){if(e(al.slot)){al.slot.innerHTML="";al.videoSlot=z.addElement({target:al.slot,type:"video",styles:{display:"block",width:ak+"px",height:af+"px"}});if(G){al.videoSlot.style.backgroundColor="#"+G}}else{j({code:"1003"});throw z.errorDefinition["1003"]}}if(!g(al.videoSlot)){j({code:"1004"});throw z.errorDefinition["1004"]}}catch(ag){a(ag);return}if(typeof al.window==="object"){Q=al.window}else{if(al.slot&&al.slot.ownerDocument){Q=al.slot.ownerDocument.defaultView||al.slot.ownerDocument.parentWindow}else{Q=al.videoSlot.ownerDocument.defaultView||al.videoSlot.ownerDocument.parentWindow}}p=al.videoSlot;f=al.slot||al.videoSlot.parentNode;ak=p.offsetWidth;af=p.offsetHeight;ah=w(am,al);y.config=ah;if(!B&&!ah.adRequestConfig.LR_PUBLISHER_ID){j({code:"1000"});a(z.errorDefinition["1000"]);return}if(!ah.adRequestConfig.LR_WIDTH||!ah.adRequestConfig.LR_HEIGHT||ah.adRequestConfig.LR_WIDTH<=100||ah.adRequestConfig.LR_HEIGHT<=100){j({code:"1007"})}al.LR_ENVIRONMENT="flash";if(typeof B==="string"){l(ak,af,ai,aj,am,al)}else{z.log("Run-time Parameters:");z.each(ah.adRequestConfig,function(ao,an){z.log(an+"="+ao)});q=LiveRail.AdManager.RTBHandler();q.request({query:ah.adRequestConfig,onsuccess:function(an){z.log("Retrieved ad response:",an);l(ak,af,ai,aj,an,ah.adRenderConfig)},onerror:function(an){z.error("Error retrieving ad:",z.errorDefinition[an.code]+(an.message?" "+an.message:""));j(an);l(ak,af,ai,aj,{creativeData:{},environmentVars:{}},ah.adRenderConfig)}})}};j=function(ai){var am,ah,af,aj,ag="9999",an="",ak;if(typeof ai==="object"&&ai){if(ai.code&&z.errorDefinition[ai.code]){ag=ai.code;an=z.errorDefinition[ai.code]}if(ai.message){if(ag==="1203"){an=ai.message}else{an+=ai.message}}if(ag==="9999"){an="Undefined error "+ai.code+": "+ai.message}}try{ah=document.createElement("img");ah.style.display="none";ah.width=1;ah.height=1;af="http://log.liverail.com/html5/?ts="+z.es5.Date.now()+"&code="+ag;if(y.config&&y.config.adRequestConfig){aj=y.config.adRequestConfig}else{aj=b}z.each(aj,function(ap,ao){if(ao==="LR_INTEGRATION"){af+="&i="+encodeURIComponent(ap)}else{af+="&"+encodeURIComponent(ao)+"="+encodeURIComponent(ap)}});ak="build="+z.build.timestamp;z.each(["appName","appVersion","cookieEnabled","platform"],function(ao){if(window.navigator.hasOwnProperty(ao)){ak+="&"+ao+"="+window.navigator[ao]}});af+="&pt="+encodeURIComponent(ak);af+="&msg="+encodeURIComponent(an);ah.src=af;document.body.appendChild(ah);z.error("Logging error:",af)}catch(al){}};w=function(ah,aj){var ag,am={},af={},ai,ak,al;z.each([ah,aj],function(ao){if(typeof ao==="object"){z.each(ao,function(aq,ap){if(ap.match(/^LR_/i)){am[ap.toUpperCase()]=aq}})}});try{ak=(window.top&&Q!==window.top&&Q.document.referrer?Q.document.referrer:Q.document.location.href)}catch(an){ak=document.referrer}if(y.adVolume!==undefined){p.volume=y.adVolume;if(y.adVolume>0&&p.muted){p.muted=false}delete y.adVolume}if(p.muted||p.volume<=0){al=1}else{al=0}af.adRequestConfig={LR_ADMAP:"in::0",LR_URL:ak,LR_MUTED:al};af.adRenderConfig={};ai={LR_TIMEOUT_STREAM:true,LR_BITRATE:true,LR_LAYOUT_LINEAR_PAUSEONCLICKTHRU:true,LR_CLICK_TARGET:true,LR_COMPANIONS:true};for(ag in am){if(am.hasOwnProperty(ag)){if(ai[ag]){af.adRenderConfig[ag]=am[ag]}else{if(!af.adRequestConfig[ag]||am[ag]!==""){af.adRequestConfig[ag]=am[ag]}}}}if(p.offsetWidth){af.adRequestConfig.LR_WIDTH=p.offsetWidth}else{if(af.adRequestConfig.LR_WIDTH){delete af.adRequestConfig.LR_WIDTH}}if(p.offsetHeight){af.adRequestConfig.LR_HEIGHT=p.offsetHeight}else{if(af.adRequestConfig.LR_HEIGHT){delete af.adRequestConfig.LR_HEIGHT}}if(af.adRequestConfig.LR_WIDTH<=300||af.adRequestConfig.LR_HEIGHT<250){z.log("Detected in-banner placement");af.adRequestConfig.LR_ADTYPE=2}else{if(af.adRequestConfig.LR_INTEGRATION==="int"){z.log("Detected interstitial placement");af.adRequestConfig.LR_ADTYPE=1}else{z.log("Detected in-stream placement");af.adRequestConfig.LR_ADTYPE=3}}af.adRequestConfig.LR_FORMAT="video/mp4;video/webm";af.adRenderConfig.LR_FORMAT=af.adRequestConfig.LR_FORMAT;af.adRenderConfig.videoSlot=aj.videoSlot;af.adRenderConfig.slot=aj.slot;af.adRenderConfig.videoSlotCanAutoPlay=aj.videoSlotCanAutoPlay;af.adRenderConfig.window=Q;return af};e=function(af){if(typeof af!=="object"||af===null||!af.tagName){return false}return true};g=function(af){if(typeof af!=="object"||af===null||typeof af.canPlayType!=="function"){return false}return true};P=function(aj,af,al){var ag,ai,ah="";if(typeof B!=="string"){B="http://cdn-static.liverail.com/swf/v4/admanager.swf"}if(!Q.LiveRail){Q.LiveRail={}}if(!Q.LiveRail.Instances){Q.LiveRail.Instances={};Q.LiveRail.InstanceCount=0}Q.LiveRail.InstanceCount+=1;ai="http://cdn-static.liverail.com/swf/ui/vpaid-player.swf";ag="jscontext=LiveRail.Instances.AdLoader_"+Q.LiveRail.InstanceCount;ag+="&vpaidURL="+encodeURIComponent(B);ag+="&allowDomains="+encodeURIComponent(R.allowDomains);ag+="&currentSecurityDomain="+encodeURIComponent(R.currentSecurityDomain);ah+='<object width="'+aj+'" height="'+af+'" style="display: block"';if(navigator.userAgent.match(/MSIE/i)){ah+=' id="AdLoader_'+Q.LiveRail.InstanceCount+'"';ah+=' name="AdLoader_'+Q.LiveRail.InstanceCount+'"';ah+=' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">';ah+='<param name="movie" value="'+ai+'" />'}else{ah+=' data="'+ai+'"';ah+=' type="application/x-shockwave-flash">'}ah+='<param name="quality" value="high" />';ah+='<param name="allowfullscreen" value="true" />';ah+='<param name="allowscriptaccess" value="always" />';ah+='<param name="quality" value="high" />';ah+='<param name="flashvars" value="'+ag+'" />';if(G){ah+='<param name="wmode" value="opaque" />';ah+='<param name="bgcolor" value="#'+G+'" />'}else{ah+='<param name="wmode" value="transparent" />'}ah+="</object>";function ak(){window.setTimeout(function(){if(typeof ad.getVPAID==="function"&&ad.getVPAID()!==null){z.log("Loaded Flash VPAID:",ad);if(typeof al==="function"){al()}}else{ak()}},100)}Q.LiveRail.Instances["AdLoader_"+Q.LiveRail.InstanceCount]=W;f.innerHTML=ah;t=f.childNodes[0];ad=t;ak();z.verbose("Loaded JS-Flash event interface:",W)};i=function(ag){var af;if(typeof B!=="string"){ad=LiveRail.AdManager.AdRenderer();if(typeof ag==="function"){ag()}return}O=Q.document.createElement("iframe");O.style.display="none";O.onload=function(){try{af=O.contentWindow.document.createElement("script");af.src=B;af.onload=function(){if(typeof O.contentWindow.getVPAIDAd==="function"){ad=O.contentWindow.getVPAIDAd();z.log("Loaded JavaScript VPAID:",ad);if(typeof ag==="function"){ag()}}};O.contentWindow.document.body.appendChild(af)}catch(ah){z.error("Error loading VPAID:",ah.message)}};Q.document.body.appendChild(O)};F=function(){var af,ah,ag;af=document.getElementsByTagName("script");for(ah=0;ah<af.length;ah+=1){if(af[ah].src.indexOf("LiveRail.AdManager")!==-1){break}}if(ah>=af.length){return}ag=af[ah].src;K=n(ag);z.log("Found Ad Manager URL:",ag);z.verbose("Parsed URL query parameters:",K)};S=function(ag){var af,ah=[];window.setTimeout(function(){z.verbose("onVPAIDEvent(",ag,")");if(typeof ag.data==="object"&&ag.data!==null){if(I[ag.type]){for(af=0;af<I[ag.type].length;af+=1){ah.push(ag.data[I[ag.type][af]])}}}D(ag.type);m(ag.type,ah)},0)};n=function(ag){var ah,al={},ak,af,ai,aj;ak=ag.slice(ag.indexOf("?")+1);af=ak.split("&");if(af[0]!==ag){for(ah=0;ah<af.length;ah+=1){ai=af[ah].split("=");if(ai.length===1){al[ai[0]]=true}else{if(ai.length===2){al[ai[0]]=decodeURIComponent(ai[1])}else{al[ai[0]]="";for(aj=1;aj<ai.length;aj+=1){al[ai[0]]+=decodeURIComponent(ai[aj]);if(aj<ai.length-1){al[ai[0]]+="="}}}}}}return al};T=function(ah,af,ag){if(ad&&typeof ad.resizeAd==="function"){return ad.resizeAd(ah,af,ag)}};h=function(af){if(ad&&typeof ad.setAdVolume==="function"){return ad.setAdVolume(af)}y.adVolume=af};Z=function(ah){var af,ai=0,ag="";for(af in ah){if(ah.hasOwnProperty(af)&&!af.match(/^(slot|videoSlot|videoSlotCanAutoPlay)/)){if(ai>0){ag+="&"}ag+=af+"="+encodeURIComponent(ah[af]);ai+=1}}return ag};o=function(af,ah,ag){if(typeof ah!=="string"||typeof af!=="function"){return}if(!d[ah]){d[ah]=[]}d[ah].push({fn:af,listenerScope:ag})};k=function(ag,ah){var af;if(typeof ah!=="string"||typeof ag!=="function"){return}for(af=0;af<d[ah].length;af+=1){if(d[ah][af].fn===ag){d[ah].splice(af,1)}}};D=function(ah){var ag={initAd:1,AdLoaded:2,AdStarted:3,AdError:0,AdStopped:0,AdSkipped:0},af=["IDLE","INITIALIZING","READY","STARTED"];if(ag[ah]!==undefined){z.verbose("updateAdStatus(",ah,"): adStatus is now ",ag[ah]+" ("+af[ag[ah]]+")");Y=ag[ah]}};z.es5.Object.defineProperties(W,{onVPAIDEvent:{value:function(af){S(af)},enumerable:true}});z.es5.Object.defineProperties(J,{subscribe:{value:function(af,ah,ag){return o(af,ah,ag)},enumerable:true},unsubscribe:{value:function(af,ag){return k(af,ag)},enumerable:true}});z.eachKey(M,function(af){ae(af)});z.eachKey(V,function(af){H(af)});F();z.es5.Object.freeze(J);z.log("LiveRail AdManager version "+z.build.version+", build "+z.build.timestamp+" ("+z.build.date+"):",J);return J}}());(function(){LiveRail.AdManager.AdRenderer=function(){var i,L,z,T,aC=true,at,k,aG,ap=null,ai,J={},u,v,ab={},w,l={},az=false,c,ao=[],O,an,al,G,P={},U,r,R,W,q,ay,ac,Y,y,ae,V,m={},au=null,Z=null,aF=null,e,D,H,aa,M,s,N,E,X,aE,j,t,p,av,ak,ad,f,b,ar,ah,ag,o,C,h,af,a,K,x,ax,n,aH,am,B,A,aj,aD,Q,aB,F,S,aq,I,aw,aA,g,d;V=LiveRail.AdManager.framework.descendent("AdRenderer");U={adLinear:{get:true,reset:false},adWidth:{get:true},adHeight:{get:true},adExpanded:{get:true,reset:false},adSkippableState:{get:true,reset:false},adRemainingTime:{get:true,reset:-2},adDuration:{get:true,reset:-2},adVolume:{get:true,set:true,resetOnce:1},adCompanions:{get:true,reset:""},adIcons:{get:true,reset:false}};at="idle";c={length:0,load:function(){return{}}};w={AdLog:false};ai={"application/x-shockwave-flash":"flash","image/jpeg":"image","image/gif":"image","image/png":"image","application/x-javascript":"js"};an={contextmenu:true,loadstart:true,progress:false,abort:true,error:true,emptied:true,stalled:true,loadedmetadata:true,loadeddata:true,canplay:true,canplaythrough:true,playing:true,waiting:true,seeking:true,seeked:true,ended:true,durationchange:true,timeupdate:false,play:true,pause:true,ratechage:true,volumechange:true};q=["HAVE_NOTHING","HAVE_METADATA","HAVE_CURRENT_DATA","HAVE_FUTURE_DATA","HAVE_ENOUGH_DATA"];W=["NETWORK_EMPTY","NETWORK_IDLE","NETWORK_LOADING","NETWORK_NO_SOURCE"];v=[null,"MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"];s=function(){if(i){return}i=true;if(r===3){r+=1;I("view",J.Ad.trackers.tracker,"100")}ar();ad("AdVideoComplete");ad("AdStopped")};N=function(aI){if(typeof aI!=="string"){aI=""}if(at!=="idle"){ar()}if(J.Ad&&J.Ad.trackers){I("error",J.Ad.trackers.tracker)}ad("AdError",[aI])};E=function(aJ){var aI="";if(ab.AdLog&&ab.AdLog.length>0){if(aI!==undefined){if(typeof aJ!=="string"){aI=aJ.toString()}else{aI=aJ}}ad("AdLog",[aI])}};X=function(){var aI;if(au.readyState!==ay){ay=au.readyState;aI="videoSlot readyState has changed to: "+ay;if(V.returnUnsignedInt(ay)!==false){aI+=" ("+q[ay]+")"}V.verbose(aI)}if(au.networkState!==R){R=au.networkState;aI="videoSlot networkState has changed to: "+R;if(V.returnUnsignedInt(R)!==false){aI+=" ("+W[R]+")"}V.verbose(aI)}};aE=function(aI){if(typeof lrClearCompanion==="function"&&Array.isArray(aI)){V.each(aI,function(aJ){try{lrClearCompanion.call(aF,aJ["@size"]);V.log("Cleared "+aJ["@size"]+" CompanionAd")}catch(aK){}})}};j=function(){var aJ;if(au.paused){aj()}else{if(G){ax()}ad("AdClickThru",["","",false]);try{if(typeof J.Ad.clickthru==="string"&&J.Ad.clickthru.length>0){aJ=aF.open(J.Ad.clickthru,k);I("clickthru",J.Ad.trackers.tracker);V.debug("Clickthrough window:",aJ);if(!aJ){E("[LRERROR:1701]window="+aJ+" clickthru="+J.Ad.clickthru)}}}catch(aI){}}};p=function(){var aI;i=false;T=0;z=false;L=false;O=false;al=false;J={};r=0;aa=false;M=null;if(az){for(aI in U){if(U.hasOwnProperty(aI)){B(aI)}}}else{az=true}};av=function(){ac=800;D=15000;G=true;k="_blank"};ak=function(aK){var aJ=navigator.userAgent.toLowerCase(),aI;aI=0;try{switch(aK){case"android":if(aJ.indexOf("android")>-1){aI=parseFloat(aJ.match(/android ([\.0-9]+)/)[1])}break;case"msie":if(aJ.indexOf("msie")>-1){aI=parseFloat(aJ.match(/msie ([\.0-9]+)/)[1])}break;case"ios":if(aJ.match(/(iphone|ipod|ipad)/)){aI=parseFloat(aJ.match(/os ([0-9]+(_[0-9]+)?)/)[1].replace("_","."))}break}}catch(aL){}return aI};ad=function(aK,aJ){var aM=[],aI="",aL="";if(!aC){return}if(Array.isArray(aJ)){aM=aJ}if(w[aK]!==false&&(ab.AdLog&&ab.AdLog.length>0)){V.each(aM,function(aN){if(aI.length>0){aI+=", "}aI+=aN});aL="Dispatching "+aK+" event";if(aI!==""){aL+=" arguments=["+aI+"]"}V.verbose(aL);ad("AdLog",[aL])}if(ab[aK]){V.each(ab[aK],function(aN){window.setTimeout(function(){if(typeof aN.fn==="function"){if(typeof aN.listenerScope==="object"){aN.fn.apply(aN.listenerScope,aM)}else{aN.fn.apply(V,aM)}}},0)})}};f=function(){var aI;if(at!=="starting"){return}V.log("Displaying "+J.AdType+" ad at "+au.currentTime.toFixed(1)+" seconds");switch(J.AdType){case"Linear":P.adLinear=true;ad("AdLinearChange");aw();ad("AdStarted");V.verbose("Setting controls to false");au.controls=false;V.log("Stream timeout set to "+D+"ms");e=window.setTimeout(function(){var aJ="Stream timeout occurred after "+D+"ms";E("[LRERROR:1502]");N(aJ)},D);if(au.src===""&&typeof au.getElementsByTagName==="function"&&au.getElementsByTagName("source").length>0){aa=true}aH("error",au,function(aK){var aJ;if(aC){V.error("Error event occurred:",aK);aJ="Video element error ";if(au.error&&V.returnUnsignedInt(au.error.code)){aJ+=au.error.code+" ("+v[V.returnUnsignedInt(au.error.code)]+")"}else{aJ+="(unknown error)"}E("[LRERROR:1501]"+aJ);N("Video element error "+aJ)}},true);a();if(ak("ios")){V.debug("iOS version "+ak("ios")+" detected, using canplay event to begin playback");aH("canplay",au,function(){if(au.currentTime>=1){V.log("Target element currentTime is "+au.currentTime+", seeking to 0");aI=function(){au.removeEventListener("seeked",aI);aB()};au.addEventListener("seeked",aI,false);au.currentTime=0}else{aB()}})}else{aH("loadstart",au,aB)}if(aa&&ak("msie")){au.getElementsByTagName("source")[0].src=J.MediaFile.cdata}else{V.debug("Setting target element source to "+J.MediaFile.cdata);au.src=J.MediaFile.cdata}V.debug("Calling load() on target element");au.load();break;case"NonLinear":N("NonLinear ads are currently unsupported");break}};b=function(aK,aI){var aJ;if(typeof lrDisplayCompanion==="function"&&Array.isArray(aK)){if(typeof lrInitCompanions==="function"){if(Array.isArray(aI)){V.debug("lrInitCompanions:",aI);lrInitCompanions.call(aF,aI)}else{lrInitCompanions.call(aF)}}V.each(aK,function(aL){aJ=[];if(aL.trackers&&Array.isArray(aL.trackers.tracker)){V.each(aL.trackers.tracker,function(aM){if(aM["@type"]==="impression"&&Array.isArray(aM.url)){aJ=aJ.concat(aM.url)}})}lrDisplayCompanion.call(aF,aL["@size"],aL["@type"],aL.content,aL.clickthru,aJ);V.debug("Registered "+aL["@size"]+" companion banner")})}};ar=function(){V.log("Ad process completed");try{window.clearTimeout(e)}catch(aJ){}try{window.clearInterval(H);H=undefined}catch(aI){}am();if(at==="playing"||at==="started"){if(M!==null){V.verbose("Setting video element cursor style to "+M);au.style.cursor=M}else{if(au.style.cursor==="pointer"){au.style.removeProperty("cursor");V.verbose("Removed video element cursor style")}}aE(J.CompanionAds)}at="idle"};l.adWidth=function(){if(au!==null&&au.offsetWidth){return au.offsetWidth}return null};l.adHeight=function(){if(au!==null&&au.offsetHeight){return au.offsetHeight}return null};ah=function(){if(L){return}L=true;V.log("Ad impression occurred");if(e){window.clearTimeout(e)}aH("ended",au,function(){s()});if(aF.document.documentElement.hasOwnProperty("ontouchstart")){aH("touchend",au,function(aI){aI.stopPropagation();aI.preventDefault();V.debug("Received touchend event on videoSlot element");if(at==="playing"){j()}},true)}else{aH("click",au,function(aI){aI.stopPropagation();aI.preventDefault();V.debug("Received click event on videoSlot element");if(at==="playing"){j()}},true)}aH("contextmenu",au,function(aI){aI.preventDefault()},true);aH("pause",au,ag);aH("play",au,o);aH("volumechange",au,function(){if(P.adVolume!==au.volume){h()}});if(au.style.cursor&&au.style.cursor!==""){M=au.style.cursor;V.verbose("Storing video element cursor style as: "+M)}V.verbose("Setting video element cursor style to pointer");au.style.cursor="pointer";at="playing";V.log("Playing video ad: "+J.MediaFile.cdata);T+=1;I("impression",J.Ad.trackers.tracker);ad("AdImpression");ad("AdVideoStart");d();aw();if(z){I("mute",J.Ad.trackers.tracker)}b(J.CompanionAds,ap)};ag=function(aI){if(at==="playing"&&!al&&(au.duration-au.currentTime)!==0){al=true;I("pause",J.Ad.trackers.tracker);ad("AdPaused")}};o=function(){if(at==="playing"&&al){al=false;I("resume",J.Ad.trackers.tracker);ad("AdPlaying")}};C=function(aI){E("handshakeVersion("+aI+")");return aI};h=function(){var aI,aJ;aI=au.volume;aJ=au.muted;if(aJ||aI<=0){aJ=true;aI=0}if(!aJ){if(z){z=false;if(J.Creative){I("unmute",J.Ad.trackers.tracker)}}}else{if(!z){z=true;if(J.Creative){I("mute",J.Ad.trackers.tracker)}}}P.adVolume=aI;ad("AdVolumeChange")};af=function(aL,aI,aJ,aK,aN,aM){E("initAd("+aL+", "+aI+", "+aJ+", "+aK+", "+aN+", "+aM+")");av();ae=aL;Y=aI;y="normal";if(typeof aJ==="string"){y=aJ}if(typeof aK==="number"){ac=aK}c=(function(aP){var aQ=1,aO;aO={};Object.defineProperties(aO,{length:{get:function(){return aQ}},load:{value:function(){if(aQ>0){aQ=0;return aP}return{}}}});return aO}({creativeData:aN,environmentVars:aM}));au=aM.videoSlot;Z=aM.slot;V.log("Target element:",au);if(typeof aM.window==="object"){aF=aM.window}else{if(aM.slot&&aM.slot.ownerDocument){aF=aM.slot.ownerDocument.defaultView||aM.slot.ownerDocument.parentWindow}else{aF=aM.videoSlot.ownerDocument.defaultView||aM.videoSlot.ownerDocument.parentWindow}}if(aN.setup&&aN.setup.trackers){I("embed",aN.setup.trackers.tracker)}ad("AdLoaded")};a=function(){var aI;ay=undefined;R=undefined;function aJ(aK){var aL;aL=function(aM){if(an[aK]){V.verbose("videoSlot event: "+aK,aM)}X()};return aL}for(aI in an){if(an.hasOwnProperty(aI)){aH(aI,au,aJ(aI))}}};K=function(){var aI;for(aI in U){if(U.hasOwnProperty(aI)){x(aI)}}};x=function(aJ){var aL,aM,aN,aI,aK;aL=aJ.charAt(0).toUpperCase()+aJ.slice(1);aM="get"+aL;aN="set"+aL;B(aJ);if(typeof U[aJ].get==="boolean"&&U[aJ].get){aI={};aI[aM]={value:(function(){if(typeof l[aJ]==="function"){return l[aJ]}return function(){return P[aJ]}}())};Object.defineProperties(V,aI)}if(typeof U[aJ].set==="boolean"&&U[aJ].set){aK={};aK[aN]={value:(function(){if(typeof m[aJ]==="function"){return m[aJ]}return function(aO){P[aJ]=aO}}())};Object.defineProperties(V,aK)}};n=function(aT){var aL,aI,aP,aS,aR,aV,aJ,aK={},aN={},aU,aM,aQ;aQ={AdSlot:null,Ad:null,AdType:null,CompanionAds:null,Creative:null,MediaFile:null};aI={};aL=aT.environmentVars;V.each(aL,function(aX,aW){switch(aW){case"LR_TIMEOUT_STREAM":if(V.returnFloat(aX)!==false){D=Math.round(V.returnFloat(aX)*1000)}break;case"LR_BITRATE":if(V.returnInt(aX)!==false){ac=V.returnInt(aX)}break;case"LR_LAYOUT_LINEAR_PAUSEONCLICKTHRU":G=V.returnBoolean(aX);break;case"LR_CLICK_TARGET":if(typeof aX==="string"&&aX.length>0){k=aX}break;case"LR_COMPANIONS":if(typeof aX==="string"){ap=[];aP=aX.split("|");V.each(aP,function(aZ){var aY=aZ.split(":");if(aY.length>2){if(!aY[3]){aY[3]=""}if(!aY[4]){aY[4]=false}ap.push({width:parseInt(aY[0],10),height:parseInt(aY[1],10),companionElement:aY[2].toString(),defaultElement:aY[3].toString(),purge:V.returnBoolean(aY[4])})}})}break;default:if(!aI[aW]||aX!==""){aI[aW]=aX}}});V.log("Parsed parameters:",aL);try{if(aT.creativeData.ads.adslot.length===0){throw"Empty ad response"}V.each(aT.creativeData.ads.adslot,function(aW){if(!aS&&aW["@type"]==="in"){aS=aW}});aQ.AdSlot=aS;if(!aQ.AdSlot||!aQ.AdSlot.ad||!aQ.AdSlot.ad[0]||!aQ.AdSlot.ad[0].linear){throw"Empty ad response"}aR=aQ.AdSlot.ad[0].linear.url;V.each(aR,function(aX,aW){V.verbose("Considering "+aX["@mimetype"]+" creative "+aW+" (bitrate "+aX["@kbps"]+")");aJ=Math.abs(ac-parseInt(aX["@kbps"],10));if(aK[aX["@mimetype"]]===undefined||aK[aX["@mimetype"]]>aJ){aK[aX["@mimetype"]]=aJ;aN[aX["@mimetype"]]=aW}});aM=aI.LR_FORMAT.split(";");aU=aM[0];V.each(aM,function(aW){if(aN[aW]!==undefined&&au.canPlayType(aW)!==""&&au.canPlayType(aW).toLowerCase()!=="no"){aU=aW;return false}});if(aN[aU]!==undefined){aQ.MediaFile=aR[aN[aU]];aQ.Creative=aQ.AdSlot.ad[0];aQ.AdType="Linear"}if(typeof aQ.AdSlot.ad[0].companions==="object"){aQ.CompanionAds=aQ.AdSlot.ad[0].companions.companion}if(aQ.Creative){V.log("Selected "+aU+" ad at bitrate "+aQ.MediaFile["@kbps"]+":",aQ.MediaFile);aQ.Ad=aQ.AdSlot.ad[0]}}catch(aO){V.error("Error parsing ad:",aO)}return aQ};ax=function(){if(at==="playing"&&!au.paused){au.pause()}};aH=function(aK,aL,aJ,aI){if(!aI){aI=false}if(typeof aK!=="string"||typeof aL.addEventListener!=="function"||typeof aJ!=="function"){return}ao.push({event:aK,target:aL,action:aJ,capture:aI});aL.addEventListener(aK,aJ,aI);V.verbose("Adding "+aK+" event listener, capture:",aI)};am=function(){V.each(ao,function(aI){aI.target.removeEventListener(aI.event,aI.action,aI.capture);V.verbose("Removed "+aI.event+" event listener")});ao=[]};B=function(aI){if(U[aI].resetOnce){if(!P[aI]){P[aI]=U[aI].resetOnce}}else{if(U[aI].reset){P[aI]=U[aI].reset}else{P[aI]=null}}};A=function(aK,aI,aJ){E("resizeAd("+aK+", "+aI+", "+aJ+")");ae=aK;Y=aI;if(typeof aJ==="string"){y=aJ;d()}ad("AdSizeChange")};aj=function(){if(at==="playing"&&au.paused){au.play()}};m.adVolume=function(aK){var aI=parseFloat(aK),aJ;if(isNaN(aI)){return}if(aK<0){aI=0}if(aK>1){aI=1}if(aI>0){aJ=false}else{aJ=true}if(!aJ){au.muted=false}au.volume=aI;h()};aD=function(){E("skipAd()");if(!P.adSkippableState){E("adSkippableState is false, ignoring skipAd()");return}};Q=function(){var aI,aJ;E("startAd()");if(at!=="idle"){E("Ad currently loaded - ignoring startAd()");return}at="starting";p();aI=c.load();J=n(aI);if(J.AdSlot&&J.AdSlot.trackers){I("adslot",J.AdSlot.trackers.tracker)}if(J.Ad&&J.Ad.trackers){I("adslot",J.Ad.trackers.tracker)}aJ=g();if(aJ.unsupported){E("[LRERROR:1005]"+aJ.trigger);N(V.errorDefinition["1005"]+aJ.trigger);return}if(!J.Ad){N("No ad available");return}f()};aB=function(){X();if(at==="started"){return}at="started";V.debug("Setting progress monitor at currentTime =",au.currentTime);H=window.setInterval(aq,250);V.debug("Calling play() on target element");au.play()};F=function(){E("stopAd()");if(at!=="idle"){I("close",J.Ad.trackers.tracker);ar();ad("AdStopped")}else{E("Ad is currently idle, ignoring stopAd()")}};S=function(aI,aK,aJ){if(typeof aK!=="string"||typeof aI!=="function"){return}if(!ab[aK]){ab[aK]=[]}ab[aK].push({fn:aI,listenerScope:aJ})};aq=function(){if(!window||window===null){V.error("Ad unit has been removed");at="removed";aC=false;N("Ad unit has been removed");return}if(!window.parent||!Object){at="dead";aC=false;return}if(!O){if(au.duration>0&&au.currentTime<1){V.debug("Media has started");O=true}else{V.debug("Media not yet started (currentTime="+au.currentTime+" durantion="+au.duration+")");return}}au.controls=false;if(at!=="playing"&&!L&&au.currentTime>0){V.debug("Handling impression at currentTime = ",au.currentTime);ah()}if(au.currentTime>0&&au.duration>0){P.adRemainingTime=Math.ceil(au.duration-au.currentTime);if(P.adDuration!==Math.ceil(au.duration)){P.adDuration=Math.ceil(au.duration);ad("AdDurationChange")}}if(at==="playing"&&!au.seeking&&!au.paused){if(au.currentTime>=au.duration/4&&au.currentTime<au.duration/2&&r===0){r+=1;I("view",J.Ad.trackers.tracker,"25");ad("AdVideoFirstQuartile")}if(au.currentTime>=au.duration/2&&au.currentTime<3*au.duration/4&&r===1){r+=1;I("view",J.Ad.trackers.tracker,"50");ad("AdVideoMidpoint")}if(au.currentTime>=3*au.duration/4&&au.currentTime<au.duration&&r===2){r+=1;I("view",J.Ad.trackers.tracker,"75");ad("AdVideoThirdQuartile")}if((au.duration-au.currentTime)<0.015){window.setTimeout(function(){s()},15)}}};I=function(aL,aK,aM){var aJ,aI=[];if(typeof aL==="string"&&Array.isArray(aK)){V.each(aK,function(aN){if(aN["@type"]===aL&&Array.isArray(aN.url)&&(aM===undefined||aN["@value"]===aM)){V.each(aN.url,function(aO){try{aJ=document.createElement("img");aJ.style.display="none";aJ.width=1;aJ.height=1;aJ.src=aO;document.body.appendChild(aJ);V.log("Firing "+aL+(aM||"")+" tracker:",aO)}catch(aP){}})}})}};aA=function(aI,aJ){if(typeof aJ!=="string"||typeof aI!=="function"){return}V.each(ab[aJ],function(aK,aL){if(aK.fn===aI){ab[aJ].splice(aL,1)}})};g=function(){if(ak("android")){return{unsupported:(ak("android")<2.1),trigger:"Android < 2.1"}}return{unsupported:false}};aw=function(){if(au.muted||au.volume<=0){P.adVolume=0;z=true}else{P.adVolume=au.volume}};d=function(){if(aF.document.fullScreen||aF.document.webkitIsFullScreen||aF.document.mozFullScreen){y="fullscreen"}if(u!==y){if(J.Ad){if(y==="fullscreen"){I("fullscreen",J.Ad.trackers.tracker)}else{if(J.ViewMode==="fullscreen"){I("leaveFullscreen",J.Ad.trackers.tracker)}}}u=y;return true}return false};Object.defineProperties(V,{subscribe:{value:function(aI,aK,aJ){return S(aI,aK,aJ)}},unsubscribe:{value:function(aI,aJ){return aA(aI,aJ)}},initAd:{value:function(aL,aI,aJ,aK,aN,aM){return af(aL,aI,aJ,aK,aN,aM)}},startAd:{value:function(){return Q()}},stopAd:{value:function(){return F()}},skipAd:{value:function(){aD()}},pauseAd:{value:function(){ax()}},resumeAd:{value:function(){aj()}},resizeAd:{value:function(aK,aI,aJ){A(aK,aI,aJ)}},expandAd:{value:function(){}},collapseAd:{value:function(){}},handshakeVersion:{value:function(aI){return C(aI)}}});V.log("Loading LiveRail.CompanionManager");aG=document.createElement("script");aG.src="http://cdn-static.liverail.com/js/LiveRail.CompanionManager-1.0.js";document.head.appendChild(aG);K();V.es5.Object.freeze(V);return V}}());(function(){LiveRail.AdManager.RTBHandler=function(){var d,b,f,i,h,c,e,a,j,g;i=LiveRail.AdManager.framework.descendent("RTBHandler");h="http://";if(window.location.protocol==="https:"){h="https://"}d=h+"ad4.liverail.com/";c={source:true,adslot:true,ad:true,tracker:true,url:true,companion:true};e=function(k){var m,l,n,p,o;if(arguments.length>0){l=[];m=Date.now()-b;o=k+" in "+m+"ms";if(arguments.length>1){o+=":";l.push(o);p=arguments.length;for(n=1;n<p;n+=1){l.push(arguments[n])}}else{l.push(o)}i.debug.apply(i,l)}b=Date.now();return m};a=function(o,m){var p,k,n,l;p="http://s3-static.liverail.com/config.txt?cb="+Date.now();if(window.location.protocol==="https:"){p="https://cdn-static-secure.liverail.com/config.txt"}k=window.setTimeout(function(){n=true;m()},1000);e();i.ajax({url:p,xhrFields:{withCredentials:false},success:function(r){var q;window.clearTimeout(k);e("Retrieved delivery mapping");if(!n){i.verbose(r);q=r.split("|");i.each(q,function(s){var t,u;if(s.length>0){t=s.split(";");if(t.length===2){u=t[1].split(",");i.each(u,function(v){if(v&&o&&v.toString()===o.toString()){l=h+t[0]}})}}});m(l)}},error:function(r,q){window.clearTimeout(k);i.error("Error retrieving delivery mapping:",r,q);if(!n){m()}}})};j=function(w,n,m,t){var q,v,o,s,u,l;s=[];u=[];o=[];q=0;v=0;function r(){var B=0,y,A,E,D,C;i.each(w,function(G,F){if(!G.url||G.url[0]===null||o[F]===true){i.each(G,function(I,H){if(H.substring(0,1)==="@"){if(I===null){n[H.substring(1)+B]=""}else{n[H.substring(1)+B]=I}}});if(o[F]===true){n["response"+B]=u[F][0];if(u[F].length>1){n["subresponse"+B]=[];i.each(u[F],function(H,I){if(I>0){n["subresponse"+B].push(H)}})}}B+=1}});n.LR_POSTXML=true;i.verbose("Requesting final ad source from LiveRail with parameters:",n);function z(){return 10*10}e();for(B=0;B<10000;B+=1){z()}f=e("JavaScript performance test completed");A=d;E=n;if(f<4){e();try{E=window.btoa(i.deflate(unescape(encodeURIComponent(i.urlSerialize(n)))));e("Deflated query string");A+="?compressed&encoded"}catch(x){i.error("Error compressing data object: "+x.message,x);A=d;E=n}}D=window.setTimeout(function(){C=true;t({code:"1112"})},n.LR_TIMEOUT_DELIVERY*1000);i.log("HTTP load, timeout="+n.LR_TIMEOUT_DELIVERY+"s url="+d);e();y=i.ajax({url:A,type:"POST",data:E,dataType:"xml",success:function(F){window.clearTimeout(D);e("Retrieved final ad source from LiveRail");m(i.xml2object(F,c))},error:function(G,F){window.clearTimeout(D);if(F==="parsererror"){t({code:"1201",message:"responseText("+G.responseText.length+" bytes)="+G.responseText});return}t({code:"1111",message:"status="+G.status+" statusText="+G.statusText+" errorStatus="+F})}})}function k(){v+=1;if(v>=q&&typeof m==="function"){l=true;r()}}function p(D,x,A,z,C){var F,y,G,B,E;F=window.setTimeout(function(){E=true;try{s[x].abort()}catch(H){}i.error("Ad source timed out after "+n.LR_TIMEOUT_ADSOURCE+"sec, url="+D);k()},n.LR_TIMEOUT_ADSOURCE*1000);if(typeof A!=="number"){A=0}if(!Array.isArray(z)){z=[]}i.log("HTTP load, count="+x+" timeout="+n.LR_TIMEOUT_ADSOURCE+"s url="+D);if(C===undefined){C=true}y=Date.now();s.push(i.ajax({url:D,type:"GET",dataType:"xml",xhrFields:{withCredentials:C},onloadstart:function(){y=Date.now()},onprogress:function(){if(!G){G=Date.now()-y}},success:function(M,K,N){var O,P,L,J,I,H;window.clearTimeout(F);if(!E&&!l){B=Date.now()-y;i.log("HTTP complete, status="+K+" count="+x+" latency="+(G/1000)+"s, duration="+(B/1000)+", url="+D);z.push(N.responseText);if(!M||typeof M.getElementsByTagName!=="function"){i.error("Ad source "+x+" has no valid XML, dropping ad source");k();return}O=M.getElementsByTagName("Ad")[0];if(!O){i.error("Ad source "+x+" has no Ad element, dropping ad source");k();return}P=O.getElementsByTagName("Wrapper")[0];if(P){L=P.getElementsByTagName("VASTAdTagURI")[0].textContent;A+=1;if(A<=n.LR_WRAPPER_LIMIT){i.log("* Found VASTWrapper.  Adding new ServerRequest URL="+L);p(L,A,z)}else{i.warn("Ad source "+x+" has exceeded the LR_WRAPPER_LIMIT of "+n.LR_WRAPPER_LIMIT+", dropping ad source");k()}}else{J={};i.each(n.LR_FORMAT.split(";"),function(Q){J[Q]=true});I=O.getElementsByTagName("MediaFile");i.verbose("Found "+I.length+" MediaFile elements in ad source "+x+":",I);i.each(I,function(R,Q){i.verbose("Examining MediaFile "+Q+":",R);if(H){return}if(R&&R.attributes&&R.attributes.type&&J[R.attributes.type.value]){i.verbose("Found valid MediaFile format: "+R.attributes.type.value);H=true}});u[x]=z;if(!H){i.error("Ad source "+x+" has no usable MediaFile elements, dropping ad source")}else{o[x]=true}k()}}},error:function(I,H){window.clearTimeout(F);if(!E){i.error("Error loading ad source:",H,", ajaxQuery=",I,", url="+D);if(H==="error"&&C){i.error("Possible CORS error, retrying ad call using withCredentials:false");p(D,x,A,z,false)}else{k()}}}}))}i.each(w,function(y,x){if(typeof y.url[0]==="string"&&y.url[0].length>0){q+=1;p(y.url[0],x)}});i.log("Received total of "+w.length+" Ad Sources of which "+q+" have a URL defined.")};g=function(k){var n,m,l,p,o;i.log("requestAd(",k,")");n={};if(typeof k==="object"&&typeof k.query==="object"){i.each(k.query,function(r,q){if(q.substring(0,3)==="LR_"){n[q]=r}})}n.LR_SCHEMA="liverail";m={LR_TIMEOUT_AUDIENCE:5,LR_TIMEOUT_DELIVERY:10,LR_TIMEOUT_ADSOURCE:10,LR_WRAPPER_LIMIT:3};i.each(m,function(q,s){var r;if(!n.hasOwnProperty(s)){r=parseInt(q,10);if(!isNaN(r)){n[s]=parseInt(q,10)}}});a(n.LR_PUBLISHER_ID,function(r){var q;q=function(){};if(typeof k.onerror==="function"){q=k.onerror}if(r){d=r}p=window.setTimeout(function(){o=true;try{l.abort()}catch(s){}q({code:"1102"})},n.LR_TIMEOUT_DELIVERY*1000);i.log("HTTP load, timeout="+n.LR_TIMEOUT_DELIVERY+"s url="+d);e();l=i.ajax({url:d,type:"POST",data:n,dataType:"xml",success:function(w,x,u){var t,s,v;window.clearTimeout(p);i.log("HTTP complete, status="+x+", url="+d);e("Retrieved ad sources from LiveRail");if(!o){t=i.xml2object(w,c);e("Parsed ad data",t);s=function(){};if(typeof k.onsuccess==="function"){s=k.onsuccess}v=function(A){var z;if(A.liverail&&A.liverail.ads&&A.liverail["@content"]==="ads"){s(A.liverail);return}if(A.liverail&&A.liverail["@content"]==="error"){q({code:"1203",message:A.liverail.message})}else{z="response="+A;try{z+=A.liverail?" response.liverail.content="+A.liverail["@content"]:" response.liverail="+A.liverail;z+=" responseNodes=";i.each(w.childNodes,function(C,B){z+="["+B+"]"+C.nodeName})}catch(y){}q({code:"1202",message:z+" responseText("+u.responseText.length+" bytes)="+u.responseText})}};if(t.liverail&&t.liverail["@content"]==="sources"){if(t.liverail.sources!==undefined&&Array.isArray(t.liverail.sources.source)&&t.liverail.sources.source.length>0){j(t.liverail.sources.source,n,function(y){v(y)},function(y){q(y)})}else{q({code:"1301"})}}else{v(t)}}},error:function(t,s){window.clearTimeout(p);if(!o){if(s==="parsererror"){q({code:"1201",message:"responseText("+t.responseText.length+" bytes)="+t.responseText});return}q({code:"1101",message:"status="+t.status+" statusText="+t.statusText})}}})})};Object.defineProperties(i,{request:{value:function(k){return g(k)}}});i.es5.Object.freeze(i);return i}}());(function(){LiveRail.AdManager.framework.deflate=function(D,bq){var i=32768;var Q=0;var by=1;var a2=2;var an=6;var bw=true;var aV=32768;var am=64;var k=1024*8;var B=2*i;var aR=3;var d=258;var aJ=16;var p=8192;var bv=13;if(p>aV){alert("error: zip_INBUFSIZ is too small")}if((i<<1)>(1<<aJ)){alert("error: zip_WSIZE is too large")}if(bv>aJ-1){alert("error: zip_HASH_BITS is too large")}if(bv<8||d!=258){alert("error: Code too clever")}var ap=p;var u=1<<bv;var av=u-1;var aj=i-1;var az=0;var aS=4096;var g=d+aR+1;var bi=i-g;var aK=1;var aa=15;var h=7;var bs=29;var T=256;var bg=256;var aB=T+1+bs;var a0=30;var e=19;var r=16;var aE=17;var Y=18;var bh=2*aB+1;var br=parseInt((bv+aR-1)/aR);var ao;var ah,ad;var f;var bA=null;var bC,aD;var bd;var aA;var a;var bc;var w;var ax;var E;var n;var bD;var ab;var aO;var aN;var ag;var V;var a8;var aC;var y;var A;var P;var bm;var a5;var q;var K;var b;var N;var aT;var bn;var ae;var aI;var aM;var ai;var ay;var al;var z;var bE;var L;var o;var m;var bB;var H;var a9;var aU;var U;var aP;var bl;var aY;var a4;var J;var bj;var bF;var aZ=function(){this.fc=0;this.dl=0};var aQ=function(){this.dyn_tree=null;this.static_tree=null;this.extra_bits=null;this.extra_base=0;this.elems=0;this.max_length=0;this.max_code=0};var be=function(bH,bG,bJ,bI){this.good_length=bH;this.max_lazy=bG;this.nice_length=bJ;this.max_chain=bI};var ba=function(){this.next=null;this.len=0;this.ptr=new Array(k);this.off=0};var a1=new Array(0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0);var bx=new Array(0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13);var aL=new Array(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7);var v=new Array(16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15);var bt=new Array(new be(0,0,0,0),new be(4,4,8,4),new be(4,5,16,8),new be(4,6,32,32),new be(4,4,16,16),new be(8,16,32,32),new be(8,16,128,128),new be(8,32,128,256),new be(32,128,258,1024),new be(32,258,258,4096));var c=function(bH){var bG;if(!bH){bH=an}else{if(bH<1){bH=1}else{if(bH>9){bH=9}}}a5=bH;f=false;y=false;if(bA!=null){return}ao=ah=ad=null;bA=new Array(k);aA=new Array(B);a=new Array(ap);bc=new Array(aV+am);w=new Array(1<<aJ);b=new Array(bh);for(bG=0;bG<bh;bG++){b[bG]=new aZ()}N=new Array(2*a0+1);for(bG=0;bG<2*a0+1;bG++){N[bG]=new aZ()}aT=new Array(aB+2);for(bG=0;bG<aB+2;bG++){aT[bG]=new aZ()}bn=new Array(a0);for(bG=0;bG<a0;bG++){bn[bG]=new aZ()}ae=new Array(2*e+1);for(bG=0;bG<2*e+1;bG++){ae[bG]=new aZ()}aI=new aQ();aM=new aQ();ai=new aQ();ay=new Array(aa+1);al=new Array(2*aB+1);L=new Array(2*aB+1);o=new Array(d-aR+1);m=new Array(512);bB=new Array(bs);H=new Array(a0);a9=new Array(parseInt(p/8))};var a7=function(){ao=ah=ad=null;bA=null;aA=null;a=null;bc=null;w=null;b=null;N=null;aT=null;bn=null;ae=null;aI=null;aM=null;ai=null;ay=null;al=null;L=null;o=null;m=null;bB=null;H=null;a9=null};var j=function(bG){bG.next=ao;ao=bG};var C=function(){var bG;if(ao!=null){bG=ao;ao=ao.next}else{bG=new ba()}bG.next=null;bG.len=bG.off=0;return bG};var G=function(bG){return w[i+bG]};var F=function(bG,bH){return w[i+bG]=bH};var a3=function(bG){bA[aD+bC++]=bG;if(aD+bC==k){at()}};var aq=function(bG){bG&=65535;if(aD+bC<k-2){bA[aD+bC++]=(bG&255);bA[aD+bC++]=(bG>>>8)}else{a3(bG&255);a3(bG>>>8)}};var au=function(){bD=((bD<<br)^(aA[a8+aR-1]&255))&av;ab=G(bD);w[a8&aj]=ab;F(bD,a8)};var O=function(bH,bG){R(bG[bH].fc,bG[bH].dl)};var I=function(bG){return(bG<256?m[bG]:m[256+(bG>>7)])&255};var aG=function(bH,bI,bG){return bH[bI].fc<bH[bG].fc||(bH[bI].fc==bH[bG].fc&&L[bI]<=L[bG])};var ac=function(bJ,bH,bI){var bG;for(bG=0;bG<bI&&bF<bj.length;bG++){bJ[bH+bG]=bj.charCodeAt(bF++)&255}return bG};var a6=function(){var bG;for(bG=0;bG<u;bG++){w[i+bG]=0}bm=bt[a5].max_lazy;q=bt[a5].good_length;if(!bw){K=bt[a5].nice_length}P=bt[a5].max_chain;a8=0;n=0;A=ac(aA,0,2*i);if(A<=0){y=true;A=0;return}y=false;while(A<g&&!y){ar()}bD=0;for(bG=0;bG<aR-1;bG++){bD=((bD<<br)^(aA[bG]&255))&av}};var S=function(bL){var bN=P;var bI=a8;var bJ;var bM;var bH=V;var bK=(a8>bi?a8-bi:az);var bG=a8+d;var bP=aA[bI+bH-1];var bO=aA[bI+bH];if(V>=q){bN>>=2}do{bJ=bL;if(aA[bJ+bH]!=bO||aA[bJ+bH-1]!=bP||aA[bJ]!=aA[bI]||aA[++bJ]!=aA[bI+1]){continue}bI+=2;bJ++;do{}while(aA[++bI]==aA[++bJ]&&aA[++bI]==aA[++bJ]&&aA[++bI]==aA[++bJ]&&aA[++bI]==aA[++bJ]&&aA[++bI]==aA[++bJ]&&aA[++bI]==aA[++bJ]&&aA[++bI]==aA[++bJ]&&aA[++bI]==aA[++bJ]&&bI<bG);bM=d-(bG-bI);bI=bG-d;if(bM>bH){aC=bL;bH=bM;if(bw){if(bM>=d){break}}else{if(bM>=K){break}}bP=aA[bI+bH-1];bO=aA[bI+bH]}}while((bL=w[bL&aj])>bK&&--bN!=0);return bH};var ar=function(){var bI,bG;var bH=B-A-a8;if(bH==-1){bH--}else{if(a8>=i+bi){for(bI=0;bI<i;bI++){aA[bI]=aA[bI+i]}aC-=i;a8-=i;n-=i;for(bI=0;bI<u;bI++){bG=G(bI);F(bI,bG>=i?bG-i:az)}for(bI=0;bI<i;bI++){bG=w[bI];w[bI]=(bG>=i?bG-i:az)}bH+=i}}if(!y){bI=ac(aA,a8+A,bH);if(bI<=0){y=true}else{A+=bI}}};var X=function(){while(A!=0&&ah==null){var bG;au();if(ab!=az&&a8-ab<=bi){ag=S(ab);if(ag>A){ag=A}}if(ag>=aR){bG=aH(a8-aC,ag-aR);A-=ag;if(ag<=bm){ag--;do{a8++;au()}while(--ag!=0);a8++}else{a8+=ag;ag=0;bD=aA[a8]&255;bD=((bD<<br)^(aA[a8+1]&255))&av}}else{bG=aH(0,aA[a8]&255);A--;a8++}if(bG){af(0);n=a8}while(A<g&&!y){ar()}}};var ak=function(){while(A!=0&&ah==null){au();V=ag;aO=aC;ag=aR-1;if(ab!=az&&V<bm&&a8-ab<=bi){ag=S(ab);if(ag>A){ag=A}if(ag==aR&&a8-aC>aS){ag--}}if(V>=aR&&ag<=V){var bG;bG=aH(a8-1-aO,V-aR);A-=V-1;V-=2;do{a8++;au()}while(--V!=0);aN=0;ag=aR-1;a8++;if(bG){af(0);n=a8}}else{if(aN!=0){if(aH(0,aA[a8-1]&255)){af(0);n=a8}a8++;A--}else{aN=1;a8++;A--}}while(A<g&&!y){ar()}}};var bu=function(){if(y){return}ax=0;E=0;bb();a6();ah=null;bC=0;aD=0;if(a5<=3){V=aR-1;ag=0}else{ag=aR-1;aN=0}bd=false};var M=function(bJ,bH,bG){var bI;if(!f){bu();f=true;if(A==0){bd=true;return 0}}if((bI=bz(bJ,bH,bG))==bG){return bG}if(bd){return bI}if(a5<=3){X()}else{ak()}if(A==0){if(aN!=0){aH(0,aA[a8-1]&255)}af(1);bd=true}return bI+bz(bJ,bI+bH,bG-bI)};var bz=function(bM,bK,bH){var bL,bI,bG;bL=0;while(ah!=null&&bL<bH){bI=bH-bL;if(bI>ah.len){bI=ah.len}for(bG=0;bG<bI;bG++){bM[bK+bL+bG]=ah.ptr[ah.off+bG]}ah.off+=bI;ah.len-=bI;bL+=bI;if(ah.len==0){var bJ;bJ=ah;ah=ah.next;j(bJ)}}if(bL==bH){return bL}if(aD<bC){bI=bH-bL;if(bI>bC-aD){bI=bC-aD}for(bG=0;bG<bI;bG++){bM[bK+bL+bG]=bA[aD+bG]}aD+=bI;bL+=bI;if(bC==aD){bC=aD=0}}return bL};var bb=function(){var bK;var bI;var bH;var bG;var bJ;if(bn[0].dl!=0){return}aI.dyn_tree=b;aI.static_tree=aT;aI.extra_bits=a1;aI.extra_base=T+1;aI.elems=aB;aI.max_length=aa;aI.max_code=0;aM.dyn_tree=N;aM.static_tree=bn;aM.extra_bits=bx;aM.extra_base=0;aM.elems=a0;aM.max_length=aa;aM.max_code=0;ai.dyn_tree=ae;ai.static_tree=null;ai.extra_bits=aL;ai.extra_base=0;ai.elems=e;ai.max_length=h;ai.max_code=0;bH=0;for(bG=0;bG<bs-1;bG++){bB[bG]=bH;for(bK=0;bK<(1<<a1[bG]);bK++){o[bH++]=bG}}o[bH-1]=bG;bJ=0;for(bG=0;bG<16;bG++){H[bG]=bJ;for(bK=0;bK<(1<<bx[bG]);bK++){m[bJ++]=bG}}bJ>>=7;for(;bG<a0;bG++){H[bG]=bJ<<7;for(bK=0;bK<(1<<(bx[bG]-7));bK++){m[256+bJ++]=bG}}for(bI=0;bI<=aa;bI++){ay[bI]=0}bK=0;while(bK<=143){aT[bK++].dl=8;ay[8]++}while(bK<=255){aT[bK++].dl=9;ay[9]++}while(bK<=279){aT[bK++].dl=7;ay[7]++}while(bK<=287){aT[bK++].dl=8;ay[8]++}aF(aT,aB+1);for(bK=0;bK<a0;bK++){bn[bK].dl=5;bn[bK].fc=x(bK,5)}bo()};var bo=function(){var bG;for(bG=0;bG<aB;bG++){b[bG].fc=0}for(bG=0;bG<a0;bG++){N[bG].fc=0}for(bG=0;bG<e;bG++){ae[bG].fc=0}b[bg].fc=1;a4=J=0;aU=U=aP=0;bl=0;aY=1};var Z=function(bG,bI){var bH=al[bI];var bJ=bI<<1;while(bJ<=z){if(bJ<z&&aG(bG,al[bJ+1],al[bJ])){bJ++}if(aG(bG,bH,al[bJ])){break}al[bI]=al[bJ];bI=bJ;bJ<<=1}al[bI]=bH};var aW=function(bO){var bT=bO.dyn_tree;var bJ=bO.extra_bits;var bG=bO.extra_base;var bP=bO.max_code;var bR=bO.max_length;var bS=bO.static_tree;var bM;var bH,bI;var bQ;var bL;var bN;var bK=0;for(bQ=0;bQ<=aa;bQ++){ay[bQ]=0}bT[al[bE]].dl=0;for(bM=bE+1;bM<bh;bM++){bH=al[bM];bQ=bT[bT[bH].dl].dl+1;if(bQ>bR){bQ=bR;bK++}bT[bH].dl=bQ;if(bH>bP){continue}ay[bQ]++;bL=0;if(bH>=bG){bL=bJ[bH-bG]}bN=bT[bH].fc;a4+=bN*(bQ+bL);if(bS!=null){J+=bN*(bS[bH].dl+bL)}}if(bK==0){return}do{bQ=bR-1;while(ay[bQ]==0){bQ--}ay[bQ]--;ay[bQ+1]+=2;ay[bR]--;bK-=2}while(bK>0);for(bQ=bR;bQ!=0;bQ--){bH=ay[bQ];while(bH!=0){bI=al[--bM];if(bI>bP){continue}if(bT[bI].dl!=bQ){a4+=(bQ-bT[bI].dl)*bT[bI].fc;bT[bI].fc=bQ}bH--}}};var aF=function(bH,bM){var bJ=new Array(aa+1);var bI=0;var bK;var bL;for(bK=1;bK<=aa;bK++){bI=((bI+ay[bK-1])<<1);bJ[bK]=bI}for(bL=0;bL<=bM;bL++){var bG=bH[bL].dl;if(bG==0){continue}bH[bL].fc=x(bJ[bG]++,bG)}};var bp=function(bL){var bO=bL.dyn_tree;var bN=bL.static_tree;var bG=bL.elems;var bH,bJ;var bM=-1;var bI=bG;z=0;bE=bh;for(bH=0;bH<bG;bH++){if(bO[bH].fc!=0){al[++z]=bM=bH;L[bH]=0}else{bO[bH].dl=0}}while(z<2){var bK=al[++z]=(bM<2?++bM:0);bO[bK].fc=1;L[bK]=0;a4--;if(bN!=null){J-=bN[bK].dl}}bL.max_code=bM;for(bH=z>>1;bH>=1;bH--){Z(bO,bH)}do{bH=al[aK];al[aK]=al[z--];Z(bO,aK);bJ=al[aK];al[--bE]=bH;al[--bE]=bJ;bO[bI].fc=bO[bH].fc+bO[bJ].fc;if(L[bH]>L[bJ]+1){L[bI]=L[bH]}else{L[bI]=L[bJ]+1}bO[bH].dl=bO[bJ].dl=bI;al[aK]=bI++;Z(bO,aK)}while(z>=2);al[--bE]=al[aK];aW(bL);aF(bO,bM)};var s=function(bO,bN){var bH;var bL=-1;var bG;var bJ=bO[0].dl;var bK=0;var bI=7;var bM=4;if(bJ==0){bI=138;bM=3}bO[bN+1].dl=65535;for(bH=0;bH<=bN;bH++){bG=bJ;bJ=bO[bH+1].dl;if(++bK<bI&&bG==bJ){continue}else{if(bK<bM){ae[bG].fc+=bK}else{if(bG!=0){if(bG!=bL){ae[bG].fc++}ae[r].fc++}else{if(bK<=10){ae[aE].fc++}else{ae[Y].fc++}}}}bK=0;bL=bG;if(bJ==0){bI=138;bM=3}else{if(bG==bJ){bI=6;bM=3}else{bI=7;bM=4}}}};var bk=function(bO,bN){var bH;var bL=-1;var bG;var bJ=bO[0].dl;var bK=0;var bI=7;var bM=4;if(bJ==0){bI=138;bM=3}for(bH=0;bH<=bN;bH++){bG=bJ;bJ=bO[bH+1].dl;if(++bK<bI&&bG==bJ){continue}else{if(bK<bM){do{O(bG,ae)}while(--bK!=0)}else{if(bG!=0){if(bG!=bL){O(bG,ae);bK--}O(r,ae);R(bK-3,2)}else{if(bK<=10){O(aE,ae);R(bK-3,3)}else{O(Y,ae);R(bK-11,7)}}}}bK=0;bL=bG;if(bJ==0){bI=138;bM=3}else{if(bG==bJ){bI=6;bM=3}else{bI=7;bM=4}}}};var t=function(){var bG;s(b,aI.max_code);s(N,aM.max_code);bp(ai);for(bG=e-1;bG>=3;bG--){if(ae[v[bG]].dl!=0){break}}a4+=3*(bG+1)+5+5+4;return bG};var l=function(bH,bG,bI){var bJ;R(bH-257,5);R(bG-1,5);R(bI-4,4);for(bJ=0;bJ<bI;bJ++){R(ae[v[bJ]].dl,3)}bk(b,bH-1);bk(N,bG-1)};var af=function(bG){var bI,bH;var bK;var bL;bL=a8-n;a9[aP]=bl;bp(aI);bp(aM);bK=t();bI=(a4+3+7)>>3;bH=(J+3+7)>>3;if(bH<=bI){bI=bH}if(bL+4<=bI&&n>=0){var bJ;R((Q<<1)+bG,3);aw();aq(bL);aq(~bL);for(bJ=0;bJ<bL;bJ++){a3(aA[n+bJ])}}else{if(bH==bI){R((by<<1)+bG,3);bf(aT,bn)}else{R((a2<<1)+bG,3);l(aI.max_code+1,aM.max_code+1,bK+1);bf(b,N)}}bo();if(bG!=0){aw()}};var aH=function(bK,bI){bc[aU++]=bI;if(bK==0){b[bI].fc++}else{bK--;b[o[bI]+T+1].fc++;N[I(bK)].fc++;a[U++]=bK;bl|=aY}aY<<=1;if((aU&7)==0){a9[aP++]=bl;bl=0;aY=1}if(a5>2&&(aU&4095)==0){var bG=aU*8;var bJ=a8-n;var bH;for(bH=0;bH<a0;bH++){bG+=N[bH].fc*(5+bx[bH])}bG>>=3;if(U<parseInt(aU/2)&&bG<parseInt(bJ/2)){return true}}return(aU==p-1||U==ap)};var bf=function(bM,bK){var bO;var bH;var bI=0;var bP=0;var bL=0;var bN=0;var bG;var bJ;if(aU!=0){do{if((bI&7)==0){bN=a9[bL++]}bH=bc[bI++]&255;if((bN&1)==0){O(bH,bM)}else{bG=o[bH];O(bG+T+1,bM);bJ=a1[bG];if(bJ!=0){bH-=bB[bG];R(bH,bJ)}bO=a[bP++];bG=I(bO);O(bG,bK);bJ=bx[bG];if(bJ!=0){bO-=H[bG];R(bO,bJ)}}bN>>=1}while(bI<aU)}O(bg,bM)};var aX=16;var R=function(bH,bG){if(E>aX-bG){ax|=(bH<<E);aq(ax);ax=(bH>>(aX-E));E+=bG-aX}else{ax|=bH<<E;E+=bG}};var x=function(bI,bG){var bH=0;do{bH|=bI&1;bI>>=1;bH<<=1}while(--bG>0);return bH>>1};var aw=function(){if(E>8){aq(ax)}else{if(E>0){a3(ax)}}ax=0;E=0};var at=function(){if(bC!=0){var bH,bG;bH=C();if(ah==null){ah=ad=bH}else{ad=ad.next=bH}bH.len=bC-aD;for(bG=0;bG<bH.len;bG++){bH.ptr[bG]=bA[aD+bG]}bC=aD=0}};var W=function(bK,bM){var bI,bH;bj=bK;bF=0;if(typeof bM=="undefined"){bM=an}c(bM);var bL=new Array(1024);var bJ=[];while((bI=M(bL,0,bL.length))>0){var bG=new Array(bI);for(bH=0;bH<bI;bH++){bG[bH]=String.fromCharCode(bL[bH])}bJ[bJ.length]=bG.join("")}bj=null;return bJ.join("")};return W(D,bq)};if(Object.freeze){Object.freeze(LiveRail.AdManager.framework.deflate)}}());