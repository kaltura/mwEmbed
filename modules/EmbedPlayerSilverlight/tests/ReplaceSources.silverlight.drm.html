<!DOCTYPE HTML>
<html>
<head>
<title>Embed Silverlight PlayReady DRM</title>
<script type="text/javascript" src="../../../tests/qunit/qunit-bootstrap.js"></script>
<script type="text/javascript" src="../../../mwEmbedLoader.php"></script>
<script type="text/javascript" src="../../../docs/js/doc-bootstrap.js"></script>

<!-- qunit-kaltura must come after qunit-bootstrap.js and after mwEmbedLoader.php and after any jsCallbackReady stuff-->
<script type="text/javascript" src="../../KalturaSupport/tests/resources/qunit-kaltura-bootstrap.js"></script>
</head>
<body>
<h2> Embed Silverlight, PlayReady DRM </h2>

<br />
<div id="kaltura_player" style="width:600px;height:360px;">
</div>
<script>
	mw.setConfig('EmbedPlayer.ReplaceSources', [{ 
		'type' : 'video/x-ms-wmv',
		'src' : 'http://web.sldrm.video.msn.com/d1/drm/ElephantsDream_WVC1_WMA9Pro_AES.wmv'
	}]);
	kWidget.embed({
		'targetId': 'kaltura_player',
		'wid': '_243342',
		'uiconf_id' : '5677072',
		'entry_id' : '1_cf0mmv3q',
		'flashvars':{}
	});
</script>
<form name="mediaselect">
<table border="0" cellpadding="8">
<tr>
<th align="center">Video/Audio Codec</th>
<th align="center">Delivery Method</th>
<th align="center">DRM State</th>
<td></th>
</tr>
<tr>
<td align="center">
<select name="mediafile">
<option value="0">VC-1 Advanced Profile (WVC1) + WMA Professional</option>
<option value="1">VC-1 Main Profile (WMV3) + WMA Standard</option>
<option value="2">Windows Media Video V8 (WMV2) + WMA Standard</option>
<option value="3">Windows Media Video V7 (WMV1) + WMA Standard</option>
<option value="4">WMA 10 Professional</option>
<option value="5">WMA 9.2 Standard</option>
</select>
</td>
<td>
<input type="radio" name="protocol" checked="checked"> Progressive download (IIS)
<br>
<input type="radio" name="protocol"> Streaming (WMS)
</td>
<td>
<input type="radio" name="drm" checked="checked"> PlayReady AES
<br>
<input type="radio" name="drm"> No DRM
</td>
<td>
<input type="button" name="loadbutton" onclick="loadmedia()" value="Load selected media!">
</td>
</tr>
</table>
</form>

<br><hr><br>
Currently playing:<br>
<br>
<font color="yellow">
<div id="currentURL">http://web.sldrm.video.msn.com/d1/drm/ElephantsDream_WVC1_WMA9Pro_AES.wmv</div>
</font>

</center>

<script type="text/javascript">
	function media_stop() {
		var plugin = document.getElementById("myPlugin");
		plugin.content.findName("media").stop();
	}
	function media_pause() {
		var plugin = document.getElementById("myPlugin");
		plugin.content.findName("media").pause();
	}
	function media_begin() {
		var plugin = document.getElementById("myPlugin");
		plugin.content.findName("media").play();
	}
	
	function loadmedia() {
		var plugin = document.getElementById("myPlugin");
		var prefix, suffix, mid;
		
		if (document.mediaselect.protocol[0].checked) 
			prefix = "http://web.sldrm.video.msn.com/d1/";
		else
			prefix = "mms://wms.sldrm.video.msn.com/a10068/o9/";
			
		if (document.mediaselect.drm[0].checked){
			suffix = "_AES";
			mid = "drm/";
		} else {
			suffix = "";
			mid = "clear/";
			}
		
		var mediastring = prefix + mid + MediaURL[parseInt(document.mediaselect.mediafile.value)] + suffix;
		
		if (parseInt(document.mediaselect.mediafile.value) < 4) mediastring += ".wmv"; else mediastring += ".wma";
		
		document.all["currentURL"].innerHTML = mediastring;
		
		plugin.content.findName("media").Source = mediastring;
	}
</script>

</body>
</html>