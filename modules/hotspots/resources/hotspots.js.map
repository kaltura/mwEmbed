{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///bundle.js","webpack:///webpack/bootstrap 19051c59dcb02195925f","webpack:///./components/Hotspot.tsx","webpack:///./utils/logger.ts","webpack:///./utils/hotspots-engine.ts","webpack:///./components/Stage.tsx","webpack:///./player-v2/plugin.tsx","webpack:///../node_modules/preact/dist/preact.min.js","webpack:///../node_modules/preact-cli/lib/lib/entry.js"],"names":["root","factory","exports","module","define","amd","a","i","self","this","modules","__webpack_require__","moduleId","installedModules","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","CUnC","__webpack_exports__","prepareUrl","url","match","enableLog","prefix","logPrefix","isEnabled","log","level","context","message","optionalParams","_i","arguments","length","console","apply","concat","scaleVideo","videoWidth","videoHeight","playerWidth","playerHeight","fLetterBox","result","width","height","left","top","scaleToTargetWidth","scaleX1","scaleY1","scaleX2","scaleY2","fScaleOnWidth","Math","abs","value","ChangeTypes","preact_min","__extends","extendStatics","b","setPrototypeOf","__proto__","Array","__","constructor","create","__assign","assign","t","defaultContainerStyles","position","display","boxSizing","outline","defaultButtonsStyles","appearance","border","verticalAlign","textAlign","cursor","wordBreak","textRendering","defaultProps","styles","Hotspot_Hotspot","_super","Hotspot","_this","state","disableClick","isReady","handleClick","hotspot","props","onClick","type","window","open","sendAnalytics","eventNumber","target","hotspotId","id","pauseVideo","e","componentDidMount","setState","_a","render","layout","label","visible","containerStyles","y","x","buttonStyles","style","components_Hotspot","NotifyEventTypes","hotspots_engine_HotspotsEngine","HotspotsEngine","hotspots","isFirstTime","hotspotsLayoutReady","lastHandledTime","lastHandledTimeIndex","nextTimeToHandle","hotspotsChanges","playerSize","videoSize","prepareHotspots","updateLayout","recalculateHotspotsLayout","createHotspotsSnapshot","_calculateLayout","scaleCalculation","rawLayout","relativeX","relativeY","relativeWidth","relativeHeight","_b","forEach","getSnapshot","time","timeIndex","findClosestLastIndexByTime","updateTime","currentTime","forceSnapshot","snapshot","userSeeked","hasChangesToHandle","closestChangeIndex","closestChangeTime","delta","createEmptyDelta","updateInternals","createHotspotsDelta","targetIndex","hotspotsCount","index","item","hotspotIndex","indexOf","cuePoint","Show","push","splice","newHotspots","removedHotspots","show","hide","isIndexOfLastChange","isIndexBeforeTheFirstChange","binarySearch","items","lo","hi","mid","floor","min","changes","closestIndex","changesLength","startTime","endTime","Hide","sort","Stage___extends","Stage___assign","Stage_Stage","Stage","engine","initialState","isLoading","getPlayerSize","getVideoSize","visibleHotspots","showHotspots","hasError","notify","event","Monitor","Seeked","syncVisibleHotspots","_handleCuepoints","error","handleResize","reset","loadCuePoints","renderHotspots","visualHotspot","map","hotspotData","key","getCurrentTime","hotspotsUpdate","visibleHotspots_1","hotspotsElements","components_Stage","plugin___assign","__rest","getOwnPropertySymbols","mw","$","toObject","jsonAsString","defaultValue","JSON","parse","isIpad","navigator","userAgent","isIphone","shouldEnableIphoneMode","pluginSupportEnabled","pluginSupportEnabledDefined","shouldInitializeInlineMode","playerConfig","inlineMode","vars","WEBKIT_PLAYS_INLINE_KEY","undefined","plugins","iphoneFullscreenSupport","inlineModeDefined","document","URL","kalturaIframePackageData","bind","embedPlayer","getConfig","supportPlayerConfig","kalturaPluginWrapper","PluginManager","add","KBaseComponent","extend","_root","_videoSize","_wasPlayed","stage","defaultConfig","parent","order","handleVideoSizeChange","getPlayer","evaluate","setup","enableIphoneFullscreen","setConfig","addBindings","sendNotification","getCuePoints","cuePoints","callback","getKalturaClient","doRequest","service","action","filter:entryIdEqual","kentryid","filter:objectType","filter:cuePointTypeEqual","filter:tagsLike","data","code","objects","reduce","acc","partnerData","schemaVersion","text","videoHolder","getVideoHolder","kanalonyPlugin","kAnalony","getKalturaConfig","enterFullscreenInIphone","manager","layoutBuilder","fullScreenManager","inFullScreen","doContextTargetFullscreen","restoreContextPlayer","_getCurrentTime","ref","jQuery","getComponent","$el","attr","css","KM04","r","E","W","children","pop","u","nodeName","attributes","S","vnode","slice","__d","A","debounceRendering","P","k","splitText","_componentConstructor","__n","toLowerCase","_","createElementNS","createElement","parentNode","removeChild","cssText","V","test","innerHTML","__html","replace","substring","addEventListener","f","removeEventListener","__l","removeAttribute","removeAttributeNS","setAttributeNS","setAttribute","className","D","afterMount","h","H","R","ownerSVGElement","j","appendChild","_component","nodeValue","createTextNode","replaceChild","__preactattr_","U","firstChild","nextSibling","v","dangerouslySetInnerHTML","g","childNodes","w","C","N","__k","trim","insertBefore","L","lastChild","previousSibling","I","T","__b","__x","__r","base","componentWillMount","componentWillReceiveProps","__c","__p","syncComponentUpdates","__s","shouldComponentUpdate","componentWillUpdate","getChildContext","M","__u","unshift","componentDidUpdate","afterUpdate","__h","beforeUnmount","componentWillUnmount","Promise","resolve","then","setTimeout","forceUpdate","cloneElement","Component","rerender","options","pwNi","_preact","interopDefault","body","firstElementChild","init","app"],"mappings":"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","file":"bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"pwNi\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"CUnC\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ../node_modules/preact/dist/preact.min.js\nvar preact_min = __webpack_require__(\"KM04\");\nvar preact_min_default = /*#__PURE__*/__webpack_require__.n(preact_min);\n\n// CONCATENATED MODULE: ./components/Hotspot.tsx\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\nvar defaultContainerStyles = {\n    position: 'absolute',\n    display: 'table',\n    boxSizing: 'border-box',\n    outline: 'none'\n};\nvar defaultButtonsStyles = {\n    position: 'relative',\n    width: '100%',\n    height: '100%',\n    appearance: 'none',\n    border: 'none',\n    display: 'table-cell',\n    verticalAlign: 'middle',\n    textAlign: 'center',\n    cursor: 'pointer',\n    wordBreak: 'break-all',\n    'textRendering': 'geometricPrecision'\n};\nvar defaultProps = {\n    styles: {}\n};\nfunction prepareUrl(url) {\n    if (!url.match(/^https?:\\/\\//i)) {\n        url = 'http://' + url;\n    }\n    return url;\n}\nvar Hotspot_Hotspot = /** @class */ (function (_super) {\n    __extends(Hotspot, _super);\n    function Hotspot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            disableClick: true,\n            isReady: false\n        };\n        _this.handleClick = function () {\n            var hotspot = _this.props.hotspot;\n            var disableClick = _this.state.disableClick;\n            if (!hotspot.onClick || disableClick) {\n                return;\n            }\n            switch (hotspot.onClick.type) {\n                case 'openUrl':\n                    {\n                        if (!hotspot.onClick.url) {\n                            return;\n                        }\n                        var url = prepareUrl(hotspot.onClick.url);\n                        window.open(url, '_top');\n                        _this.props.sendAnalytics({ eventNumber: 47, target: url, hotspotId: hotspot.id });\n                    }\n                    break;\n                case 'openUrlInNewTab':\n                    {\n                        if (!hotspot.onClick.url) {\n                            return;\n                        }\n                        _this.props.pauseVideo();\n                        var url = prepareUrl(hotspot.onClick.url);\n                        try {\n                            window.open(url, '_blank');\n                            _this.props.sendAnalytics({ eventNumber: 47, target: url, hotspotId: hotspot.id });\n                        }\n                        catch (e) {\n                            window.open(url, '_top');\n                        }\n                    }\n                    break;\n                default:\n                    break;\n            }\n        };\n        return _this;\n    }\n    Hotspot.prototype.componentDidMount = function () {\n        var hotspot = this.props.hotspot;\n        if (!hotspot || !hotspot.onClick) {\n            this.setState({\n                isReady: true\n            });\n            return;\n        }\n        var _a = hotspot.onClick, type = _a.type, url = _a.url;\n        var disableClick = (!type || !url || type.length == 0 || url.length === 0);\n        this.setState({\n            isReady: true,\n            disableClick: disableClick\n        });\n    };\n    Hotspot.prototype.render = function () {\n        var hotspot = this.props.hotspot;\n        var layout = hotspot.layout, label = hotspot.label;\n        var _a = this.state, isReady = _a.isReady, disableClick = _a.disableClick;\n        if (!isReady || !this.props.visible) {\n            return null;\n        }\n        var containerStyles = __assign({}, defaultContainerStyles, { top: layout.y, left: layout.x, height: layout.height, width: layout.width });\n        var buttonStyles = __assign({}, defaultButtonsStyles, hotspot.styles, { cursor: disableClick ? 'default' : 'pointer' });\n        return (Object(preact_min[\"h\"])(\"div\", { onClick: this.handleClick, style: containerStyles },\n            Object(preact_min[\"h\"])(\"div\", { style: buttonStyles }, label)));\n    };\n    Hotspot.defaultProps = defaultProps;\n    return Hotspot;\n}(preact_min[\"Component\"]));\n/* harmony default export */ var components_Hotspot = (Hotspot_Hotspot);\n\n// CONCATENATED MODULE: ./utils/logger.ts\nvar isEnabled = false;\nvar logPrefix = '';\nfunction enableLog(prefix) {\n    logPrefix = prefix || '';\n    isEnabled = true;\n}\nfunction log(level, context, message) {\n    var optionalParams = [];\n    for (var _i = 3; _i < arguments.length; _i++) {\n        optionalParams[_i - 3] = arguments[_i];\n    }\n    if (isEnabled) {\n        console[level].apply(console, [\"[\" + logPrefix + \"] [\" + level + \"]\" + (context ? \" [\" + context + \"]\" : '') + \" : \" + message].concat(optionalParams));\n    }\n}\n\n// CONCATENATED MODULE: ./utils/hotspots-engine.ts\n\nvar ChangeTypes;\n(function (ChangeTypes) {\n    ChangeTypes[\"Show\"] = \"show\";\n    ChangeTypes[\"Hide\"] = \"hide\";\n})(ChangeTypes || (ChangeTypes = {}));\nvar reasonableSeekThreshold = 2000;\nfunction scaleVideo(videoWidth, videoHeight, playerWidth, playerHeight, fLetterBox) {\n    var result = { width: 0, height: 0, left: 0, top: 0, scaleToTargetWidth: true };\n    if ((videoWidth <= 0) || (videoHeight <= 0) || (playerWidth <= 0) || (playerHeight <= 0)) {\n        return result;\n    }\n    // scale to the target width\n    var scaleX1 = playerWidth;\n    var scaleY1 = (videoHeight * playerWidth) / videoWidth;\n    // scale to the target height\n    var scaleX2 = (videoWidth * playerHeight) / videoHeight;\n    var scaleY2 = playerHeight;\n    // now figure out which one we should use\n    var fScaleOnWidth = (scaleX2 > playerWidth);\n    if (fScaleOnWidth) {\n        fScaleOnWidth = fLetterBox;\n    }\n    else {\n        fScaleOnWidth = !fLetterBox;\n    }\n    if (fScaleOnWidth) {\n        result.width = Math.abs(scaleX1);\n        result.height = Math.abs(scaleY1);\n        result.scaleToTargetWidth = true;\n    }\n    else {\n        result.width = Math.abs(scaleX2);\n        result.height = Math.abs(scaleY2);\n        result.scaleToTargetWidth = false;\n    }\n    result.left = Math.abs((playerWidth - result.width) / 2);\n    result.top = Math.abs((playerHeight - result.height) / 2);\n    return result;\n}\nvar hotspots_engine_HotspotsEngine = /** @class */ (function () {\n    function HotspotsEngine(hotspots) {\n        this.isFirstTime = true;\n        this.hotspotsLayoutReady = false;\n        this.lastHandledTime = null;\n        this.lastHandledTimeIndex = null;\n        this.nextTimeToHandle = null;\n        this.hotspotsChanges = [];\n        this.playerSize = null;\n        this.videoSize = null;\n        log('debug', 'ctor', 'executed');\n        this.hotspots = hotspots; // NOTICE: it is the responsability of this engine not to return hotspot without layout\n        this.prepareHotspots();\n    }\n    HotspotsEngine.prototype.updateLayout = function (playerSize, videoSize) {\n        this.videoSize = videoSize;\n        this.playerSize = playerSize;\n        this.recalculateHotspotsLayout();\n        return this.lastHandledTimeIndex ? this.createHotspotsSnapshot(this.lastHandledTimeIndex) : [];\n    };\n    HotspotsEngine.prototype._calculateLayout = function (hotspot, scaleCalculation) {\n        var rawLayout = hotspot.rawLayout;\n        return {\n            x: scaleCalculation.left + rawLayout.relativeX * scaleCalculation.width,\n            y: scaleCalculation.top + rawLayout.relativeY * scaleCalculation.height,\n            width: rawLayout.relativeWidth * scaleCalculation.width,\n            height: rawLayout.relativeHeight * scaleCalculation.height\n        };\n    };\n    HotspotsEngine.prototype.recalculateHotspotsLayout = function () {\n        var _this = this;\n        log('debug', 'recalculateHotspotsLayout', \"calculating hotspots layout based on video/player sizes\");\n        if (!this.playerSize || !this.videoSize) {\n            log('debug', 'recalculateHotspotsLayout', \"missing video/player sizes, hide all hotspots\");\n            this.hotspotsLayoutReady = false;\n            return;\n        }\n        var _a = this.playerSize, playerWidth = _a.width, playerHeight = _a.height;\n        var _b = this.videoSize, videoWidth = _b.width, videoHeight = _b.height;\n        var canCalcaulateLayout = playerWidth && playerHeight && videoWidth && videoHeight;\n        if (!canCalcaulateLayout) {\n            log('debug', 'recalculateHotspotsLayout', \"missing video/player sizes, hide all hotspots\");\n            this.hotspotsLayoutReady = false;\n            return;\n        }\n        var scaleCalculation = scaleVideo(videoWidth, videoHeight, playerWidth, playerHeight, true);\n        log('debug', 'recalculateHotspotsLayout', \"recalculate hotspots layout based on new sizes\", scaleCalculation);\n        (this.hotspots || []).forEach(function (hotspot) {\n            hotspot.layout = _this._calculateLayout(hotspot, scaleCalculation);\n        });\n        this.hotspotsLayoutReady = true;\n    };\n    HotspotsEngine.prototype.getSnapshot = function (time) {\n        var timeIndex = this.findClosestLastIndexByTime(time);\n        log('debug', 'getSnapshot', \"create snapshot based on time \" + time, { timeIndex: timeIndex });\n        return this.createHotspotsSnapshot(timeIndex);\n    };\n    HotspotsEngine.prototype.updateTime = function (currentTime, forceSnapshot) {\n        if (forceSnapshot === void 0) { forceSnapshot = false; }\n        var _a = this, isFirstTime = _a.isFirstTime, lastHandledTime = _a.lastHandledTime, nextTimeToHandle = _a.nextTimeToHandle;\n        if (this.hotspotsChanges.length === 0) {\n            if (isFirstTime) {\n                log('log', 'updateTime', \"hotspots list empty. will always return empty snapshot\");\n                this.isFirstTime = false;\n            }\n            return { snapshot: [] };\n        }\n        var userSeeked = !isFirstTime && lastHandledTime !== null && nextTimeToHandle !== null && (lastHandledTime > currentTime || (currentTime - nextTimeToHandle) > reasonableSeekThreshold);\n        var hasChangesToHandle = isFirstTime || (this.lastHandledTime !== null && this.lastHandledTime > currentTime) || (this.nextTimeToHandle != null && currentTime >= this.nextTimeToHandle);\n        var closestChangeIndex = this.findClosestLastIndexByTime(currentTime);\n        var closestChangeTime = closestChangeIndex < 0 ? 0 : this.hotspotsChanges[closestChangeIndex].time;\n        if (!hasChangesToHandle) {\n            // log('log', 'updateTime', `new time is between handled time and next time to handle, assume no delta`);\n            if (forceSnapshot) {\n                return { snapshot: this.createHotspotsSnapshot(closestChangeIndex) };\n            }\n            return { delta: this.createEmptyDelta() };\n        }\n        log('debug', 'updateTime', \"has changes to handle. check if need to return snapshot instead of delta based on provided new time\", { currentTime: currentTime, closestChangeIndex: closestChangeIndex, closestChangeTime: closestChangeTime, lastHandledTime: lastHandledTime, nextTimeToHandle: nextTimeToHandle, isFirstTime: isFirstTime });\n        if (isFirstTime || forceSnapshot || userSeeked) {\n            log('debug', 'updateTime', \"some conditions doesn't allow returning delta, return snapshot instead\", { isFirstTime: isFirstTime, userSeeked: userSeeked, forceSnapshot: forceSnapshot });\n            var snapshot = this.createHotspotsSnapshot(closestChangeIndex);\n            this.updateInternals(closestChangeTime, closestChangeIndex);\n            return { snapshot: snapshot };\n        }\n        var delta = this.createHotspotsDelta(closestChangeIndex);\n        this.updateInternals(closestChangeTime, closestChangeIndex);\n        return { delta: delta };\n    };\n    HotspotsEngine.prototype.createHotspotsSnapshot = function (targetIndex) {\n        if (!this.hotspotsLayoutReady || targetIndex < 0 || !this.hotspotsChanges || this.hotspotsChanges.length === 0) {\n            log('log', 'createHotspotsSnapshot', \"resulted with empty snapshot\", {\n                targetIndex: targetIndex,\n                hotspotsLayoutReady: this.hotspotsLayoutReady,\n                hotspotsCount: (this.hotspotsChanges || []).length\n            });\n            return [];\n        }\n        var snapshot = [];\n        for (var index = 0; index <= targetIndex; index++) {\n            var item = this.hotspotsChanges[index];\n            var hotspotIndex = snapshot.indexOf(item.cuePoint);\n            if (item.type === ChangeTypes.Show) {\n                if (hotspotIndex === -1) {\n                    snapshot.push(item.cuePoint);\n                }\n            }\n            else {\n                if (hotspotIndex !== -1) {\n                    snapshot.splice(hotspotIndex, 1);\n                }\n            }\n        }\n        log('log', 'createHotspotsSnapshot', 'resulted snapshot', { snapshot: snapshot });\n        return snapshot;\n    };\n    HotspotsEngine.prototype.createHotspotsDelta = function (targetIndex) {\n        if (!this.hotspotsLayoutReady || !this.hotspotsChanges || this.hotspotsChanges.length === 0) {\n            log('log', 'createHotspotsDelta', \"resulted with empty delta\", {\n                hotspotsLayoutReady: this.hotspotsLayoutReady,\n                hotspotsCount: (this.hotspotsChanges || []).length\n            });\n            return this.createEmptyDelta();\n        }\n        var lastHandledTimeIndex = this.lastHandledTimeIndex;\n        if (lastHandledTimeIndex === null) {\n            log('log', 'createHotspotsDelta', \"invalid internal state. resulted with empty delta\");\n            return this.createEmptyDelta();\n        }\n        var newHotspots = [];\n        var removedHotspots = [];\n        log('log', 'createHotspotsDelta', \"find hotspots that were added or removed\");\n        for (var index = lastHandledTimeIndex + 1; index <= targetIndex; index++) {\n            var item = this.hotspotsChanges[index];\n            var hotspotIndex = newHotspots.indexOf(item.cuePoint);\n            if (item.type === ChangeTypes.Show) {\n                if (hotspotIndex === -1) {\n                    newHotspots.push(item.cuePoint);\n                }\n            }\n            else {\n                if (hotspotIndex !== -1) {\n                    log('log', 'createHotspotsDelta', \"hotspot was marked with type \" + item.type + \" at \" + item.time + \". remove from new hotspots list as it wasn't visible yet\", { hotspot: item.cuePoint });\n                    newHotspots.splice(hotspotIndex, 1);\n                }\n                else if (removedHotspots.indexOf(item.cuePoint) === -1) {\n                    log('log', 'createHotspotsDelta', \"hotspot was marked with type \" + item.type + \" at \" + item.time + \". add to removed hotspots list\", { hotspot: item.cuePoint });\n                    removedHotspots.push(item.cuePoint);\n                }\n            }\n        }\n        log('log', 'createHotspotsDelta', 'resulted delta', { newHotspots: newHotspots, removedHotspots: removedHotspots });\n        return { show: newHotspots, hide: removedHotspots };\n    };\n    HotspotsEngine.prototype.updateInternals = function (time, timeIndex) {\n        var hotspotsChanges = this.hotspotsChanges;\n        if (!hotspotsChanges || hotspotsChanges.length === 0) {\n            return;\n        }\n        var isIndexOfLastChange = timeIndex >= hotspotsChanges.length - 1;\n        var isIndexBeforeTheFirstChange = timeIndex === null;\n        this.lastHandledTime = time;\n        this.lastHandledTimeIndex = timeIndex;\n        this.nextTimeToHandle = isIndexBeforeTheFirstChange ? hotspotsChanges[0].time :\n            isIndexOfLastChange ? hotspotsChanges[hotspotsChanges.length - 1].time :\n                hotspotsChanges[timeIndex + 1].time;\n        this.isFirstTime = false;\n        log('debug', 'updateInternals', \"update inner state with new time and index\", {\n            lastHandledTime: this.lastHandledTime,\n            lastHandledTimeIndex: this.lastHandledTimeIndex,\n            nextTimeToHandle: this.nextTimeToHandle\n        });\n    };\n    HotspotsEngine.prototype.createEmptyDelta = function () {\n        return { show: [], hide: [] };\n    };\n    HotspotsEngine.prototype.binarySearch = function (items, value) {\n        if (!items || items.length === 0) {\n            // empty array, no index to return\n            return null;\n        }\n        if (value < items[0].time) {\n            // value less then the first item. return -1\n            return -1;\n        }\n        if (value > items[items.length - 1].time) {\n            // value bigger then the last item, return last item index\n            return items.length - 1;\n        }\n        var lo = 0;\n        var hi = items.length - 1;\n        while (lo <= hi) {\n            var mid = Math.floor((hi + lo + 1) / 2);\n            if (value < items[mid].time) {\n                hi = mid - 1;\n            }\n            else if (value > items[mid].time) {\n                lo = mid + 1;\n            }\n            else {\n                return mid;\n            }\n        }\n        return Math.min(lo, hi); // return the lowest index which represent the last visual item\n    };\n    HotspotsEngine.prototype.findClosestLastIndexByTime = function (time) {\n        var changes = this.hotspotsChanges;\n        var closestIndex = this.binarySearch(changes, time);\n        if (closestIndex === null) {\n            return -1;\n        }\n        var changesLength = changes.length;\n        while (closestIndex < changesLength - 1 && changes[closestIndex + 1].time === time) {\n            closestIndex++;\n        }\n        return closestIndex;\n    };\n    HotspotsEngine.prototype.prepareHotspots = function () {\n        var _this = this;\n        (this.hotspots || []).forEach(function (hotspot) {\n            if (hotspot.startTime !== null && typeof hotspot.startTime !== 'undefined' && hotspot.startTime >= 0) {\n                _this.hotspotsChanges.push({\n                    time: hotspot.startTime,\n                    type: ChangeTypes.Show,\n                    cuePoint: hotspot // NOTICE: it is the responsability of this engine not to return hotspot without layout\n                });\n            }\n            if (hotspot.endTime !== null && typeof hotspot.endTime !== 'undefined' && hotspot.endTime >= 0) {\n                _this.hotspotsChanges.push({\n                    time: hotspot.endTime,\n                    type: ChangeTypes.Hide,\n                    cuePoint: hotspot // NOTICE: it is the responsability of this engine not to return hotspot without layout\n                });\n            }\n        });\n        this.hotspotsChanges.sort(function (a, b) {\n            return a.time < b.time ? -1 : a.time === b.time ? 0 : 1;\n        });\n        log('debug', 'prepareHotspots', \"tracking \" + this.hotspotsChanges.length + \" changes\", this.hotspotsChanges);\n    };\n    return HotspotsEngine;\n}());\n\n\n// CONCATENATED MODULE: ./components/Stage.tsx\nvar Stage___extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar Stage___assign = (this && this.__assign) || function () {\n    Stage___assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return Stage___assign.apply(this, arguments);\n};\n\n\n\n\nvar NotifyEventTypes;\n(function (NotifyEventTypes) {\n    NotifyEventTypes[\"Monitor\"] = \"monitor\";\n    NotifyEventTypes[\"Seeked\"] = \"seeked\";\n})(NotifyEventTypes || (NotifyEventTypes = {}));\nvar PlayerUpdateEvent = \"updatePlayHeadPercent:hotspots\";\nvar Stage_Stage = /** @class */ (function (_super) {\n    Stage___extends(Stage, _super);\n    function Stage() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.engine = null;\n        _this.initialState = {\n            isLoading: false,\n            playerSize: _this.props.getPlayerSize(),\n            videoSize: _this.props.getVideoSize(),\n            visibleHotspots: [],\n            showHotspots: false,\n            hasError: false\n        };\n        _this.state = Stage___assign({}, _this.initialState);\n        _this.showHotspots = function () {\n            _this.setState({\n                showHotspots: true\n            });\n        };\n        _this.notify = function (event) {\n            switch (event.type) {\n                case NotifyEventTypes.Monitor:\n                case NotifyEventTypes.Seeked:\n                    _this.syncVisibleHotspots();\n                    break;\n                default:\n                    break;\n            }\n        };\n        _this._handleCuepoints = function (result) {\n            var hotspots = result.hotspots, error = result.error;\n            if (error || !hotspots) {\n                log('error', '_handleCuepoints', 'failed to load cuepoints', { error: error ? error.message : 'missing hotspots array' });\n                _this.setState({\n                    isLoading: false,\n                    hasError: true,\n                });\n                return;\n            }\n            _this.engine = new hotspots_engine_HotspotsEngine(hotspots);\n            _this.engine.updateLayout(_this.state.playerSize, _this.state.videoSize);\n            _this.setState({\n                isLoading: false,\n                hasError: false,\n                visibleHotspots: []\n            }, function () {\n                _this.syncVisibleHotspots();\n            });\n        };\n        _this.handleResize = function () {\n            var _a = _this.props, getPlayerSize = _a.getPlayerSize, getVideoSize = _a.getVideoSize;\n            _this.setState({\n                playerSize: getPlayerSize(),\n                videoSize: getVideoSize()\n            }, function () {\n                if (_this.engine) {\n                    _this.engine.updateLayout(_this.state.playerSize, _this.state.videoSize);\n                    _this.syncVisibleHotspots(true);\n                }\n            });\n        };\n        _this.reset = function () {\n            _this.engine = null;\n            _this.setState(Stage___assign({}, _this.initialState), function () {\n                _this.props.loadCuePoints(_this._handleCuepoints);\n            });\n        };\n        _this.renderHotspots = function (visualHotspot) {\n            if (!visualHotspot) {\n                return null;\n            }\n            var _a = _this.props, pauseVideo = _a.pauseVideo, sendAnalytics = _a.sendAnalytics;\n            return visualHotspot.map(function (hotspotData) { return (Object(preact_min[\"h\"])(components_Hotspot, { pauseVideo: pauseVideo, key: hotspotData.id, visible: true, hotspot: hotspotData, sendAnalytics: sendAnalytics })); });\n        };\n        return _this;\n    }\n    Stage.prototype.componentDidMount = function () {\n        this.reset();\n    };\n    Stage.prototype.syncVisibleHotspots = function (forceSnapshot) {\n        var _this = this;\n        if (forceSnapshot === void 0) { forceSnapshot = false; }\n        var getCurrentTime = this.props.getCurrentTime;\n        this.setState(function (state) {\n            if (!_this.engine) {\n                return {\n                    visibleHotspots: []\n                };\n            }\n            var hotspotsUpdate = _this.engine.updateTime(getCurrentTime(), forceSnapshot);\n            if (hotspotsUpdate.snapshot) {\n                return {\n                    visibleHotspots: hotspotsUpdate.snapshot\n                };\n            }\n            if (!hotspotsUpdate.delta) {\n                return {\n                    visibleHotspots: []\n                };\n            }\n            var _a = hotspotsUpdate.delta, show = _a.show, hide = _a.hide;\n            if (show.length !== 0 || hide.length !== 0) {\n                var visibleHotspots_1 = state.visibleHotspots;\n                show.forEach(function (hotspot) {\n                    var index = visibleHotspots_1.indexOf(hotspot);\n                    if (index === -1) {\n                        visibleHotspots_1.push(hotspot);\n                    }\n                });\n                hide.forEach(function (hotspot) {\n                    var index = visibleHotspots_1.indexOf(hotspot);\n                    if (index !== -1) {\n                        visibleHotspots_1.splice(index, 1);\n                    }\n                });\n                return {\n                    visibleHotspots: visibleHotspots_1\n                };\n            }\n        });\n    };\n    Stage.prototype.render = function () {\n        var _a = this.state, visibleHotspots = _a.visibleHotspots, showHotspots = _a.showHotspots;\n        var hotspotsElements = showHotspots ? this.renderHotspots(visibleHotspots) : null;\n        var style = {\n            position: 'absolute',\n            display: 'block'\n        };\n        return (Object(preact_min[\"h\"])(\"div\", { style: style }, hotspotsElements));\n    };\n    return Stage;\n}(preact_min[\"Component\"]));\n/* harmony default export */ var components_Stage = (Stage_Stage);\n\n// CONCATENATED MODULE: ./player-v2/plugin.tsx\nvar plugin___assign = (this && this.__assign) || function () {\n    plugin___assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return plugin___assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\n//let poly = require(\"preact-cli/lib/lib/webpack/polyfills\");\n\n\n\n(function (mw, $) {\n    function toObject(jsonAsString, defaultValue) {\n        if (defaultValue === void 0) { defaultValue = {}; }\n        if (!jsonAsString) {\n            return defaultValue;\n        }\n        try {\n            return { result: JSON.parse(jsonAsString) };\n        }\n        catch (e) {\n            return { error: e };\n        }\n    }\n    (function shouldEnableLogs() {\n        try {\n            if (document.URL.indexOf(\"debugKalturaPlayer\") !== -1) {\n                enableLog(\"hotspots\");\n            }\n        }\n        catch (e) {\n            // do nothing\n        }\n    })();\n    var WEBKIT_PLAYS_INLINE_KEY = \"EmbedPlayer.WebKitPlaysInline\";\n    function isIpad() {\n        return navigator.userAgent.indexOf(\"iPad\") != -1;\n    }\n    function isIphone() {\n        return navigator.userAgent.indexOf(\"iPhone\") != -1 && !isIpad();\n    }\n    function shouldEnableIphoneMode(pluginSupportEnabled) {\n        var pluginSupportEnabledDefined = typeof pluginSupportEnabled !== \"undefined\";\n        if (!isIphone() ||\n            (pluginSupportEnabledDefined && !pluginSupportEnabled)) {\n            return false;\n        }\n        return true;\n    }\n    function shouldInitializeInlineMode(playerConfig) {\n        // @ts-ignore\n        var inlineMode = playerConfig && playerConfig.vars ? playerConfig.vars[WEBKIT_PLAYS_INLINE_KEY] : undefined;\n        var pluginSupportEnabled = playerConfig && playerConfig.plugins && playerConfig.plugins.hotspots ? playerConfig.plugins.hotspots.iphoneFullscreenSupport : undefined;\n        var inlineModeDefined = typeof inlineMode !== \"undefined\";\n        var result = !inlineModeDefined && shouldEnableIphoneMode(pluginSupportEnabled);\n        log(\"debug\", \"shouldInitializeInlineMode\", \"check conditions needed to setup environment\", {\n            inlineMode: inlineMode,\n            inlineModeDefined: inlineModeDefined,\n            pluginSupportEnabled: pluginSupportEnabled,\n            isIphone: isIphone(),\n            result: result\n        });\n        return result;\n    }\n    (function setupIphoneEnvironment() {\n        try {\n            // @ts-ignore\n            var playerConfig = window.kalturaIframePackageData.playerConfig;\n            if (!shouldInitializeInlineMode(playerConfig)) {\n                log(\"log\", \"setupIphoneEnvironment\", \"setup iphone environment is aborted by configuration (either iphone not detected, inline flag is already set or explicitly configured not to handle iphone fullscreen by plugin configuration)\");\n                return;\n            }\n            log(\"log\", \"setupIphoneEnvironment\", \"modify window.kalturaIframePackageData.playerConfig to use inline fullscreen\");\n            playerConfig.vars[WEBKIT_PLAYS_INLINE_KEY] = true;\n        }\n        catch (e) {\n            log(\"error\", \"setupIphoneEnvironment\", \"failed to setup iphone environment with error \" + e.message);\n        }\n    })();\n    $(mw).bind('EmbedPlayerNewPlayer', function (event, embedPlayer) {\n        try {\n            if (embedPlayer.playerConfig) {\n                if (!shouldInitializeInlineMode(embedPlayer.playerConfig)) {\n                    log(\"log\", \"mw.bind('EmbedPlayerNewPlayer')\", \"setup iphone environment is aborted by configuration (either iphone not detected, inline flag is already set or explicitly configured not to handle iphone fullscreen by plugin configuration)\");\n                    return;\n                }\n                log(\"log\", \"mw.bind('EmbedPlayerNewPlayer')\", \"modify embedPlayer.playerConfig to use inline fullscreen\");\n                embedPlayer.playerConfig.vars[WEBKIT_PLAYS_INLINE_KEY] = true;\n            }\n            else if (mw.getConfig('KalturaSupport.PlayerConfig')) {\n                var supportPlayerConfig = mw.getConfig('KalturaSupport.PlayerConfig');\n                if (!shouldInitializeInlineMode(supportPlayerConfig)) {\n                    log(\"log\", \"mw.bind('EmbedPlayerNewPlayer')\", \"setup iphone environment is aborted by configuration (either iphone not detected, inline flag is already set or explicitly configured not to handle iphone fullscreen by plugin configuration)\");\n                    return;\n                }\n                log(\"log\", \"mw.bind('EmbedPlayerNewPlayer')\", \"modify mw.getConfig('KalturaSupport.PlayerConfig') to use inline fullscreen\");\n                supportPlayerConfig.vars[WEBKIT_PLAYS_INLINE_KEY] = true;\n            }\n        }\n        catch (e) {\n            log(\"error\", \"mw.bind('EmbedPlayerNewPlayer')\", \"failed to setup iphone environment with error \" + e.message);\n        }\n    });\n    mw.kalturaPluginWrapper(function () {\n        mw.PluginManager.add(\"hotspots\", mw.KBaseComponent.extend({\n            _root: null,\n            _videoSize: null,\n            _wasPlayed: false,\n            stage: null,\n            defaultConfig: {\n                parent: \"videoHolder\",\n                iphoneFullscreenSupport: undefined,\n                order: 1\n            },\n            handleVideoSizeChange: function (e) {\n                var _a = this.getPlayer().evaluate(\"{mediaProxy.entry}\"), width = _a.width, height = _a.height;\n                log(\"debug\", \"plugin.handleVideoSizeChange\", \"use entry size provided by player to calculate actual stage size\", { width: width, height: height });\n                if (!width || !height) {\n                    this._videoSize = null;\n                }\n                else {\n                    this._videoSize = { width: width, height: height };\n                }\n                this.stage.handleResize();\n            },\n            setup: function () {\n                if (this.enableIphoneFullscreen()) {\n                    log(\"log\", \"setup\", \"iphone detected, prevent native fullscreen and use inline player\");\n                    mw.setConfig(\"EmbedPlayer.ExternalFullScreenControl\", true);\n                }\n                this.addBindings();\n            },\n            pauseVideo: function () {\n                this.getPlayer().sendNotification(\"doPause\");\n            },\n            getCuePoints: function () {\n                return this.cuePoints;\n            },\n            loadCuePoints: function (callback) {\n                var _this = this;\n                // do the api request\n                this.getKalturaClient().doRequest({\n                    service: \"cuepoint_cuepoint\",\n                    action: \"list\",\n                    \"filter:entryIdEqual\": this.getPlayer().kentryid,\n                    \"filter:objectType\": \"KalturaCuePointFilter\",\n                    \"filter:cuePointTypeEqual\": \"annotation.Annotation\",\n                    \"filter:tagsLike\": \"hotspots\"\n                }, function (data) {\n                    // if an error pop out:\n                    var hasError = !data || data.code;\n                    if (hasError) {\n                        callback({\n                            error: { message: data.code || \"failure\" }\n                        });\n                    }\n                    else {\n                        var hotspots = [];\n                        (data.objects || []).reduce(function (acc, cuePoint) {\n                            var _a = toObject(cuePoint.partnerData), partnerData = _a.result, error = _a.error;\n                            if (!partnerData ||\n                                !partnerData.schemaVersion) {\n                                log(\"warn\", \"loadCuePoints\", \"annotation '\" + cuePoint.partnerData.id + \"' has no schema version, skip annotation\");\n                                return acc;\n                            }\n                            var rawLayout = plugin___assign({}, partnerData.layout);\n                            acc.push({\n                                id: cuePoint.id,\n                                startTime: cuePoint.startTime,\n                                endTime: cuePoint.endTime,\n                                label: cuePoint.text,\n                                styles: partnerData.styles,\n                                onClick: partnerData.onClick,\n                                rawLayout: rawLayout\n                            });\n                            return acc;\n                        }, hotspots);\n                        callback({ hotspots: hotspots });\n                    }\n                });\n            },\n            getPlayerSize: function () {\n                var videoHolder = this.getPlayer().getVideoHolder();\n                if (!videoHolder) {\n                    return null;\n                }\n                var width = videoHolder.width();\n                var height = videoHolder.height();\n                return {\n                    width: width,\n                    height: height\n                };\n            },\n            sendAnalytics: function (event) {\n                try {\n                    var kanalonyPlugin = this.getPlayer().plugins.kAnalony;\n                    if (!kanalonyPlugin) {\n                        log(\"warn\", \"sendAnalytics\", \"cannot send analytics event, missing kAnalony plugin\", event);\n                        return;\n                    }\n                    var eventNumber = event.eventNumber, rest = __rest(event, [\"eventNumber\"]);\n                    kanalonyPlugin.sendAnalytics(eventNumber, rest);\n                }\n                catch (e) {\n                    log(\"error\", \"sendAnalytics\", \"cannot send analytics event with error '\" + e.message + \"'\", event);\n                }\n            },\n            getVideoSize: function () {\n                if (!this._videoSize) {\n                    return null;\n                }\n                return plugin___assign({}, this._videoSize);\n            },\n            enableIphoneFullscreen: function () {\n                var pluginSupportEnabled = this.getConfig(\"iphoneFullscreenSupport\");\n                var inlineMode = this.embedPlayer.getKalturaConfig('', WEBKIT_PLAYS_INLINE_KEY);\n                var inlineModeDefined = typeof inlineMode !== 'undefined';\n                var result = shouldEnableIphoneMode(pluginSupportEnabled) && (!inlineModeDefined || inlineMode);\n                log('debug', 'plugin.enableIphoneFullscreen', \"check if iphone fullscreen is enabled resulted with \" + result, { inlineMode: inlineMode, inlineModeDefined: inlineModeDefined, pluginSupportEnabled: pluginSupportEnabled });\n                return result;\n            },\n            enterFullscreenInIphone: function () {\n                if (!this.enableIphoneFullscreen()) {\n                    return;\n                }\n                log(\"log\", \"plugin.addBindings[onToggleFullscreen]\", \"handle iphone fullscreen toggle manually\");\n                var manager = this.getPlayer().layoutBuilder\n                    .fullScreenManager;\n                if (!manager.inFullScreen) {\n                    manager.doContextTargetFullscreen();\n                    manager.inFullScreen = true;\n                    return;\n                }\n                manager.restoreContextPlayer();\n                manager.inFullScreen = false;\n            },\n            addBindings: function () {\n                var _this = this;\n                this.bind(\"onToggleFullscreen\", function () {\n                    _this.enterFullscreenInIphone();\n                });\n                this.bind(\"playerReady\", function () {\n                    var props = {\n                        getCurrentTime: _this._getCurrentTime.bind(_this),\n                        loadCuePoints: _this.loadCuePoints.bind(_this),\n                        getPlayerSize: _this.getPlayerSize.bind(_this),\n                        getVideoSize: _this.getVideoSize.bind(_this),\n                        pauseVideo: _this.pauseVideo.bind(_this),\n                        sendAnalytics: _this.sendAnalytics.bind(_this)\n                    };\n                    _this._root = Object(preact_min[\"render\"])(Object(preact_min[\"h\"])(components_Stage, plugin___assign({}, props, { ref: function (ref) { return (_this.stage = ref); } })), jQuery('[id=\"hotspotsOverlay\"]')[0]);\n                });\n                this.bind(\"updateLayout\", function () {\n                    _this.stage.handleResize();\n                });\n                this.bind(\"firstPlay\", function () {\n                    if (!_this._wasPlayed) {\n                        _this.stage.showHotspots();\n                        _this._wasPlayed = true;\n                    }\n                    _this.enterFullscreenInIphone();\n                });\n                this.bind(\"seeked\", function () {\n                    if (!_this._wasPlayed) {\n                        _this.stage.showHotspots();\n                        _this._wasPlayed = true;\n                    }\n                });\n                this.bind(\"onChangeMedia\", function () {\n                    // DEVELOPER NOTICE: this is the destruction place.\n                    _this._wasPlayed = false;\n                    _this._videoSize = null;\n                    Object(preact_min[\"render\"])(\n                    // @ts-ignore\n                    Object(preact_min[\"h\"])(null), jQuery('[id=\"hotspotsOverlay\"]')[0], _this._root);\n                    _this._root = null;\n                    _this.stage = null;\n                });\n                this.bind(\"monitorEvent\", function () {\n                    _this.stage.notify({ type: NotifyEventTypes.Monitor });\n                });\n                this.bind(\"mediaLoaded\", function () {\n                    _this.handleVideoSizeChange();\n                });\n                this.bind(\"seeked\", function () {\n                    _this.stage.notify({ type: NotifyEventTypes.Seeked });\n                });\n            },\n            _getCurrentTime: function () {\n                return this.getPlayer().currentTime * 1000;\n            },\n            getComponent: function () {\n                if (!this.$el) {\n                    this.$el = jQuery(\"<div></div>\")\n                        .attr(\"id\", \"hotspotsOverlay\")\n                        .css({\n                        position: \"absolute\",\n                        height: \"100%\",\n                        width: \"100%\",\n                        top: 0,\n                        left: 0\n                    });\n                }\n                return this.$el;\n            }\n        }));\n    });\n})(window.mw, window.jQuery);\n\n// CONCATENATED MODULE: ./player-v2/test.js\n\n\n\n/***/ }),\n\n/***/ \"KM04\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n!function () {\n    \"use strict\";\n    function e() { }\n    function t(t, n) {\n        var o, r, i, l, a = E;\n        for (l = arguments.length; l-- > 2;) {\n            W.push(arguments[l]);\n        }\n        n && null != n.children && (W.length || W.push(n.children), delete n.children);\n        while (W.length) {\n            if ((r = W.pop()) && void 0 !== r.pop)\n                for (l = r.length; l--;) {\n                    W.push(r[l]);\n                }\n            else\n                \"boolean\" == typeof r && (r = null), (i = \"function\" != typeof t) && (null == r ? r = \"\" : \"number\" == typeof r ? r += \"\" : \"string\" != typeof r && (i = !1)), i && o ? a[a.length - 1] += r : a === E ? a = [r] : a.push(r), o = i;\n        }\n        var u = new e();\n        return u.nodeName = t, u.children = a, u.attributes = null == n ? void 0 : n, u.key = null == n ? void 0 : n.key, void 0 !== S.vnode && S.vnode(u), u;\n    }\n    function n(e, t) {\n        for (var n in t) {\n            e[n] = t[n];\n        }\n        return e;\n    }\n    function o(e, o) {\n        return t(e.nodeName, n(n({}, e.attributes), o), arguments.length > 2 ? [].slice.call(arguments, 2) : e.children);\n    }\n    function r(e) {\n        !e.__d && (e.__d = !0) && 1 == A.push(e) && (S.debounceRendering || P)(i);\n    }\n    function i() {\n        var e, t = A;\n        A = [];\n        while (e = t.pop()) {\n            e.__d && k(e);\n        }\n    }\n    function l(e, t, n) {\n        return \"string\" == typeof t || \"number\" == typeof t ? void 0 !== e.splitText : \"string\" == typeof t.nodeName ? !e._componentConstructor && a(e, t.nodeName) : n || e._componentConstructor === t.nodeName;\n    }\n    function a(e, t) {\n        return e.__n === t || e.nodeName.toLowerCase() === t.toLowerCase();\n    }\n    function u(e) {\n        var t = n({}, e.attributes);\n        t.children = e.children;\n        var o = e.nodeName.defaultProps;\n        if (void 0 !== o)\n            for (var r in o) {\n                void 0 === t[r] && (t[r] = o[r]);\n            }\n        return t;\n    }\n    function _(e, t) {\n        var n = t ? document.createElementNS(\"http://www.w3.org/2000/svg\", e) : document.createElement(e);\n        return n.__n = e, n;\n    }\n    function p(e) {\n        var t = e.parentNode;\n        t && t.removeChild(e);\n    }\n    function c(e, t, n, o, r) {\n        if (\"className\" === t && (t = \"class\"), \"key\" === t)\n            ;\n        else if (\"ref\" === t)\n            n && n(null), o && o(e);\n        else if (\"class\" !== t || r) {\n            if (\"style\" === t) {\n                if (o && \"string\" != typeof o && \"string\" != typeof n || (e.style.cssText = o || \"\"), o && \"object\" == typeof o) {\n                    if (\"string\" != typeof n)\n                        for (var i in n) {\n                            i in o || (e.style[i] = \"\");\n                        }\n                    for (var i in o) {\n                        e.style[i] = \"number\" == typeof o[i] && !1 === V.test(i) ? o[i] + \"px\" : o[i];\n                    }\n                }\n            }\n            else if (\"dangerouslySetInnerHTML\" === t)\n                o && (e.innerHTML = o.__html || \"\");\n            else if (\"o\" == t[0] && \"n\" == t[1]) {\n                var l = t !== (t = t.replace(/Capture$/, \"\"));\n                t = t.toLowerCase().substring(2), o ? n || e.addEventListener(t, f, l) : e.removeEventListener(t, f, l), (e.__l || (e.__l = {}))[t] = o;\n            }\n            else if (\"list\" !== t && \"type\" !== t && !r && t in e)\n                s(e, t, null == o ? \"\" : o), null != o && !1 !== o || e.removeAttribute(t);\n            else {\n                var a = r && t !== (t = t.replace(/^xlink\\:?/, \"\"));\n                null == o || !1 === o ? a ? e.removeAttributeNS(\"http://www.w3.org/1999/xlink\", t.toLowerCase()) : e.removeAttribute(t) : \"function\" != typeof o && (a ? e.setAttributeNS(\"http://www.w3.org/1999/xlink\", t.toLowerCase(), o) : e.setAttribute(t, o));\n            }\n        }\n        else\n            e.className = o || \"\";\n    }\n    function s(e, t, n) {\n        try {\n            e[t] = n;\n        }\n        catch (e) { }\n    }\n    function f(e) {\n        return this.__l[e.type](S.event && S.event(e) || e);\n    }\n    function d() {\n        var e;\n        while (e = D.pop()) {\n            S.afterMount && S.afterMount(e), e.componentDidMount && e.componentDidMount();\n        }\n    }\n    function h(e, t, n, o, r, i) {\n        H++ || (R = null != r && void 0 !== r.ownerSVGElement, j = null != e && !(\"__preactattr_\" in e));\n        var l = m(e, t, n, o, i);\n        return r && l.parentNode !== r && r.appendChild(l), --H || (j = !1, i || d()), l;\n    }\n    function m(e, t, n, o, r) {\n        var i = e, l = R;\n        if (null != t && \"boolean\" != typeof t || (t = \"\"), \"string\" == typeof t || \"number\" == typeof t)\n            return e && void 0 !== e.splitText && e.parentNode && (!e._component || r) ? e.nodeValue != t && (e.nodeValue = t) : (i = document.createTextNode(t), e && (e.parentNode && e.parentNode.replaceChild(i, e), b(e, !0))), i.__preactattr_ = !0, i;\n        var u = t.nodeName;\n        if (\"function\" == typeof u)\n            return U(e, t, n, o);\n        if (R = \"svg\" === u || \"foreignObject\" !== u && R, u += \"\", (!e || !a(e, u)) && (i = _(u, R), e)) {\n            while (e.firstChild) {\n                i.appendChild(e.firstChild);\n            }\n            e.parentNode && e.parentNode.replaceChild(i, e), b(e, !0);\n        }\n        var p = i.firstChild, c = i.__preactattr_, s = t.children;\n        if (null == c) {\n            c = i.__preactattr_ = {};\n            for (var f = i.attributes, d = f.length; d--;) {\n                c[f[d].name] = f[d].value;\n            }\n        }\n        return !j && s && 1 === s.length && \"string\" == typeof s[0] && null != p && void 0 !== p.splitText && null == p.nextSibling ? p.nodeValue != s[0] && (p.nodeValue = s[0]) : (s && s.length || null != p) && v(i, s, n, o, j || null != c.dangerouslySetInnerHTML), g(i, t.attributes, c), R = l, i;\n    }\n    function v(e, t, n, o, r) {\n        var i, a, u, _, c, s = e.childNodes, f = [], d = {}, h = 0, v = 0, y = s.length, g = 0, w = t ? t.length : 0;\n        if (0 !== y)\n            for (var C = 0; C < y; C++) {\n                var x = s[C], N = x.__preactattr_, k = w && N ? x._component ? x._component.__k : N.key : null;\n                null != k ? (h++, d[k] = x) : (N || (void 0 !== x.splitText ? !r || x.nodeValue.trim() : r)) && (f[g++] = x);\n            }\n        if (0 !== w)\n            for (var C = 0; C < w; C++) {\n                _ = t[C], c = null;\n                var k = _.key;\n                if (null != k)\n                    h && void 0 !== d[k] && (c = d[k], d[k] = void 0, h--);\n                else if (!c && v < g)\n                    for (i = v; i < g; i++) {\n                        if (void 0 !== f[i] && l(a = f[i], _, r)) {\n                            c = a, f[i] = void 0, i === g - 1 && g--, i === v && v++;\n                            break;\n                        }\n                    }\n                c = m(c, _, n, o), u = s[C], c && c !== e && c !== u && (null == u ? e.appendChild(c) : c === u.nextSibling ? p(u) : e.insertBefore(c, u));\n            }\n        if (h)\n            for (var C in d) {\n                void 0 !== d[C] && b(d[C], !1);\n            }\n        while (v <= g) {\n            void 0 !== (c = f[g--]) && b(c, !1);\n        }\n    }\n    function b(e, t) {\n        var n = e._component;\n        n ? L(n) : (null != e.__preactattr_ && e.__preactattr_.ref && e.__preactattr_.ref(null), !1 !== t && null != e.__preactattr_ || p(e), y(e));\n    }\n    function y(e) {\n        e = e.lastChild;\n        while (e) {\n            var t = e.previousSibling;\n            b(e, !0), e = t;\n        }\n    }\n    function g(e, t, n) {\n        var o;\n        for (o in n) {\n            t && null != t[o] || null == n[o] || c(e, o, n[o], n[o] = void 0, R);\n        }\n        for (o in t) {\n            \"children\" === o || \"innerHTML\" === o || o in n && t[o] === (\"value\" === o || \"checked\" === o ? e[o] : n[o]) || c(e, o, n[o], n[o] = t[o], R);\n        }\n    }\n    function w(e) {\n        var t = e.constructor.name;\n        (I[t] || (I[t] = [])).push(e);\n    }\n    function C(e, t, n) {\n        var o, r = I[e.name];\n        if (e.prototype && e.prototype.render ? (o = new e(t, n), T.call(o, t, n)) : (o = new T(t, n), o.constructor = e, o.render = x), r)\n            for (var i = r.length; i--;) {\n                if (r[i].constructor === e) {\n                    o.__b = r[i].__b, r.splice(i, 1);\n                    break;\n                }\n            }\n        return o;\n    }\n    function x(e, t, n) {\n        return this.constructor(e, n);\n    }\n    function N(e, t, n, o, i) {\n        e.__x || (e.__x = !0, (e.__r = t.ref) && delete t.ref, (e.__k = t.key) && delete t.key, !e.base || i ? e.componentWillMount && e.componentWillMount() : e.componentWillReceiveProps && e.componentWillReceiveProps(t, o), o && o !== e.context && (e.__c || (e.__c = e.context), e.context = o), e.__p || (e.__p = e.props), e.props = t, e.__x = !1, 0 !== n && (1 !== n && !1 === S.syncComponentUpdates && e.base ? r(e) : k(e, 1, i)), e.__r && e.__r(e));\n    }\n    function k(e, t, o, r) {\n        if (!e.__x) {\n            var i, l, a, _ = e.props, p = e.state, c = e.context, s = e.__p || _, f = e.__s || p, m = e.__c || c, v = e.base, y = e.__b, g = v || y, w = e._component, x = !1;\n            if (v && (e.props = s, e.state = f, e.context = m, 2 !== t && e.shouldComponentUpdate && !1 === e.shouldComponentUpdate(_, p, c) ? x = !0 : e.componentWillUpdate && e.componentWillUpdate(_, p, c), e.props = _, e.state = p, e.context = c), e.__p = e.__s = e.__c = e.__b = null, e.__d = !1, !x) {\n                i = e.render(_, p, c), e.getChildContext && (c = n(n({}, c), e.getChildContext()));\n                var U, T, M = i && i.nodeName;\n                if (\"function\" == typeof M) {\n                    var W = u(i);\n                    l = w, l && l.constructor === M && W.key == l.__k ? N(l, W, 1, c, !1) : (U = l, e._component = l = C(M, W, c), l.__b = l.__b || y, l.__u = e, N(l, W, 0, c, !1), k(l, 1, o, !0)), T = l.base;\n                }\n                else\n                    a = g, U = w, U && (a = e._component = null), (g || 1 === t) && (a && (a._component = null), T = h(a, i, c, o || !v, g && g.parentNode, !0));\n                if (g && T !== g && l !== w) {\n                    var E = g.parentNode;\n                    E && T !== E && (E.replaceChild(T, g), U || (g._component = null, b(g, !1)));\n                }\n                if (U && L(U), e.base = T, T && !r) {\n                    var P = e, V = e;\n                    while (V = V.__u) {\n                        (P = V).base = T;\n                    }\n                    T._component = P, T._componentConstructor = P.constructor;\n                }\n            }\n            if (!v || o ? D.unshift(e) : x || (e.componentDidUpdate && e.componentDidUpdate(s, f, m), S.afterUpdate && S.afterUpdate(e)), null != e.__h)\n                while (e.__h.length) {\n                    e.__h.pop().call(e);\n                }\n            H || r || d();\n        }\n    }\n    function U(e, t, n, o) {\n        var r = e && e._component, i = r, l = e, a = r && e._componentConstructor === t.nodeName, _ = a, p = u(t);\n        while (r && !_ && (r = r.__u)) {\n            _ = r.constructor === t.nodeName;\n        }\n        return r && _ && (!o || r._component) ? (N(r, p, 3, n, o), e = r.base) : (i && !a && (L(i), e = l = null), r = C(t.nodeName, p, n), e && !r.__b && (r.__b = e, l = null), N(r, p, 1, n, o), e = r.base, l && e !== l && (l._component = null, b(l, !1))), e;\n    }\n    function L(e) {\n        S.beforeUnmount && S.beforeUnmount(e);\n        var t = e.base;\n        e.__x = !0, e.componentWillUnmount && e.componentWillUnmount(), e.base = null;\n        var n = e._component;\n        n ? L(n) : t && (t.__preactattr_ && t.__preactattr_.ref && t.__preactattr_.ref(null), e.__b = t, p(t), w(e), y(t)), e.__r && e.__r(null);\n    }\n    function T(e, t) {\n        this.__d = !0, this.context = t, this.props = e, this.state = this.state || {};\n    }\n    function M(e, t, n) {\n        return h(n, e, {}, !1, t, !1);\n    }\n    var S = {}, W = [], E = [], P = \"function\" == typeof Promise ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout, V = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i, A = [], D = [], H = 0, R = !1, j = !1, I = {};\n    n(T.prototype, { setState: function setState(e, t) {\n            var o = this.state;\n            this.__s || (this.__s = n({}, o)), n(o, \"function\" == typeof e ? e(o, this.props) : e), t && (this.__h = this.__h || []).push(t), r(this);\n        }, forceUpdate: function forceUpdate(e) {\n            e && (this.__h = this.__h || []).push(e), k(this, 2);\n        }, render: function render() { } });\n    var $ = { h: t, createElement: t, cloneElement: o, Component: T, render: M, rerender: i, options: S };\n     true ? module.exports = $ : self.preact = $;\n}();\n//# sourceMappingURL=preact.min.js.map\n\n\n/***/ }),\n\n/***/ \"pwNi\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar _preact = __webpack_require__(\"KM04\");\nif (false) {\n    require('preact/devtools');\n}\nelse if (false) {\n    navigator.serviceWorker.register(__webpack_public_path__ + 'sw.js');\n}\nvar interopDefault = function interopDefault(m) {\n    return m && m[\"default\"] ? m[\"default\"] : m;\n};\nvar app = interopDefault(__webpack_require__(\"CUnC\"));\nif (typeof app === 'function') {\n    var root = document.body.firstElementChild;\n    var init = function init() {\n        var app = interopDefault(__webpack_require__(\"CUnC\"));\n        root = (0, _preact.render)((0, _preact.h)(app), document.body, root);\n    };\n    if (false)\n        module.hot.accept('preact-cli-entrypoint', init);\n    init();\n}\n\n\n/***/ })\n\n/******/ });\n});\n\n\n// WEBPACK FOOTER //\n// bundle.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"pwNi\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 19051c59dcb02195925f","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { h, Component } from \"preact\";\nvar defaultContainerStyles = {\n    position: 'absolute',\n    display: 'table',\n    boxSizing: 'border-box',\n    outline: 'none'\n};\nvar defaultButtonsStyles = {\n    position: 'relative',\n    width: '100%',\n    height: '100%',\n    appearance: 'none',\n    border: 'none',\n    display: 'table-cell',\n    verticalAlign: 'middle',\n    textAlign: 'center',\n    cursor: 'pointer',\n    wordBreak: 'break-all',\n    'textRendering': 'geometricPrecision'\n};\nvar defaultProps = {\n    styles: {}\n};\nfunction prepareUrl(url) {\n    if (!url.match(/^https?:\\/\\//i)) {\n        url = 'http://' + url;\n    }\n    return url;\n}\nvar Hotspot = /** @class */ (function (_super) {\n    __extends(Hotspot, _super);\n    function Hotspot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            disableClick: true,\n            isReady: false\n        };\n        _this.handleClick = function () {\n            var hotspot = _this.props.hotspot;\n            var disableClick = _this.state.disableClick;\n            if (!hotspot.onClick || disableClick) {\n                return;\n            }\n            switch (hotspot.onClick.type) {\n                case 'openUrl':\n                    {\n                        if (!hotspot.onClick.url) {\n                            return;\n                        }\n                        var url = prepareUrl(hotspot.onClick.url);\n                        window.open(url, '_top');\n                        _this.props.sendAnalytics({ eventNumber: 47, target: url, hotspotId: hotspot.id });\n                    }\n                    break;\n                case 'openUrlInNewTab':\n                    {\n                        if (!hotspot.onClick.url) {\n                            return;\n                        }\n                        _this.props.pauseVideo();\n                        var url = prepareUrl(hotspot.onClick.url);\n                        try {\n                            window.open(url, '_blank');\n                            _this.props.sendAnalytics({ eventNumber: 47, target: url, hotspotId: hotspot.id });\n                        }\n                        catch (e) {\n                            window.open(url, '_top');\n                        }\n                    }\n                    break;\n                default:\n                    break;\n            }\n        };\n        return _this;\n    }\n    Hotspot.prototype.componentDidMount = function () {\n        var hotspot = this.props.hotspot;\n        if (!hotspot || !hotspot.onClick) {\n            this.setState({\n                isReady: true\n            });\n            return;\n        }\n        var _a = hotspot.onClick, type = _a.type, url = _a.url;\n        var disableClick = (!type || !url || type.length == 0 || url.length === 0);\n        this.setState({\n            isReady: true,\n            disableClick: disableClick\n        });\n    };\n    Hotspot.prototype.render = function () {\n        var hotspot = this.props.hotspot;\n        var layout = hotspot.layout, label = hotspot.label;\n        var _a = this.state, isReady = _a.isReady, disableClick = _a.disableClick;\n        if (!isReady || !this.props.visible) {\n            return null;\n        }\n        var containerStyles = __assign({}, defaultContainerStyles, { top: layout.y, left: layout.x, height: layout.height, width: layout.width });\n        var buttonStyles = __assign({}, defaultButtonsStyles, hotspot.styles, { cursor: disableClick ? 'default' : 'pointer' });\n        return (h(\"div\", { onClick: this.handleClick, style: containerStyles },\n            h(\"div\", { style: buttonStyles }, label)));\n    };\n    Hotspot.defaultProps = defaultProps;\n    return Hotspot;\n}(Component));\nexport default Hotspot;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Hotspot.tsx\n// module id = null\n// module chunks = ","var isEnabled = false;\nvar logPrefix = '';\nexport function enableLog(prefix) {\n    logPrefix = prefix || '';\n    isEnabled = true;\n}\nexport function log(level, context, message) {\n    var optionalParams = [];\n    for (var _i = 3; _i < arguments.length; _i++) {\n        optionalParams[_i - 3] = arguments[_i];\n    }\n    if (isEnabled) {\n        console[level].apply(console, [\"[\" + logPrefix + \"] [\" + level + \"]\" + (context ? \" [\" + context + \"]\" : '') + \" : \" + message].concat(optionalParams));\n    }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./utils/logger.ts\n// module id = null\n// module chunks = ","import { log } from './logger';\nvar ChangeTypes;\n(function (ChangeTypes) {\n    ChangeTypes[\"Show\"] = \"show\";\n    ChangeTypes[\"Hide\"] = \"hide\";\n})(ChangeTypes || (ChangeTypes = {}));\nvar reasonableSeekThreshold = 2000;\nfunction scaleVideo(videoWidth, videoHeight, playerWidth, playerHeight, fLetterBox) {\n    var result = { width: 0, height: 0, left: 0, top: 0, scaleToTargetWidth: true };\n    if ((videoWidth <= 0) || (videoHeight <= 0) || (playerWidth <= 0) || (playerHeight <= 0)) {\n        return result;\n    }\n    // scale to the target width\n    var scaleX1 = playerWidth;\n    var scaleY1 = (videoHeight * playerWidth) / videoWidth;\n    // scale to the target height\n    var scaleX2 = (videoWidth * playerHeight) / videoHeight;\n    var scaleY2 = playerHeight;\n    // now figure out which one we should use\n    var fScaleOnWidth = (scaleX2 > playerWidth);\n    if (fScaleOnWidth) {\n        fScaleOnWidth = fLetterBox;\n    }\n    else {\n        fScaleOnWidth = !fLetterBox;\n    }\n    if (fScaleOnWidth) {\n        result.width = Math.abs(scaleX1);\n        result.height = Math.abs(scaleY1);\n        result.scaleToTargetWidth = true;\n    }\n    else {\n        result.width = Math.abs(scaleX2);\n        result.height = Math.abs(scaleY2);\n        result.scaleToTargetWidth = false;\n    }\n    result.left = Math.abs((playerWidth - result.width) / 2);\n    result.top = Math.abs((playerHeight - result.height) / 2);\n    return result;\n}\nvar HotspotsEngine = /** @class */ (function () {\n    function HotspotsEngine(hotspots) {\n        this.isFirstTime = true;\n        this.hotspotsLayoutReady = false;\n        this.lastHandledTime = null;\n        this.lastHandledTimeIndex = null;\n        this.nextTimeToHandle = null;\n        this.hotspotsChanges = [];\n        this.playerSize = null;\n        this.videoSize = null;\n        log('debug', 'ctor', 'executed');\n        this.hotspots = hotspots; // NOTICE: it is the responsability of this engine not to return hotspot without layout\n        this.prepareHotspots();\n    }\n    HotspotsEngine.prototype.updateLayout = function (playerSize, videoSize) {\n        this.videoSize = videoSize;\n        this.playerSize = playerSize;\n        this.recalculateHotspotsLayout();\n        return this.lastHandledTimeIndex ? this.createHotspotsSnapshot(this.lastHandledTimeIndex) : [];\n    };\n    HotspotsEngine.prototype._calculateLayout = function (hotspot, scaleCalculation) {\n        var rawLayout = hotspot.rawLayout;\n        return {\n            x: scaleCalculation.left + rawLayout.relativeX * scaleCalculation.width,\n            y: scaleCalculation.top + rawLayout.relativeY * scaleCalculation.height,\n            width: rawLayout.relativeWidth * scaleCalculation.width,\n            height: rawLayout.relativeHeight * scaleCalculation.height\n        };\n    };\n    HotspotsEngine.prototype.recalculateHotspotsLayout = function () {\n        var _this = this;\n        log('debug', 'recalculateHotspotsLayout', \"calculating hotspots layout based on video/player sizes\");\n        if (!this.playerSize || !this.videoSize) {\n            log('debug', 'recalculateHotspotsLayout', \"missing video/player sizes, hide all hotspots\");\n            this.hotspotsLayoutReady = false;\n            return;\n        }\n        var _a = this.playerSize, playerWidth = _a.width, playerHeight = _a.height;\n        var _b = this.videoSize, videoWidth = _b.width, videoHeight = _b.height;\n        var canCalcaulateLayout = playerWidth && playerHeight && videoWidth && videoHeight;\n        if (!canCalcaulateLayout) {\n            log('debug', 'recalculateHotspotsLayout', \"missing video/player sizes, hide all hotspots\");\n            this.hotspotsLayoutReady = false;\n            return;\n        }\n        var scaleCalculation = scaleVideo(videoWidth, videoHeight, playerWidth, playerHeight, true);\n        log('debug', 'recalculateHotspotsLayout', \"recalculate hotspots layout based on new sizes\", scaleCalculation);\n        (this.hotspots || []).forEach(function (hotspot) {\n            hotspot.layout = _this._calculateLayout(hotspot, scaleCalculation);\n        });\n        this.hotspotsLayoutReady = true;\n    };\n    HotspotsEngine.prototype.getSnapshot = function (time) {\n        var timeIndex = this.findClosestLastIndexByTime(time);\n        log('debug', 'getSnapshot', \"create snapshot based on time \" + time, { timeIndex: timeIndex });\n        return this.createHotspotsSnapshot(timeIndex);\n    };\n    HotspotsEngine.prototype.updateTime = function (currentTime, forceSnapshot) {\n        if (forceSnapshot === void 0) { forceSnapshot = false; }\n        var _a = this, isFirstTime = _a.isFirstTime, lastHandledTime = _a.lastHandledTime, nextTimeToHandle = _a.nextTimeToHandle;\n        if (this.hotspotsChanges.length === 0) {\n            if (isFirstTime) {\n                log('log', 'updateTime', \"hotspots list empty. will always return empty snapshot\");\n                this.isFirstTime = false;\n            }\n            return { snapshot: [] };\n        }\n        var userSeeked = !isFirstTime && lastHandledTime !== null && nextTimeToHandle !== null && (lastHandledTime > currentTime || (currentTime - nextTimeToHandle) > reasonableSeekThreshold);\n        var hasChangesToHandle = isFirstTime || (this.lastHandledTime !== null && this.lastHandledTime > currentTime) || (this.nextTimeToHandle != null && currentTime >= this.nextTimeToHandle);\n        var closestChangeIndex = this.findClosestLastIndexByTime(currentTime);\n        var closestChangeTime = closestChangeIndex < 0 ? 0 : this.hotspotsChanges[closestChangeIndex].time;\n        if (!hasChangesToHandle) {\n            // log('log', 'updateTime', `new time is between handled time and next time to handle, assume no delta`);\n            if (forceSnapshot) {\n                return { snapshot: this.createHotspotsSnapshot(closestChangeIndex) };\n            }\n            return { delta: this.createEmptyDelta() };\n        }\n        log('debug', 'updateTime', \"has changes to handle. check if need to return snapshot instead of delta based on provided new time\", { currentTime: currentTime, closestChangeIndex: closestChangeIndex, closestChangeTime: closestChangeTime, lastHandledTime: lastHandledTime, nextTimeToHandle: nextTimeToHandle, isFirstTime: isFirstTime });\n        if (isFirstTime || forceSnapshot || userSeeked) {\n            log('debug', 'updateTime', \"some conditions doesn't allow returning delta, return snapshot instead\", { isFirstTime: isFirstTime, userSeeked: userSeeked, forceSnapshot: forceSnapshot });\n            var snapshot = this.createHotspotsSnapshot(closestChangeIndex);\n            this.updateInternals(closestChangeTime, closestChangeIndex);\n            return { snapshot: snapshot };\n        }\n        var delta = this.createHotspotsDelta(closestChangeIndex);\n        this.updateInternals(closestChangeTime, closestChangeIndex);\n        return { delta: delta };\n    };\n    HotspotsEngine.prototype.createHotspotsSnapshot = function (targetIndex) {\n        if (!this.hotspotsLayoutReady || targetIndex < 0 || !this.hotspotsChanges || this.hotspotsChanges.length === 0) {\n            log('log', 'createHotspotsSnapshot', \"resulted with empty snapshot\", {\n                targetIndex: targetIndex,\n                hotspotsLayoutReady: this.hotspotsLayoutReady,\n                hotspotsCount: (this.hotspotsChanges || []).length\n            });\n            return [];\n        }\n        var snapshot = [];\n        for (var index = 0; index <= targetIndex; index++) {\n            var item = this.hotspotsChanges[index];\n            var hotspotIndex = snapshot.indexOf(item.cuePoint);\n            if (item.type === ChangeTypes.Show) {\n                if (hotspotIndex === -1) {\n                    snapshot.push(item.cuePoint);\n                }\n            }\n            else {\n                if (hotspotIndex !== -1) {\n                    snapshot.splice(hotspotIndex, 1);\n                }\n            }\n        }\n        log('log', 'createHotspotsSnapshot', 'resulted snapshot', { snapshot: snapshot });\n        return snapshot;\n    };\n    HotspotsEngine.prototype.createHotspotsDelta = function (targetIndex) {\n        if (!this.hotspotsLayoutReady || !this.hotspotsChanges || this.hotspotsChanges.length === 0) {\n            log('log', 'createHotspotsDelta', \"resulted with empty delta\", {\n                hotspotsLayoutReady: this.hotspotsLayoutReady,\n                hotspotsCount: (this.hotspotsChanges || []).length\n            });\n            return this.createEmptyDelta();\n        }\n        var lastHandledTimeIndex = this.lastHandledTimeIndex;\n        if (lastHandledTimeIndex === null) {\n            log('log', 'createHotspotsDelta', \"invalid internal state. resulted with empty delta\");\n            return this.createEmptyDelta();\n        }\n        var newHotspots = [];\n        var removedHotspots = [];\n        log('log', 'createHotspotsDelta', \"find hotspots that were added or removed\");\n        for (var index = lastHandledTimeIndex + 1; index <= targetIndex; index++) {\n            var item = this.hotspotsChanges[index];\n            var hotspotIndex = newHotspots.indexOf(item.cuePoint);\n            if (item.type === ChangeTypes.Show) {\n                if (hotspotIndex === -1) {\n                    newHotspots.push(item.cuePoint);\n                }\n            }\n            else {\n                if (hotspotIndex !== -1) {\n                    log('log', 'createHotspotsDelta', \"hotspot was marked with type \" + item.type + \" at \" + item.time + \". remove from new hotspots list as it wasn't visible yet\", { hotspot: item.cuePoint });\n                    newHotspots.splice(hotspotIndex, 1);\n                }\n                else if (removedHotspots.indexOf(item.cuePoint) === -1) {\n                    log('log', 'createHotspotsDelta', \"hotspot was marked with type \" + item.type + \" at \" + item.time + \". add to removed hotspots list\", { hotspot: item.cuePoint });\n                    removedHotspots.push(item.cuePoint);\n                }\n            }\n        }\n        log('log', 'createHotspotsDelta', 'resulted delta', { newHotspots: newHotspots, removedHotspots: removedHotspots });\n        return { show: newHotspots, hide: removedHotspots };\n    };\n    HotspotsEngine.prototype.updateInternals = function (time, timeIndex) {\n        var hotspotsChanges = this.hotspotsChanges;\n        if (!hotspotsChanges || hotspotsChanges.length === 0) {\n            return;\n        }\n        var isIndexOfLastChange = timeIndex >= hotspotsChanges.length - 1;\n        var isIndexBeforeTheFirstChange = timeIndex === null;\n        this.lastHandledTime = time;\n        this.lastHandledTimeIndex = timeIndex;\n        this.nextTimeToHandle = isIndexBeforeTheFirstChange ? hotspotsChanges[0].time :\n            isIndexOfLastChange ? hotspotsChanges[hotspotsChanges.length - 1].time :\n                hotspotsChanges[timeIndex + 1].time;\n        this.isFirstTime = false;\n        log('debug', 'updateInternals', \"update inner state with new time and index\", {\n            lastHandledTime: this.lastHandledTime,\n            lastHandledTimeIndex: this.lastHandledTimeIndex,\n            nextTimeToHandle: this.nextTimeToHandle\n        });\n    };\n    HotspotsEngine.prototype.createEmptyDelta = function () {\n        return { show: [], hide: [] };\n    };\n    HotspotsEngine.prototype.binarySearch = function (items, value) {\n        if (!items || items.length === 0) {\n            // empty array, no index to return\n            return null;\n        }\n        if (value < items[0].time) {\n            // value less then the first item. return -1\n            return -1;\n        }\n        if (value > items[items.length - 1].time) {\n            // value bigger then the last item, return last item index\n            return items.length - 1;\n        }\n        var lo = 0;\n        var hi = items.length - 1;\n        while (lo <= hi) {\n            var mid = Math.floor((hi + lo + 1) / 2);\n            if (value < items[mid].time) {\n                hi = mid - 1;\n            }\n            else if (value > items[mid].time) {\n                lo = mid + 1;\n            }\n            else {\n                return mid;\n            }\n        }\n        return Math.min(lo, hi); // return the lowest index which represent the last visual item\n    };\n    HotspotsEngine.prototype.findClosestLastIndexByTime = function (time) {\n        var changes = this.hotspotsChanges;\n        var closestIndex = this.binarySearch(changes, time);\n        if (closestIndex === null) {\n            return -1;\n        }\n        var changesLength = changes.length;\n        while (closestIndex < changesLength - 1 && changes[closestIndex + 1].time === time) {\n            closestIndex++;\n        }\n        return closestIndex;\n    };\n    HotspotsEngine.prototype.prepareHotspots = function () {\n        var _this = this;\n        (this.hotspots || []).forEach(function (hotspot) {\n            if (hotspot.startTime !== null && typeof hotspot.startTime !== 'undefined' && hotspot.startTime >= 0) {\n                _this.hotspotsChanges.push({\n                    time: hotspot.startTime,\n                    type: ChangeTypes.Show,\n                    cuePoint: hotspot // NOTICE: it is the responsability of this engine not to return hotspot without layout\n                });\n            }\n            if (hotspot.endTime !== null && typeof hotspot.endTime !== 'undefined' && hotspot.endTime >= 0) {\n                _this.hotspotsChanges.push({\n                    time: hotspot.endTime,\n                    type: ChangeTypes.Hide,\n                    cuePoint: hotspot // NOTICE: it is the responsability of this engine not to return hotspot without layout\n                });\n            }\n        });\n        this.hotspotsChanges.sort(function (a, b) {\n            return a.time < b.time ? -1 : a.time === b.time ? 0 : 1;\n        });\n        log('debug', 'prepareHotspots', \"tracking \" + this.hotspotsChanges.length + \" changes\", this.hotspotsChanges);\n    };\n    return HotspotsEngine;\n}());\nexport { HotspotsEngine };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./utils/hotspots-engine.ts\n// module id = null\n// module chunks = ","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { h, Component } from \"preact\";\nimport Hotspot from './Hotspot';\nimport { HotspotsEngine } from \"../utils/hotspots-engine\";\nimport { log } from \"../utils/logger\";\nexport var NotifyEventTypes;\n(function (NotifyEventTypes) {\n    NotifyEventTypes[\"Monitor\"] = \"monitor\";\n    NotifyEventTypes[\"Seeked\"] = \"seeked\";\n})(NotifyEventTypes || (NotifyEventTypes = {}));\nvar PlayerUpdateEvent = \"updatePlayHeadPercent:hotspots\";\nvar Stage = /** @class */ (function (_super) {\n    __extends(Stage, _super);\n    function Stage() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.engine = null;\n        _this.initialState = {\n            isLoading: false,\n            playerSize: _this.props.getPlayerSize(),\n            videoSize: _this.props.getVideoSize(),\n            visibleHotspots: [],\n            showHotspots: false,\n            hasError: false\n        };\n        _this.state = __assign({}, _this.initialState);\n        _this.showHotspots = function () {\n            _this.setState({\n                showHotspots: true\n            });\n        };\n        _this.notify = function (event) {\n            switch (event.type) {\n                case NotifyEventTypes.Monitor:\n                case NotifyEventTypes.Seeked:\n                    _this.syncVisibleHotspots();\n                    break;\n                default:\n                    break;\n            }\n        };\n        _this._handleCuepoints = function (result) {\n            var hotspots = result.hotspots, error = result.error;\n            if (error || !hotspots) {\n                log('error', '_handleCuepoints', 'failed to load cuepoints', { error: error ? error.message : 'missing hotspots array' });\n                _this.setState({\n                    isLoading: false,\n                    hasError: true,\n                });\n                return;\n            }\n            _this.engine = new HotspotsEngine(hotspots);\n            _this.engine.updateLayout(_this.state.playerSize, _this.state.videoSize);\n            _this.setState({\n                isLoading: false,\n                hasError: false,\n                visibleHotspots: []\n            }, function () {\n                _this.syncVisibleHotspots();\n            });\n        };\n        _this.handleResize = function () {\n            var _a = _this.props, getPlayerSize = _a.getPlayerSize, getVideoSize = _a.getVideoSize;\n            _this.setState({\n                playerSize: getPlayerSize(),\n                videoSize: getVideoSize()\n            }, function () {\n                if (_this.engine) {\n                    _this.engine.updateLayout(_this.state.playerSize, _this.state.videoSize);\n                    _this.syncVisibleHotspots(true);\n                }\n            });\n        };\n        _this.reset = function () {\n            _this.engine = null;\n            _this.setState(__assign({}, _this.initialState), function () {\n                _this.props.loadCuePoints(_this._handleCuepoints);\n            });\n        };\n        _this.renderHotspots = function (visualHotspot) {\n            if (!visualHotspot) {\n                return null;\n            }\n            var _a = _this.props, pauseVideo = _a.pauseVideo, sendAnalytics = _a.sendAnalytics;\n            return visualHotspot.map(function (hotspotData) { return (h(Hotspot, { pauseVideo: pauseVideo, key: hotspotData.id, visible: true, hotspot: hotspotData, sendAnalytics: sendAnalytics })); });\n        };\n        return _this;\n    }\n    Stage.prototype.componentDidMount = function () {\n        this.reset();\n    };\n    Stage.prototype.syncVisibleHotspots = function (forceSnapshot) {\n        var _this = this;\n        if (forceSnapshot === void 0) { forceSnapshot = false; }\n        var getCurrentTime = this.props.getCurrentTime;\n        this.setState(function (state) {\n            if (!_this.engine) {\n                return {\n                    visibleHotspots: []\n                };\n            }\n            var hotspotsUpdate = _this.engine.updateTime(getCurrentTime(), forceSnapshot);\n            if (hotspotsUpdate.snapshot) {\n                return {\n                    visibleHotspots: hotspotsUpdate.snapshot\n                };\n            }\n            if (!hotspotsUpdate.delta) {\n                return {\n                    visibleHotspots: []\n                };\n            }\n            var _a = hotspotsUpdate.delta, show = _a.show, hide = _a.hide;\n            if (show.length !== 0 || hide.length !== 0) {\n                var visibleHotspots_1 = state.visibleHotspots;\n                show.forEach(function (hotspot) {\n                    var index = visibleHotspots_1.indexOf(hotspot);\n                    if (index === -1) {\n                        visibleHotspots_1.push(hotspot);\n                    }\n                });\n                hide.forEach(function (hotspot) {\n                    var index = visibleHotspots_1.indexOf(hotspot);\n                    if (index !== -1) {\n                        visibleHotspots_1.splice(index, 1);\n                    }\n                });\n                return {\n                    visibleHotspots: visibleHotspots_1\n                };\n            }\n        });\n    };\n    Stage.prototype.render = function () {\n        var _a = this.state, visibleHotspots = _a.visibleHotspots, showHotspots = _a.showHotspots;\n        var hotspotsElements = showHotspots ? this.renderHotspots(visibleHotspots) : null;\n        var style = {\n            position: 'absolute',\n            display: 'block'\n        };\n        return (h(\"div\", { style: style }, hotspotsElements));\n    };\n    return Stage;\n}(Component));\nexport default Stage;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Stage.tsx\n// module id = null\n// module chunks = ","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\n//let poly = require(\"preact-cli/lib/lib/webpack/polyfills\");\nimport { h, render } from \"preact\";\nimport Stage, { NotifyEventTypes } from \"../components/Stage\";\nimport { log, enableLog } from \"../utils/logger\";\n(function (mw, $) {\n    function toObject(jsonAsString, defaultValue) {\n        if (defaultValue === void 0) { defaultValue = {}; }\n        if (!jsonAsString) {\n            return defaultValue;\n        }\n        try {\n            return { result: JSON.parse(jsonAsString) };\n        }\n        catch (e) {\n            return { error: e };\n        }\n    }\n    (function shouldEnableLogs() {\n        try {\n            if (document.URL.indexOf(\"debugKalturaPlayer\") !== -1) {\n                enableLog(\"hotspots\");\n            }\n        }\n        catch (e) {\n            // do nothing\n        }\n    })();\n    var WEBKIT_PLAYS_INLINE_KEY = \"EmbedPlayer.WebKitPlaysInline\";\n    function isIpad() {\n        return navigator.userAgent.indexOf(\"iPad\") != -1;\n    }\n    function isIphone() {\n        return navigator.userAgent.indexOf(\"iPhone\") != -1 && !isIpad();\n    }\n    function shouldEnableIphoneMode(pluginSupportEnabled) {\n        var pluginSupportEnabledDefined = typeof pluginSupportEnabled !== \"undefined\";\n        if (!isIphone() ||\n            (pluginSupportEnabledDefined && !pluginSupportEnabled)) {\n            return false;\n        }\n        return true;\n    }\n    function shouldInitializeInlineMode(playerConfig) {\n        // @ts-ignore\n        var inlineMode = playerConfig && playerConfig.vars ? playerConfig.vars[WEBKIT_PLAYS_INLINE_KEY] : undefined;\n        var pluginSupportEnabled = playerConfig && playerConfig.plugins && playerConfig.plugins.hotspots ? playerConfig.plugins.hotspots.iphoneFullscreenSupport : undefined;\n        var inlineModeDefined = typeof inlineMode !== \"undefined\";\n        var result = !inlineModeDefined && shouldEnableIphoneMode(pluginSupportEnabled);\n        log(\"debug\", \"shouldInitializeInlineMode\", \"check conditions needed to setup environment\", {\n            inlineMode: inlineMode,\n            inlineModeDefined: inlineModeDefined,\n            pluginSupportEnabled: pluginSupportEnabled,\n            isIphone: isIphone(),\n            result: result\n        });\n        return result;\n    }\n    (function setupIphoneEnvironment() {\n        try {\n            // @ts-ignore\n            var playerConfig = window.kalturaIframePackageData.playerConfig;\n            if (!shouldInitializeInlineMode(playerConfig)) {\n                log(\"log\", \"setupIphoneEnvironment\", \"setup iphone environment is aborted by configuration (either iphone not detected, inline flag is already set or explicitly configured not to handle iphone fullscreen by plugin configuration)\");\n                return;\n            }\n            log(\"log\", \"setupIphoneEnvironment\", \"modify window.kalturaIframePackageData.playerConfig to use inline fullscreen\");\n            playerConfig.vars[WEBKIT_PLAYS_INLINE_KEY] = true;\n        }\n        catch (e) {\n            log(\"error\", \"setupIphoneEnvironment\", \"failed to setup iphone environment with error \" + e.message);\n        }\n    })();\n    $(mw).bind('EmbedPlayerNewPlayer', function (event, embedPlayer) {\n        try {\n            if (embedPlayer.playerConfig) {\n                if (!shouldInitializeInlineMode(embedPlayer.playerConfig)) {\n                    log(\"log\", \"mw.bind('EmbedPlayerNewPlayer')\", \"setup iphone environment is aborted by configuration (either iphone not detected, inline flag is already set or explicitly configured not to handle iphone fullscreen by plugin configuration)\");\n                    return;\n                }\n                log(\"log\", \"mw.bind('EmbedPlayerNewPlayer')\", \"modify embedPlayer.playerConfig to use inline fullscreen\");\n                embedPlayer.playerConfig.vars[WEBKIT_PLAYS_INLINE_KEY] = true;\n            }\n            else if (mw.getConfig('KalturaSupport.PlayerConfig')) {\n                var supportPlayerConfig = mw.getConfig('KalturaSupport.PlayerConfig');\n                if (!shouldInitializeInlineMode(supportPlayerConfig)) {\n                    log(\"log\", \"mw.bind('EmbedPlayerNewPlayer')\", \"setup iphone environment is aborted by configuration (either iphone not detected, inline flag is already set or explicitly configured not to handle iphone fullscreen by plugin configuration)\");\n                    return;\n                }\n                log(\"log\", \"mw.bind('EmbedPlayerNewPlayer')\", \"modify mw.getConfig('KalturaSupport.PlayerConfig') to use inline fullscreen\");\n                supportPlayerConfig.vars[WEBKIT_PLAYS_INLINE_KEY] = true;\n            }\n        }\n        catch (e) {\n            log(\"error\", \"mw.bind('EmbedPlayerNewPlayer')\", \"failed to setup iphone environment with error \" + e.message);\n        }\n    });\n    mw.kalturaPluginWrapper(function () {\n        mw.PluginManager.add(\"hotspots\", mw.KBaseComponent.extend({\n            _root: null,\n            _videoSize: null,\n            _wasPlayed: false,\n            stage: null,\n            defaultConfig: {\n                parent: \"videoHolder\",\n                iphoneFullscreenSupport: undefined,\n                order: 1\n            },\n            handleVideoSizeChange: function (e) {\n                var _a = this.getPlayer().evaluate(\"{mediaProxy.entry}\"), width = _a.width, height = _a.height;\n                log(\"debug\", \"plugin.handleVideoSizeChange\", \"use entry size provided by player to calculate actual stage size\", { width: width, height: height });\n                if (!width || !height) {\n                    this._videoSize = null;\n                }\n                else {\n                    this._videoSize = { width: width, height: height };\n                }\n                this.stage.handleResize();\n            },\n            setup: function () {\n                if (this.enableIphoneFullscreen()) {\n                    log(\"log\", \"setup\", \"iphone detected, prevent native fullscreen and use inline player\");\n                    mw.setConfig(\"EmbedPlayer.ExternalFullScreenControl\", true);\n                }\n                this.addBindings();\n            },\n            pauseVideo: function () {\n                this.getPlayer().sendNotification(\"doPause\");\n            },\n            getCuePoints: function () {\n                return this.cuePoints;\n            },\n            loadCuePoints: function (callback) {\n                var _this = this;\n                // do the api request\n                this.getKalturaClient().doRequest({\n                    service: \"cuepoint_cuepoint\",\n                    action: \"list\",\n                    \"filter:entryIdEqual\": this.getPlayer().kentryid,\n                    \"filter:objectType\": \"KalturaCuePointFilter\",\n                    \"filter:cuePointTypeEqual\": \"annotation.Annotation\",\n                    \"filter:tagsLike\": \"hotspots\"\n                }, function (data) {\n                    // if an error pop out:\n                    var hasError = !data || data.code;\n                    if (hasError) {\n                        callback({\n                            error: { message: data.code || \"failure\" }\n                        });\n                    }\n                    else {\n                        var hotspots = [];\n                        (data.objects || []).reduce(function (acc, cuePoint) {\n                            var _a = toObject(cuePoint.partnerData), partnerData = _a.result, error = _a.error;\n                            if (!partnerData ||\n                                !partnerData.schemaVersion) {\n                                log(\"warn\", \"loadCuePoints\", \"annotation '\" + cuePoint.partnerData.id + \"' has no schema version, skip annotation\");\n                                return acc;\n                            }\n                            var rawLayout = __assign({}, partnerData.layout);\n                            acc.push({\n                                id: cuePoint.id,\n                                startTime: cuePoint.startTime,\n                                endTime: cuePoint.endTime,\n                                label: cuePoint.text,\n                                styles: partnerData.styles,\n                                onClick: partnerData.onClick,\n                                rawLayout: rawLayout\n                            });\n                            return acc;\n                        }, hotspots);\n                        callback({ hotspots: hotspots });\n                    }\n                });\n            },\n            getPlayerSize: function () {\n                var videoHolder = this.getPlayer().getVideoHolder();\n                if (!videoHolder) {\n                    return null;\n                }\n                var width = videoHolder.width();\n                var height = videoHolder.height();\n                return {\n                    width: width,\n                    height: height\n                };\n            },\n            sendAnalytics: function (event) {\n                try {\n                    var kanalonyPlugin = this.getPlayer().plugins.kAnalony;\n                    if (!kanalonyPlugin) {\n                        log(\"warn\", \"sendAnalytics\", \"cannot send analytics event, missing kAnalony plugin\", event);\n                        return;\n                    }\n                    var eventNumber = event.eventNumber, rest = __rest(event, [\"eventNumber\"]);\n                    kanalonyPlugin.sendAnalytics(eventNumber, rest);\n                }\n                catch (e) {\n                    log(\"error\", \"sendAnalytics\", \"cannot send analytics event with error '\" + e.message + \"'\", event);\n                }\n            },\n            getVideoSize: function () {\n                if (!this._videoSize) {\n                    return null;\n                }\n                return __assign({}, this._videoSize);\n            },\n            enableIphoneFullscreen: function () {\n                var pluginSupportEnabled = this.getConfig(\"iphoneFullscreenSupport\");\n                var inlineMode = this.embedPlayer.getKalturaConfig('', WEBKIT_PLAYS_INLINE_KEY);\n                var inlineModeDefined = typeof inlineMode !== 'undefined';\n                var result = shouldEnableIphoneMode(pluginSupportEnabled) && (!inlineModeDefined || inlineMode);\n                log('debug', 'plugin.enableIphoneFullscreen', \"check if iphone fullscreen is enabled resulted with \" + result, { inlineMode: inlineMode, inlineModeDefined: inlineModeDefined, pluginSupportEnabled: pluginSupportEnabled });\n                return result;\n            },\n            enterFullscreenInIphone: function () {\n                if (!this.enableIphoneFullscreen()) {\n                    return;\n                }\n                log(\"log\", \"plugin.addBindings[onToggleFullscreen]\", \"handle iphone fullscreen toggle manually\");\n                var manager = this.getPlayer().layoutBuilder\n                    .fullScreenManager;\n                if (!manager.inFullScreen) {\n                    manager.doContextTargetFullscreen();\n                    manager.inFullScreen = true;\n                    return;\n                }\n                manager.restoreContextPlayer();\n                manager.inFullScreen = false;\n            },\n            addBindings: function () {\n                var _this = this;\n                this.bind(\"onToggleFullscreen\", function () {\n                    _this.enterFullscreenInIphone();\n                });\n                this.bind(\"playerReady\", function () {\n                    var props = {\n                        getCurrentTime: _this._getCurrentTime.bind(_this),\n                        loadCuePoints: _this.loadCuePoints.bind(_this),\n                        getPlayerSize: _this.getPlayerSize.bind(_this),\n                        getVideoSize: _this.getVideoSize.bind(_this),\n                        pauseVideo: _this.pauseVideo.bind(_this),\n                        sendAnalytics: _this.sendAnalytics.bind(_this)\n                    };\n                    _this._root = render(h(Stage, __assign({}, props, { ref: function (ref) { return (_this.stage = ref); } })), jQuery('[id=\"hotspotsOverlay\"]')[0]);\n                });\n                this.bind(\"updateLayout\", function () {\n                    _this.stage.handleResize();\n                });\n                this.bind(\"firstPlay\", function () {\n                    if (!_this._wasPlayed) {\n                        _this.stage.showHotspots();\n                        _this._wasPlayed = true;\n                    }\n                    _this.enterFullscreenInIphone();\n                });\n                this.bind(\"seeked\", function () {\n                    if (!_this._wasPlayed) {\n                        _this.stage.showHotspots();\n                        _this._wasPlayed = true;\n                    }\n                });\n                this.bind(\"onChangeMedia\", function () {\n                    // DEVELOPER NOTICE: this is the destruction place.\n                    _this._wasPlayed = false;\n                    _this._videoSize = null;\n                    render(\n                    // @ts-ignore\n                    h(null), jQuery('[id=\"hotspotsOverlay\"]')[0], _this._root);\n                    _this._root = null;\n                    _this.stage = null;\n                });\n                this.bind(\"monitorEvent\", function () {\n                    _this.stage.notify({ type: NotifyEventTypes.Monitor });\n                });\n                this.bind(\"mediaLoaded\", function () {\n                    _this.handleVideoSizeChange();\n                });\n                this.bind(\"seeked\", function () {\n                    _this.stage.notify({ type: NotifyEventTypes.Seeked });\n                });\n            },\n            _getCurrentTime: function () {\n                return this.getPlayer().currentTime * 1000;\n            },\n            getComponent: function () {\n                if (!this.$el) {\n                    this.$el = jQuery(\"<div></div>\")\n                        .attr(\"id\", \"hotspotsOverlay\")\n                        .css({\n                        position: \"absolute\",\n                        height: \"100%\",\n                        width: \"100%\",\n                        top: 0,\n                        left: 0\n                    });\n                }\n                return this.$el;\n            }\n        }));\n    });\n})(window.mw, window.jQuery);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./player-v2/plugin.tsx\n// module id = null\n// module chunks = ","\"use strict\";\n!function () {\n    \"use strict\";\n    function e() { }\n    function t(t, n) {\n        var o, r, i, l, a = E;\n        for (l = arguments.length; l-- > 2;) {\n            W.push(arguments[l]);\n        }\n        n && null != n.children && (W.length || W.push(n.children), delete n.children);\n        while (W.length) {\n            if ((r = W.pop()) && void 0 !== r.pop)\n                for (l = r.length; l--;) {\n                    W.push(r[l]);\n                }\n            else\n                \"boolean\" == typeof r && (r = null), (i = \"function\" != typeof t) && (null == r ? r = \"\" : \"number\" == typeof r ? r += \"\" : \"string\" != typeof r && (i = !1)), i && o ? a[a.length - 1] += r : a === E ? a = [r] : a.push(r), o = i;\n        }\n        var u = new e();\n        return u.nodeName = t, u.children = a, u.attributes = null == n ? void 0 : n, u.key = null == n ? void 0 : n.key, void 0 !== S.vnode && S.vnode(u), u;\n    }\n    function n(e, t) {\n        for (var n in t) {\n            e[n] = t[n];\n        }\n        return e;\n    }\n    function o(e, o) {\n        return t(e.nodeName, n(n({}, e.attributes), o), arguments.length > 2 ? [].slice.call(arguments, 2) : e.children);\n    }\n    function r(e) {\n        !e.__d && (e.__d = !0) && 1 == A.push(e) && (S.debounceRendering || P)(i);\n    }\n    function i() {\n        var e, t = A;\n        A = [];\n        while (e = t.pop()) {\n            e.__d && k(e);\n        }\n    }\n    function l(e, t, n) {\n        return \"string\" == typeof t || \"number\" == typeof t ? void 0 !== e.splitText : \"string\" == typeof t.nodeName ? !e._componentConstructor && a(e, t.nodeName) : n || e._componentConstructor === t.nodeName;\n    }\n    function a(e, t) {\n        return e.__n === t || e.nodeName.toLowerCase() === t.toLowerCase();\n    }\n    function u(e) {\n        var t = n({}, e.attributes);\n        t.children = e.children;\n        var o = e.nodeName.defaultProps;\n        if (void 0 !== o)\n            for (var r in o) {\n                void 0 === t[r] && (t[r] = o[r]);\n            }\n        return t;\n    }\n    function _(e, t) {\n        var n = t ? document.createElementNS(\"http://www.w3.org/2000/svg\", e) : document.createElement(e);\n        return n.__n = e, n;\n    }\n    function p(e) {\n        var t = e.parentNode;\n        t && t.removeChild(e);\n    }\n    function c(e, t, n, o, r) {\n        if (\"className\" === t && (t = \"class\"), \"key\" === t)\n            ;\n        else if (\"ref\" === t)\n            n && n(null), o && o(e);\n        else if (\"class\" !== t || r) {\n            if (\"style\" === t) {\n                if (o && \"string\" != typeof o && \"string\" != typeof n || (e.style.cssText = o || \"\"), o && \"object\" == typeof o) {\n                    if (\"string\" != typeof n)\n                        for (var i in n) {\n                            i in o || (e.style[i] = \"\");\n                        }\n                    for (var i in o) {\n                        e.style[i] = \"number\" == typeof o[i] && !1 === V.test(i) ? o[i] + \"px\" : o[i];\n                    }\n                }\n            }\n            else if (\"dangerouslySetInnerHTML\" === t)\n                o && (e.innerHTML = o.__html || \"\");\n            else if (\"o\" == t[0] && \"n\" == t[1]) {\n                var l = t !== (t = t.replace(/Capture$/, \"\"));\n                t = t.toLowerCase().substring(2), o ? n || e.addEventListener(t, f, l) : e.removeEventListener(t, f, l), (e.__l || (e.__l = {}))[t] = o;\n            }\n            else if (\"list\" !== t && \"type\" !== t && !r && t in e)\n                s(e, t, null == o ? \"\" : o), null != o && !1 !== o || e.removeAttribute(t);\n            else {\n                var a = r && t !== (t = t.replace(/^xlink\\:?/, \"\"));\n                null == o || !1 === o ? a ? e.removeAttributeNS(\"http://www.w3.org/1999/xlink\", t.toLowerCase()) : e.removeAttribute(t) : \"function\" != typeof o && (a ? e.setAttributeNS(\"http://www.w3.org/1999/xlink\", t.toLowerCase(), o) : e.setAttribute(t, o));\n            }\n        }\n        else\n            e.className = o || \"\";\n    }\n    function s(e, t, n) {\n        try {\n            e[t] = n;\n        }\n        catch (e) { }\n    }\n    function f(e) {\n        return this.__l[e.type](S.event && S.event(e) || e);\n    }\n    function d() {\n        var e;\n        while (e = D.pop()) {\n            S.afterMount && S.afterMount(e), e.componentDidMount && e.componentDidMount();\n        }\n    }\n    function h(e, t, n, o, r, i) {\n        H++ || (R = null != r && void 0 !== r.ownerSVGElement, j = null != e && !(\"__preactattr_\" in e));\n        var l = m(e, t, n, o, i);\n        return r && l.parentNode !== r && r.appendChild(l), --H || (j = !1, i || d()), l;\n    }\n    function m(e, t, n, o, r) {\n        var i = e, l = R;\n        if (null != t && \"boolean\" != typeof t || (t = \"\"), \"string\" == typeof t || \"number\" == typeof t)\n            return e && void 0 !== e.splitText && e.parentNode && (!e._component || r) ? e.nodeValue != t && (e.nodeValue = t) : (i = document.createTextNode(t), e && (e.parentNode && e.parentNode.replaceChild(i, e), b(e, !0))), i.__preactattr_ = !0, i;\n        var u = t.nodeName;\n        if (\"function\" == typeof u)\n            return U(e, t, n, o);\n        if (R = \"svg\" === u || \"foreignObject\" !== u && R, u += \"\", (!e || !a(e, u)) && (i = _(u, R), e)) {\n            while (e.firstChild) {\n                i.appendChild(e.firstChild);\n            }\n            e.parentNode && e.parentNode.replaceChild(i, e), b(e, !0);\n        }\n        var p = i.firstChild, c = i.__preactattr_, s = t.children;\n        if (null == c) {\n            c = i.__preactattr_ = {};\n            for (var f = i.attributes, d = f.length; d--;) {\n                c[f[d].name] = f[d].value;\n            }\n        }\n        return !j && s && 1 === s.length && \"string\" == typeof s[0] && null != p && void 0 !== p.splitText && null == p.nextSibling ? p.nodeValue != s[0] && (p.nodeValue = s[0]) : (s && s.length || null != p) && v(i, s, n, o, j || null != c.dangerouslySetInnerHTML), g(i, t.attributes, c), R = l, i;\n    }\n    function v(e, t, n, o, r) {\n        var i, a, u, _, c, s = e.childNodes, f = [], d = {}, h = 0, v = 0, y = s.length, g = 0, w = t ? t.length : 0;\n        if (0 !== y)\n            for (var C = 0; C < y; C++) {\n                var x = s[C], N = x.__preactattr_, k = w && N ? x._component ? x._component.__k : N.key : null;\n                null != k ? (h++, d[k] = x) : (N || (void 0 !== x.splitText ? !r || x.nodeValue.trim() : r)) && (f[g++] = x);\n            }\n        if (0 !== w)\n            for (var C = 0; C < w; C++) {\n                _ = t[C], c = null;\n                var k = _.key;\n                if (null != k)\n                    h && void 0 !== d[k] && (c = d[k], d[k] = void 0, h--);\n                else if (!c && v < g)\n                    for (i = v; i < g; i++) {\n                        if (void 0 !== f[i] && l(a = f[i], _, r)) {\n                            c = a, f[i] = void 0, i === g - 1 && g--, i === v && v++;\n                            break;\n                        }\n                    }\n                c = m(c, _, n, o), u = s[C], c && c !== e && c !== u && (null == u ? e.appendChild(c) : c === u.nextSibling ? p(u) : e.insertBefore(c, u));\n            }\n        if (h)\n            for (var C in d) {\n                void 0 !== d[C] && b(d[C], !1);\n            }\n        while (v <= g) {\n            void 0 !== (c = f[g--]) && b(c, !1);\n        }\n    }\n    function b(e, t) {\n        var n = e._component;\n        n ? L(n) : (null != e.__preactattr_ && e.__preactattr_.ref && e.__preactattr_.ref(null), !1 !== t && null != e.__preactattr_ || p(e), y(e));\n    }\n    function y(e) {\n        e = e.lastChild;\n        while (e) {\n            var t = e.previousSibling;\n            b(e, !0), e = t;\n        }\n    }\n    function g(e, t, n) {\n        var o;\n        for (o in n) {\n            t && null != t[o] || null == n[o] || c(e, o, n[o], n[o] = void 0, R);\n        }\n        for (o in t) {\n            \"children\" === o || \"innerHTML\" === o || o in n && t[o] === (\"value\" === o || \"checked\" === o ? e[o] : n[o]) || c(e, o, n[o], n[o] = t[o], R);\n        }\n    }\n    function w(e) {\n        var t = e.constructor.name;\n        (I[t] || (I[t] = [])).push(e);\n    }\n    function C(e, t, n) {\n        var o, r = I[e.name];\n        if (e.prototype && e.prototype.render ? (o = new e(t, n), T.call(o, t, n)) : (o = new T(t, n), o.constructor = e, o.render = x), r)\n            for (var i = r.length; i--;) {\n                if (r[i].constructor === e) {\n                    o.__b = r[i].__b, r.splice(i, 1);\n                    break;\n                }\n            }\n        return o;\n    }\n    function x(e, t, n) {\n        return this.constructor(e, n);\n    }\n    function N(e, t, n, o, i) {\n        e.__x || (e.__x = !0, (e.__r = t.ref) && delete t.ref, (e.__k = t.key) && delete t.key, !e.base || i ? e.componentWillMount && e.componentWillMount() : e.componentWillReceiveProps && e.componentWillReceiveProps(t, o), o && o !== e.context && (e.__c || (e.__c = e.context), e.context = o), e.__p || (e.__p = e.props), e.props = t, e.__x = !1, 0 !== n && (1 !== n && !1 === S.syncComponentUpdates && e.base ? r(e) : k(e, 1, i)), e.__r && e.__r(e));\n    }\n    function k(e, t, o, r) {\n        if (!e.__x) {\n            var i, l, a, _ = e.props, p = e.state, c = e.context, s = e.__p || _, f = e.__s || p, m = e.__c || c, v = e.base, y = e.__b, g = v || y, w = e._component, x = !1;\n            if (v && (e.props = s, e.state = f, e.context = m, 2 !== t && e.shouldComponentUpdate && !1 === e.shouldComponentUpdate(_, p, c) ? x = !0 : e.componentWillUpdate && e.componentWillUpdate(_, p, c), e.props = _, e.state = p, e.context = c), e.__p = e.__s = e.__c = e.__b = null, e.__d = !1, !x) {\n                i = e.render(_, p, c), e.getChildContext && (c = n(n({}, c), e.getChildContext()));\n                var U, T, M = i && i.nodeName;\n                if (\"function\" == typeof M) {\n                    var W = u(i);\n                    l = w, l && l.constructor === M && W.key == l.__k ? N(l, W, 1, c, !1) : (U = l, e._component = l = C(M, W, c), l.__b = l.__b || y, l.__u = e, N(l, W, 0, c, !1), k(l, 1, o, !0)), T = l.base;\n                }\n                else\n                    a = g, U = w, U && (a = e._component = null), (g || 1 === t) && (a && (a._component = null), T = h(a, i, c, o || !v, g && g.parentNode, !0));\n                if (g && T !== g && l !== w) {\n                    var E = g.parentNode;\n                    E && T !== E && (E.replaceChild(T, g), U || (g._component = null, b(g, !1)));\n                }\n                if (U && L(U), e.base = T, T && !r) {\n                    var P = e, V = e;\n                    while (V = V.__u) {\n                        (P = V).base = T;\n                    }\n                    T._component = P, T._componentConstructor = P.constructor;\n                }\n            }\n            if (!v || o ? D.unshift(e) : x || (e.componentDidUpdate && e.componentDidUpdate(s, f, m), S.afterUpdate && S.afterUpdate(e)), null != e.__h)\n                while (e.__h.length) {\n                    e.__h.pop().call(e);\n                }\n            H || r || d();\n        }\n    }\n    function U(e, t, n, o) {\n        var r = e && e._component, i = r, l = e, a = r && e._componentConstructor === t.nodeName, _ = a, p = u(t);\n        while (r && !_ && (r = r.__u)) {\n            _ = r.constructor === t.nodeName;\n        }\n        return r && _ && (!o || r._component) ? (N(r, p, 3, n, o), e = r.base) : (i && !a && (L(i), e = l = null), r = C(t.nodeName, p, n), e && !r.__b && (r.__b = e, l = null), N(r, p, 1, n, o), e = r.base, l && e !== l && (l._component = null, b(l, !1))), e;\n    }\n    function L(e) {\n        S.beforeUnmount && S.beforeUnmount(e);\n        var t = e.base;\n        e.__x = !0, e.componentWillUnmount && e.componentWillUnmount(), e.base = null;\n        var n = e._component;\n        n ? L(n) : t && (t.__preactattr_ && t.__preactattr_.ref && t.__preactattr_.ref(null), e.__b = t, p(t), w(e), y(t)), e.__r && e.__r(null);\n    }\n    function T(e, t) {\n        this.__d = !0, this.context = t, this.props = e, this.state = this.state || {};\n    }\n    function M(e, t, n) {\n        return h(n, e, {}, !1, t, !1);\n    }\n    var S = {}, W = [], E = [], P = \"function\" == typeof Promise ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout, V = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i, A = [], D = [], H = 0, R = !1, j = !1, I = {};\n    n(T.prototype, { setState: function setState(e, t) {\n            var o = this.state;\n            this.__s || (this.__s = n({}, o)), n(o, \"function\" == typeof e ? e(o, this.props) : e), t && (this.__h = this.__h || []).push(t), r(this);\n        }, forceUpdate: function forceUpdate(e) {\n            e && (this.__h = this.__h || []).push(e), k(this, 2);\n        }, render: function render() { } });\n    var $ = { h: t, createElement: t, cloneElement: o, Component: T, render: M, rerender: i, options: S };\n    \"undefined\" != typeof module ? module.exports = $ : self.preact = $;\n}();\n//# sourceMappingURL=preact.min.js.map\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/preact/dist/preact.min.js\n// module id = KM04\n// module chunks = 0","'use strict';\nvar _preact = require('preact');\nif (process.env.NODE_ENV === 'development') {\n    require('preact/devtools');\n}\nelse if (process.env.ADD_SW && 'serviceWorker' in navigator && location.protocol === 'https:') {\n    navigator.serviceWorker.register(__webpack_public_path__ + 'sw.js');\n}\nvar interopDefault = function interopDefault(m) {\n    return m && m[\"default\"] ? m[\"default\"] : m;\n};\nvar app = interopDefault(require('preact-cli-entrypoint'));\nif (typeof app === 'function') {\n    var root = document.body.firstElementChild;\n    var init = function init() {\n        var app = interopDefault(require('preact-cli-entrypoint'));\n        root = (0, _preact.render)((0, _preact.h)(app), document.body, root);\n    };\n    if (module.hot)\n        module.hot.accept('preact-cli-entrypoint', init);\n    init();\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/preact-cli/lib/lib/entry.js\n// module id = pwNi\n// module chunks = 0"],"sourceRoot":""}
