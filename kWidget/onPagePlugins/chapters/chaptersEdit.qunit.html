<!DOCTYPE HTML>
<html>
<head>
<title>Chapters edit page</title>
<script type="text/javascript" src="../../../tests/qunit/qunit-bootstrap.js"></script>
<script type="text/javascript" src="../../../mwEmbedLoader.php"></script>
<script type="text/javascript" src="../../../docs/js/doc-bootstrap.js"></script>
<script type="text/javascript">	

//Enable uiconf js which includes external resources ( not needed if resources are defined in uiConf )
mw.setConfig('Kaltura.EnableEmbedUiConfJs', true);

function jsKalturaPlayerTest( videoId ){
	// Name this module
	module( "Chapters edit test" );
	var kdp = $('#' + videoId )[0];
	var $iframe = $('#' + videoId + '_ifp').contents();
	
	asyncTest( "Check for chapters container", function(){
		kalturaQunitWaitForPlayer(function(){
			// look for description box id: 
			//ok( $( '#descriptionBox_' + videoId ).length, "Found descriptionBox div" );
			start();
		});
	});
	
}

</script>
<!-- qunit-kaltura must come after qunit-bootstrap.js and after mwEmbedLoader.php and after any jsCallbackReady stuff-->
<script type="text/javascript" src="../../../modules/KalturaSupport/tests/resources/qunit-kaltura-bootstrap.js"></script>
</head>
<body>
<h2> Chapters Edit </h2>
<div id="chaptersDoc"></div>

<div>
	<div id="kaltura_player" style="width:400px;height:330px;float:left"></div>
	<div id="k-chapterProp" style="float:left;width:400px"></div>
	<div style="clear:both"></div>
	<div id="k-chapterTimeline" style="width:800px"></div>
</div>
<script>
kWidget.featureConfig({
	'featureConfigId': 'chaptersDoc',
	// The kWidget.embed call is passed as config to support overides
	'embed': {
		'targetId' : 'kaltura_player',
		'wid' : '_243342',
		'uiconf_id' : '2877502',
		'entry_id' : '1_w4fqa380',
		'flashvars':  {
			'chaptersEdit' :{
				'plugin': true,
				'ks' : null, // should be set via settings
				'path' : "/content/uiconf/ps/kaltura/kdp/v3.6.9/plugins/facadePlugin.swf",
				'relativeTo': 'video',
				'position': 'before',
				
				'customDataFields': 'desc,thumbUrl',
				'editPropId': 'k-chapterProp',
				'editTimelineId': 'k-chapterTimeline',
				'tags' : 'chaptering',

				'requiresJQuery' : true,
				'onPageJs1': "{onPagePluginPath}/chapters/chaptersEdit.js",
				'onPageCss1': "{onPagePluginPath}/chapters/chaptersEdit.css",
				// get the shared cuepoint data controller: 
				'onPageJs2': "{onPagePluginPath}/chapters/kWidget.cuePointsDataController.js"
			}
		}
	}
});
</script>

</body>
</html>